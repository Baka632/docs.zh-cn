---
title: .NET Framework 中的性能计数器
description: 阅读有关 .NET 中性能计数器的信息。 存在用于异常、互操作、JIT 编译器、加载、内存、网络、安全性等的性能计数器。
ms.date: 03/30/2017
helpviewer_keywords:
- performance, .NET Framework applications
- performance counters
- performance monitoring, counters
ms.assetid: 06a4ae8c-eeb2-4d5a-817e-b1b95c0653e1
ms.openlocfilehash: 1b5ca6484f45dcee33009d8b8c12a43fa41f63de
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/15/2020
ms.locfileid: "90554444"
---
# <a name="performance-counters-in-the-net-framework"></a><span data-ttu-id="45006-104">.NET Framework 中的性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-104">Performance counters in the .NET Framework</span></span>

<span data-ttu-id="45006-105">本主题提供了可在 [Windows 性能监视器](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc749249(v=ws.11))中查找的性能计数器的列表。</span><span class="sxs-lookup"><span data-stu-id="45006-105">This topic provides a list of performance counters you can find in the [Windows Performance Monitor](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc749249(v=ws.11)).</span></span>  

## <a name="exception-performance-counters"></a><span data-ttu-id="45006-106">异常性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-106">Exception performance counters</span></span>  
 <span data-ttu-id="45006-107">性能控制台 .NET CLR Exceptions（异常）类别包含的计算取提供应用程序引发的异常的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-107">The Performance console .NET CLR Exceptions category includes counters that provide information about the exceptions thrown by an application.</span></span> <span data-ttu-id="45006-108">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-108">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-109">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-109">Performance counter</span></span>|<span data-ttu-id="45006-110">说明</span><span class="sxs-lookup"><span data-stu-id="45006-110">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-111">**引发的异常数**</span><span class="sxs-lookup"><span data-stu-id="45006-111">**# of Exceps Thrown**</span></span>|<span data-ttu-id="45006-112">显示从应用程序启动以来引发的异常总数。</span><span class="sxs-lookup"><span data-stu-id="45006-112">Displays the total number of exceptions thrown since the application started.</span></span> <span data-ttu-id="45006-113">此数值包括 .NET 异常和转换为 .NET 异常的非托管异常。</span><span class="sxs-lookup"><span data-stu-id="45006-113">This includes both .NET exceptions and unmanaged exceptions that are converted into .NET exceptions.</span></span> <span data-ttu-id="45006-114">例如，从非托管代码返回的 HRESULT 在托管代码中会被转换为异常。</span><span class="sxs-lookup"><span data-stu-id="45006-114">For example, an HRESULT returned from unmanaged code is converted to an exception in managed code.</span></span><br /><br /> <span data-ttu-id="45006-115">此计数器包括已处理和未经处理的异常。</span><span class="sxs-lookup"><span data-stu-id="45006-115">This counter includes both handled and unhandled exceptions.</span></span> <span data-ttu-id="45006-116">将再次计算重新引发的异常。</span><span class="sxs-lookup"><span data-stu-id="45006-116">Exceptions that are rethrown are counted again.</span></span>|  
|<span data-ttu-id="45006-117">**引发的异常数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-117">**# of Exceps Thrown / Sec**</span></span>|<span data-ttu-id="45006-118">显示每秒引发的异常数。</span><span class="sxs-lookup"><span data-stu-id="45006-118">Displays the number of exceptions thrown per second.</span></span> <span data-ttu-id="45006-119">此数值包括 .NET 异常和转换为 .NET 异常的非托管异常。</span><span class="sxs-lookup"><span data-stu-id="45006-119">This includes both .NET exceptions and unmanaged exceptions that are converted into .NET exceptions.</span></span> <span data-ttu-id="45006-120">例如，从非托管代码返回的 HRESULT 在托管代码中会被转换为异常。</span><span class="sxs-lookup"><span data-stu-id="45006-120">For example, an HRESULT returned from unmanaged code is converted to an exception in managed code.</span></span><br /><br /> <span data-ttu-id="45006-121">此计数器包括已处理和未经处理的异常。</span><span class="sxs-lookup"><span data-stu-id="45006-121">This counter includes both handled and unhandled exceptions.</span></span> <span data-ttu-id="45006-122">此数值不是一段时间内的平均值；它显示最后两个示例中观测值的差除以示例间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-122">It is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span> <span data-ttu-id="45006-123">如果出现大量 ( # B0 数百) 个异常，则此计数器将指示潜在的性能问题。</span><span class="sxs-lookup"><span data-stu-id="45006-123">This counter is an indicator of potential performance problems if a large (>100s) number of exceptions are thrown.</span></span>|  
|<span data-ttu-id="45006-124">**筛选次数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-124">**# of Filters / Sec**</span></span>|<span data-ttu-id="45006-125">显示每秒执行的 .NET 异常筛选次数。</span><span class="sxs-lookup"><span data-stu-id="45006-125">Displays the number of .NET exception filters executed per second.</span></span> <span data-ttu-id="45006-126">无论异常是否已处理，都会计算异常筛选。</span><span class="sxs-lookup"><span data-stu-id="45006-126">An exception filter evaluates regardless of whether an exception is handled.</span></span><br /><br /> <span data-ttu-id="45006-127">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-127">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-128">**Finally 数量/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-128">**# of Finallys / Sec**</span></span>|<span data-ttu-id="45006-129">显示每秒执行的 finally 块的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-129">Displays the number of finally blocks executed per second.</span></span> <span data-ttu-id="45006-130">无论以何种方式退出 try 块，均会执行 finally 块。</span><span class="sxs-lookup"><span data-stu-id="45006-130">A finally block is guaranteed to be executed regardless of how the try block was exited.</span></span>  <span data-ttu-id="45006-131">此计数器只计算到为异常执行的 finally 块，不计算正常代码路径上的 finally 块。</span><span class="sxs-lookup"><span data-stu-id="45006-131">Only the finally blocks executed for an exception are counted; finally blocks on normal code paths are not counted by this counter.</span></span><br /><br /> <span data-ttu-id="45006-132">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-132">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-133">**引发到捕获的深度/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-133">**Throw to Catch Depth / Sec**</span></span>|<span data-ttu-id="45006-134">显示从引发异常的帧到处理该异常的帧每秒遍历的堆栈帧数。</span><span class="sxs-lookup"><span data-stu-id="45006-134">Displays the number of stack frames traversed, from the frame that threw the exception to the frame that handled the exception, per second.</span></span> <span data-ttu-id="45006-135">此计数器在输入异常处理程序后重置为零，因此嵌入的异常显示处理程序到处理程序的堆栈深度。</span><span class="sxs-lookup"><span data-stu-id="45006-135">This counter resets to zero when an exception handler is entered, so nested exceptions show the handler-to-handler stack depth.</span></span><br /><br /> <span data-ttu-id="45006-136">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-136">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  

## <a name="interop-performance-counters"></a><span data-ttu-id="45006-137">互操作性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-137">Interop performance counters</span></span>  
 <span data-ttu-id="45006-138">性能控制台 .NET CLR Interop（互操作）类别包括的计数器提供应用程序与 COM 组件、COM + 服务和外部类型库交互的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-138">The Performance console .NET CLR Interop category includes counters that provide information about an application's interaction with COM components, COM+ services, and external type libraries.</span></span> <span data-ttu-id="45006-139">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-139">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-140">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-140">Performance counter</span></span>|<span data-ttu-id="45006-141">说明</span><span class="sxs-lookup"><span data-stu-id="45006-141">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-142">**CCW 数目**</span><span class="sxs-lookup"><span data-stu-id="45006-142">**# of CCWs**</span></span>|<span data-ttu-id="45006-143">显示 COM 可调用包装 (CCW) 的当前数目。</span><span class="sxs-lookup"><span data-stu-id="45006-143">Displays the current number of COM callable wrappers (CCWs).</span></span> <span data-ttu-id="45006-144">CCW 是指正在从非托管 COM 客户端引用的托管对象的代理。</span><span class="sxs-lookup"><span data-stu-id="45006-144">A CCW is a proxy for a managed object being referenced from an unmanaged COM client.</span></span> <span data-ttu-id="45006-145">此计数器显示非托管 COM 代码所引用的托管对象数。</span><span class="sxs-lookup"><span data-stu-id="45006-145">This counter indicates the number of managed objects referenced by unmanaged COM code.</span></span>|  
|<span data-ttu-id="45006-146">**封送处理次数**</span><span class="sxs-lookup"><span data-stu-id="45006-146">**# of marshaling**</span></span>|<span data-ttu-id="45006-147">显示从应用程序启动以来已将参数和返回值从托管代码封送至非托管代码（反之亦然）的总次数。</span><span class="sxs-lookup"><span data-stu-id="45006-147">Displays the total number of times arguments and return values have been marshaled from managed to unmanaged code, and vice versa, since the application started.</span></span> <span data-ttu-id="45006-148">如果存根内联，则此计数器不会递增。</span><span class="sxs-lookup"><span data-stu-id="45006-148">This counter is not incremented if the stubs are inlined.</span></span> <span data-ttu-id="45006-149">（存根负责封送处理参数和返回值）。</span><span class="sxs-lookup"><span data-stu-id="45006-149">(Stubs are responsible for marshaling arguments and return values).</span></span> <span data-ttu-id="45006-150">如果封送处理开销很小，存根通常为内联。</span><span class="sxs-lookup"><span data-stu-id="45006-150">Stubs are usually inlined if the marshaling overhead is small.</span></span>|  
|<span data-ttu-id="45006-151">**存根数**</span><span class="sxs-lookup"><span data-stu-id="45006-151">**# of Stubs**</span></span>|<span data-ttu-id="45006-152">显示由公共语言运行时创建的当前存根数。</span><span class="sxs-lookup"><span data-stu-id="45006-152">Displays the current number of stubs created by the common language runtime.</span></span> <span data-ttu-id="45006-153">存根负责在 COM 互操作调用或平台 invoke 调用期间将自变量和返回值从托管代码封送值非托管代码（或反之）。</span><span class="sxs-lookup"><span data-stu-id="45006-153">Stubs are responsible for marshaling arguments and return values from managed to unmanaged code, and vice versa, during a COM interop call or a platform invoke call.</span></span>|  
|<span data-ttu-id="45006-154">**TLB 导出次数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-154">**# of TLB exports / sec**</span></span>|<span data-ttu-id="45006-155">留待将来使用。</span><span class="sxs-lookup"><span data-stu-id="45006-155">Reserved for future use.</span></span>|  
|<span data-ttu-id="45006-156">**TLB 导入次数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-156">**# of TLB imports / sec**</span></span>|<span data-ttu-id="45006-157">留待将来使用。</span><span class="sxs-lookup"><span data-stu-id="45006-157">Reserved for future use.</span></span>|  

## <a name="jit-performance-counters"></a><span data-ttu-id="45006-158">JIT 性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-158">JIT performance counters</span></span>  
 <span data-ttu-id="45006-159">性能控制台 .NET CLR JIT 类别包括的计数器提供已进行 JIT 编译的代码的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-159">The Performance console .NET CLR JIT category includes counters that provide information about code that has been JIT-compiled.</span></span> <span data-ttu-id="45006-160">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-160">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-161">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-161">Performance counter</span></span>|<span data-ttu-id="45006-162">说明</span><span class="sxs-lookup"><span data-stu-id="45006-162">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-163">**实时编译的 IL 字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-163">**# of IL Bytes JITted**</span></span>|<span data-ttu-id="45006-164">显示从应用程序启动以来，由实时 (JIT) 编译器编译的 Microsoft 中间语言 (MSIL) 字节总数。</span><span class="sxs-lookup"><span data-stu-id="45006-164">Displays the total number of Microsoft intermediate language (MSIL) bytes compiled by the just-in-time (JIT) compiler since the application started.</span></span> <span data-ttu-id="45006-165">此计数器等效于“实时编译的 IL 字节总数”计数器。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-165">This counter is equivalent to the **Total # of IL Bytes Jitted** counter.</span></span>|  
|<span data-ttu-id="45006-166">**实时编译的方法数**</span><span class="sxs-lookup"><span data-stu-id="45006-166">**# of Methods JITted**</span></span>|<span data-ttu-id="45006-167">显示从应用程序启动以来 JIT 编译的方法总数。</span><span class="sxs-lookup"><span data-stu-id="45006-167">Displays the total number of methods JIT-compiled since the application started.</span></span> <span data-ttu-id="45006-168">此计数器不包括预先进行 JIT 编译的方法。</span><span class="sxs-lookup"><span data-stu-id="45006-168">This counter does not include pre-JIT-compiled methods.</span></span>|  
|<span data-ttu-id="45006-169">**JIT 所占时间百分比**</span><span class="sxs-lookup"><span data-stu-id="45006-169">**% Time in Jit**</span></span>|<span data-ttu-id="45006-170">显示自上次 JIT 编译阶段以来 JIT 编译所用运行占用时间的百分比。</span><span class="sxs-lookup"><span data-stu-id="45006-170">Displays the percentage of elapsed time spent in JIT compilation since the last JIT compilation phase.</span></span> <span data-ttu-id="45006-171">此计数器在每个 JIT 编译阶段结束时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-171">This counter is updated at the end of every JIT compilation phase.</span></span> <span data-ttu-id="45006-172">编译方法及其依赖关系时即发生 JIT 编译阶段。</span><span class="sxs-lookup"><span data-stu-id="45006-172">A JIT compilation phase occurs when a method and its dependencies are compiled.</span></span>|  
|<span data-ttu-id="45006-173">**实时编译的 IL 字节/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-173">**IL Bytes Jitted / sec**</span></span>|<span data-ttu-id="45006-174">显示每秒 JIT 编译的 MSIL 字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-174">Displays the number of MSIL bytes that are JIT-compiled per second.</span></span> <span data-ttu-id="45006-175">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-175">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-176">**标准 JIT 失败**</span><span class="sxs-lookup"><span data-stu-id="45006-176">**Standard Jit Failures**</span></span>|<span data-ttu-id="45006-177">显示自应用程序启动以来 JIT 编译器编译失败的方法的高峰数量。</span><span class="sxs-lookup"><span data-stu-id="45006-177">Displays the peak number of methods the JIT compiler has failed to compile since the application started.</span></span> <span data-ttu-id="45006-178">如果无法验证 MSIL 或者 JIT 编译器中出现内部错误，则可能发生此失败。</span><span class="sxs-lookup"><span data-stu-id="45006-178">This failure can occur if the MSIL cannot be verified or if there is an internal error in the JIT compiler.</span></span>|  
|<span data-ttu-id="45006-179">**实时编译的 IL 字节总数**</span><span class="sxs-lookup"><span data-stu-id="45006-179">**Total # of IL Bytes Jitted**</span></span>|<span data-ttu-id="45006-180">显示自应用程序启动以来 JIT 编译的 MSIL 字节总数。</span><span class="sxs-lookup"><span data-stu-id="45006-180">Displays the total MSIL bytes JIT-compiled since the application started.</span></span> <span data-ttu-id="45006-181">此计数器等效于“实时编译的 IL 字节数”计数器。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-181">This counter is equivalent to the **# of IL Bytes Jitted** counter.</span></span>|  

## <a name="loading-performance-counters"></a><span data-ttu-id="45006-182">加载性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-182">Loading performance counters</span></span>  
 <span data-ttu-id="45006-183">性能控制台 .NET CLR Loading（加载）类别包括的计数器提供已加载的程序集、类和应用程序域的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-183">The Performance console .NET CLR Loading category includes counters that provide information about assemblies, classes, and application domains that are loaded.</span></span> <span data-ttu-id="45006-184">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-184">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-185">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-185">Performance counter</span></span>|<span data-ttu-id="45006-186">说明</span><span class="sxs-lookup"><span data-stu-id="45006-186">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-187">**加载时间所占百分比**</span><span class="sxs-lookup"><span data-stu-id="45006-187">**% Time Loading**</span></span>|<span data-ttu-id="45006-188">留待将来使用。</span><span class="sxs-lookup"><span data-stu-id="45006-188">Reserved for future use.</span></span>|  
|<span data-ttu-id="45006-189">**程序集搜索长度**</span><span class="sxs-lookup"><span data-stu-id="45006-189">**Assembly Search Length**</span></span>|<span data-ttu-id="45006-190">留待将来使用。</span><span class="sxs-lookup"><span data-stu-id="45006-190">Reserved for future use.</span></span>|  
|<span data-ttu-id="45006-191">**加载程序堆中的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-191">**Bytes in Loader Heap**</span></span>|<span data-ttu-id="45006-192">显示所有应用程序域中类加载程序提交的当前内存大小（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-192">Displays the current size, in bytes, of the memory committed by the class loader across all application domains.</span></span> <span data-ttu-id="45006-193">提交的内存是磁盘页面文件中保留的物理空间。</span><span class="sxs-lookup"><span data-stu-id="45006-193">Committed memory is the physical space reserved in the disk paging file.</span></span>|  
|<span data-ttu-id="45006-194">**当前 Appdomain 数**</span><span class="sxs-lookup"><span data-stu-id="45006-194">**Current appdomains**</span></span>|<span data-ttu-id="45006-195">显示在此应用程序中加载的应用程序域的当前数目。</span><span class="sxs-lookup"><span data-stu-id="45006-195">Displays the current number of application domains loaded in this application.</span></span>|  
|<span data-ttu-id="45006-196">**当前程序集**</span><span class="sxs-lookup"><span data-stu-id="45006-196">**Current Assemblies**</span></span>|<span data-ttu-id="45006-197">显示当前运行的应用程序中所有应用程序域范围内已加载的当前程序集数量。</span><span class="sxs-lookup"><span data-stu-id="45006-197">Displays the current number of assemblies loaded across all application domains in the currently running application.</span></span> <span data-ttu-id="45006-198">如果程序集以非特定于域的形式从多个应用程序域中加载，则此计数器只递增一次。</span><span class="sxs-lookup"><span data-stu-id="45006-198">If the assembly is loaded as domain-neutral from multiple application domains, this counter is incremented only once.</span></span>|  
|<span data-ttu-id="45006-199">**当前已加载的类**</span><span class="sxs-lookup"><span data-stu-id="45006-199">**Current Classes Loaded**</span></span>|<span data-ttu-id="45006-200">显示所有程序集中已加载类的当前数目。</span><span class="sxs-lookup"><span data-stu-id="45006-200">Displays the current number of classes loaded in all assemblies.</span></span>|  
|<span data-ttu-id="45006-201">**Appdomain 速率**</span><span class="sxs-lookup"><span data-stu-id="45006-201">**Rate of appdomains**</span></span>|<span data-ttu-id="45006-202">显示每秒加载的应用程序域的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-202">Displays the number of application domains loaded per second.</span></span> <span data-ttu-id="45006-203">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-203">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-204">**卸载 Appdomain 的速率**</span><span class="sxs-lookup"><span data-stu-id="45006-204">**Rate of appdomains unloaded**</span></span>|<span data-ttu-id="45006-205">显示每秒卸载的应用程序域的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-205">Displays the number of application domains unloaded per second.</span></span> <span data-ttu-id="45006-206">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-206">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-207">**程序集速率**</span><span class="sxs-lookup"><span data-stu-id="45006-207">**Rate of Assemblies**</span></span>|<span data-ttu-id="45006-208">显示所有应用程序域范围内每秒加载的程序集数量。</span><span class="sxs-lookup"><span data-stu-id="45006-208">Displays the number of assemblies loaded per second across all application domains.</span></span> <span data-ttu-id="45006-209">如果程序集以非特定于域的形式从多个应用程序域中加载，则此计数器只递增一次。</span><span class="sxs-lookup"><span data-stu-id="45006-209">If the assembly is loaded as domain-neutral from multiple application domains, this counter is incremented only once.</span></span><br /><br /> <span data-ttu-id="45006-210">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-210">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-211">**加载类的速率**</span><span class="sxs-lookup"><span data-stu-id="45006-211">**Rate of Classes Loaded**</span></span>|<span data-ttu-id="45006-212">显示所有程序集中每秒加载的类的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-212">Displays the number of classes loaded per second in all assemblies.</span></span> <span data-ttu-id="45006-213">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-213">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-214">**加载失败的速率**</span><span class="sxs-lookup"><span data-stu-id="45006-214">**Rate of Load Failures**</span></span>|<span data-ttu-id="45006-215">显示每秒加载失败的类的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-215">Displays the number of classes that failed to load per second.</span></span> <span data-ttu-id="45006-216">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-216">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span><br /><br /> <span data-ttu-id="45006-217">加载失败的原因有很多，例如安全性不够或格式无效。</span><span class="sxs-lookup"><span data-stu-id="45006-217">Load failures can occur for many reasons, such as inadequate security or invalid format.</span></span> <span data-ttu-id="45006-218">有关详细信息，请参阅分析服务帮助。</span><span class="sxs-lookup"><span data-stu-id="45006-218">For details, see the profiling services Help.</span></span>|  
|<span data-ttu-id="45006-219">**加载失败总数**</span><span class="sxs-lookup"><span data-stu-id="45006-219">**Total # of Load Failures**</span></span>|<span data-ttu-id="45006-220">显示自应用程序启动以来加载失败的类的高峰数量。</span><span class="sxs-lookup"><span data-stu-id="45006-220">Displays the peak number of classes that have failed to load since the application started.</span></span><br /><br /> <span data-ttu-id="45006-221">加载失败的原因有很多，例如安全性不够或格式无效。</span><span class="sxs-lookup"><span data-stu-id="45006-221">Load failures can occur for many reasons, such as inadequate security or invalid format.</span></span> <span data-ttu-id="45006-222">有关详细信息，请参阅分析服务帮助。</span><span class="sxs-lookup"><span data-stu-id="45006-222">For details, see the profiling services Help.</span></span>|  
|<span data-ttu-id="45006-223">**Appdomain 总数**</span><span class="sxs-lookup"><span data-stu-id="45006-223">**Total Appdomains**</span></span>|<span data-ttu-id="45006-224">显示自应用程序启动以来已加载的应用程序域的高峰数量。</span><span class="sxs-lookup"><span data-stu-id="45006-224">Displays the peak number of application domains loaded since the application started.</span></span>|  
|<span data-ttu-id="45006-225">**卸载的 Appdomain 总数**</span><span class="sxs-lookup"><span data-stu-id="45006-225">**Total appdomains unloaded**</span></span>|<span data-ttu-id="45006-226">显示自应用程序启动以来卸载的应用程序的高峰数量。</span><span class="sxs-lookup"><span data-stu-id="45006-226">Displays the total number of application domains unloaded since the application started.</span></span> <span data-ttu-id="45006-227">如果应用程序域加载和卸载多次，则此计数器将在每次卸载应用程序域时均递增。</span><span class="sxs-lookup"><span data-stu-id="45006-227">If an application domain is loaded and unloaded multiple times, this counter increments each time the application domain is unloaded.</span></span>|  
|<span data-ttu-id="45006-228">**程序集总数**</span><span class="sxs-lookup"><span data-stu-id="45006-228">**Total Assemblies**</span></span>|<span data-ttu-id="45006-229">显示自应用程序启动以来加载的程序集总数。</span><span class="sxs-lookup"><span data-stu-id="45006-229">Displays the total number of assemblies loaded since the application started.</span></span> <span data-ttu-id="45006-230">如果程序集以非特定于域的形式从多个应用程序域中加载，则此计数器只递增一次。</span><span class="sxs-lookup"><span data-stu-id="45006-230">If the assembly is loaded as domain-neutral from multiple application domains, this counter is incremented only once.</span></span>|  
|<span data-ttu-id="45006-231">**已加载的类总数**</span><span class="sxs-lookup"><span data-stu-id="45006-231">**Total Classes Loaded**</span></span>|<span data-ttu-id="45006-232">显示自应用程序启动以来所有程序集中加载的类的累计数量。</span><span class="sxs-lookup"><span data-stu-id="45006-232">Displays the cumulative number of classes loaded in all assemblies since the application started.</span></span>|  

## <a name="lock-and-thread-performance-counters"></a><span data-ttu-id="45006-233">锁定和线程性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-233">Lock and thread performance counters</span></span>  
 <span data-ttu-id="45006-234">性能控制台 .NET CLR LocksAndThreads（锁定和线程）类别包括的计数器提供应用程序所使用的托管锁定和线程的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-234">The Performance console .NET CLR LocksAndThreads category includes counters that provide information about managed locks and threads that an application uses.</span></span> <span data-ttu-id="45006-235">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-235">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-236">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-236">Performance counter</span></span>|<span data-ttu-id="45006-237">说明</span><span class="sxs-lookup"><span data-stu-id="45006-237">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-238">**当前逻辑线程数目**</span><span class="sxs-lookup"><span data-stu-id="45006-238">**# of current logical Threads**</span></span>|<span data-ttu-id="45006-239">显示应用程序中当前托管的线程对象的数目。</span><span class="sxs-lookup"><span data-stu-id="45006-239">Displays the number of current managed thread objects in the application.</span></span> <span data-ttu-id="45006-240">此计数器保留正在运行和已停止的线程的计数。</span><span class="sxs-lookup"><span data-stu-id="45006-240">This counter maintains the count of both running and stopped threads.</span></span> <span data-ttu-id="45006-241">此计数器不是一段时间内的平均值；它仅显示的上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-241">This counter is not an average over time; it displays only the last observed value.</span></span>|  
|<span data-ttu-id="45006-242">**当前物理线程数目**</span><span class="sxs-lookup"><span data-stu-id="45006-242">**# of current physical Threads**</span></span>|<span data-ttu-id="45006-243">显示公共语言运行时创建和拥有以用作托管线程对象的基础线程的本机操作系统线程数。</span><span class="sxs-lookup"><span data-stu-id="45006-243">Displays the number of native operating system threads created and owned by the common language runtime to act as underlying threads for managed thread objects.</span></span> <span data-ttu-id="45006-244">此计数器的值不包括运行时在其内部操作中使用的线程；它是操作系统进程中线程的子集。</span><span class="sxs-lookup"><span data-stu-id="45006-244">This counter's value does not include the threads used by the runtime in its internal operations; it is a subset of the threads in the operating system process.</span></span>|  
|<span data-ttu-id="45006-245">**当前已识别的线程数目**</span><span class="sxs-lookup"><span data-stu-id="45006-245">**# of current recognized threads**</span></span>|<span data-ttu-id="45006-246">显示当前已由运行时识别的线程数。</span><span class="sxs-lookup"><span data-stu-id="45006-246">Displays the number of threads that are currently recognized by the runtime.</span></span> <span data-ttu-id="45006-247">这些线程与对应的托管线程对象相关联。</span><span class="sxs-lookup"><span data-stu-id="45006-247">These threads are associated with a corresponding managed thread object.</span></span> <span data-ttu-id="45006-248">运行时不创建这些线程，但它们在运行时内至少运行过一次。</span><span class="sxs-lookup"><span data-stu-id="45006-248">The runtime does not create these threads, but they have run inside the runtime at least once.</span></span><br /><br /> <span data-ttu-id="45006-249">仅跟踪唯一线程；其线程 ID 与重新输入运行时或在线程退出后重新创建的线程 ID 相同的线程不会进行两次计数。</span><span class="sxs-lookup"><span data-stu-id="45006-249">Only unique threads are tracked; threads with the same thread ID that reenter the runtime or are recreated after the thread exits are not counted twice.</span></span>|  
|<span data-ttu-id="45006-250">**已识别的线程总数**</span><span class="sxs-lookup"><span data-stu-id="45006-250">**# of total recognized Threads**</span></span>|<span data-ttu-id="45006-251">显示自应用程序启动以来已由运行时识别的线程总数。</span><span class="sxs-lookup"><span data-stu-id="45006-251">Displays the total number of threads that have been recognized by the runtime since the application started.</span></span> <span data-ttu-id="45006-252">这些线程与对应的托管线程对象相关联。</span><span class="sxs-lookup"><span data-stu-id="45006-252">These threads are associated with a corresponding managed thread object.</span></span> <span data-ttu-id="45006-253">运行时不创建这些线程，但它们在运行时内至少运行过一次。</span><span class="sxs-lookup"><span data-stu-id="45006-253">The runtime does not create these threads, but they have run inside the runtime at least once.</span></span><br /><br /> <span data-ttu-id="45006-254">仅跟踪唯一线程；其线程 ID 与重新输入运行时或在线程退出后重新创建的线程 ID 相同的线程不会进行两次计数。</span><span class="sxs-lookup"><span data-stu-id="45006-254">Only unique threads are tracked; threads with the same thread ID that reenter the runtime or are recreated after the thread exits are not counted twice.</span></span>|  
|<span data-ttu-id="45006-255">**争用率/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-255">**Contention Rate / Sec**</span></span>|<span data-ttu-id="45006-256">显示运行时中线程尝试获取托管锁定的失败率。</span><span class="sxs-lookup"><span data-stu-id="45006-256">Displays the rate at which threads in the runtime attempt to acquire a managed lock unsuccessfully.</span></span>|  
|<span data-ttu-id="45006-257">**当前队列长度**</span><span class="sxs-lookup"><span data-stu-id="45006-257">**Current Queue Length**</span></span>|<span data-ttu-id="45006-258">显示当前正在等待获取应用程序中托管锁定的线程总数。</span><span class="sxs-lookup"><span data-stu-id="45006-258">Displays the total number of threads that are currently waiting to acquire a managed lock in the application.</span></span> <span data-ttu-id="45006-259">此计数器不是一段时间内的平均值；它显示上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-259">This counter is not an average over time; it displays the last observed value.</span></span>|  
|<span data-ttu-id="45006-260">**队列长度/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-260">**Queue Length / sec**</span></span>|<span data-ttu-id="45006-261">显示每秒内等待获取应用程序中锁定的线程数目。</span><span class="sxs-lookup"><span data-stu-id="45006-261">Displays the number of threads per second that are waiting to acquire a lock in the application.</span></span> <span data-ttu-id="45006-262">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-262">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-263">**队列长度峰值**</span><span class="sxs-lookup"><span data-stu-id="45006-263">**Queue Length Peak**</span></span>|<span data-ttu-id="45006-264">显示自应用程序启动以来等待获取托管锁定的线程总数。</span><span class="sxs-lookup"><span data-stu-id="45006-264">Displays the total number of threads that waited to acquire a managed lock since the application started.</span></span>|  
|<span data-ttu-id="45006-265">**已识别线程的速率/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-265">**rate of recognized threads / sec**</span></span>|<span data-ttu-id="45006-266">显示每秒内由运行时识别的线程数。</span><span class="sxs-lookup"><span data-stu-id="45006-266">Displays the number of threads per second that have been recognized by the runtime.</span></span> <span data-ttu-id="45006-267">这些线程与对应的托管线程对象相关联。</span><span class="sxs-lookup"><span data-stu-id="45006-267">These threads are associated with a corresponding managed thread object.</span></span> <span data-ttu-id="45006-268">运行时不创建这些线程，但它们在运行时内至少运行过一次。</span><span class="sxs-lookup"><span data-stu-id="45006-268">The runtime does not create these threads, but they have run inside the runtime at least once.</span></span><br /><br /> <span data-ttu-id="45006-269">仅跟踪唯一线程；其线程 ID 与重新输入运行时或在线程退出后重新创建的线程 ID 相同的线程不会进行两次计数。</span><span class="sxs-lookup"><span data-stu-id="45006-269">Only unique threads are tracked; threads with the same thread ID that reenter the runtime or are recreated after the thread exits are not counted twice.</span></span><br /><br /> <span data-ttu-id="45006-270">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-270">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-271">**争用总数**</span><span class="sxs-lookup"><span data-stu-id="45006-271">**Total # of Contentions**</span></span>|<span data-ttu-id="45006-272">显示运行时中线程已尝试获取托管锁失败的总次数。</span><span class="sxs-lookup"><span data-stu-id="45006-272">Displays the total number of times that threads in the runtime have attempted to acquire a managed lock unsuccessfully.</span></span>|  

## <a name="memory-performance-counters"></a><span data-ttu-id="45006-273">内存性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-273">Memory performance counters</span></span>  
 <span data-ttu-id="45006-274">性能控制台 .NET CLR Memory（内存）类别包括的计数器提供垃圾回收器的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-274">The Performance console .NET CLR Memory category includes counters that provide information about the garbage collector.</span></span> <span data-ttu-id="45006-275">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-275">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-276">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-276">Performance counter</span></span>|<span data-ttu-id="45006-277">说明</span><span class="sxs-lookup"><span data-stu-id="45006-277">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-278">**所有堆中的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-278">**# Bytes in all Heaps**</span></span>|<span data-ttu-id="45006-279">显示“第 1 代堆大小”计数器、“第 2 代堆大小”计数器和“大型对象堆大小”计数器的总和。\*\*\*\*\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-279">Displays the sum of the **Gen 1 Heap Size**, **Gen 2 Heap Size**, and **Large Object Heap Size** counters.</span></span> <span data-ttu-id="45006-280">此计数器显示垃圾回收堆上分配的当前内存（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-280">This counter indicates the current memory allocated in bytes on the garbage collection heaps.</span></span>|  
|<span data-ttu-id="45006-281">**GC 句柄数**</span><span class="sxs-lookup"><span data-stu-id="45006-281">**# GC Handles**</span></span>|<span data-ttu-id="45006-282">显示正在使用的垃圾回收句柄的当前数目。</span><span class="sxs-lookup"><span data-stu-id="45006-282">Displays the current number of garbage collection handles in use.</span></span> <span data-ttu-id="45006-283">垃圾回收句柄是指公共语言运行时和托管环境外部的资源的句柄。</span><span class="sxs-lookup"><span data-stu-id="45006-283">Garbage collection handles are handles to resources external to the common language runtime and the managed environment.</span></span>|  
|<span data-ttu-id="45006-284">**第 0 代集合数**</span><span class="sxs-lookup"><span data-stu-id="45006-284">**# Gen 0 Collections**</span></span>|<span data-ttu-id="45006-285">显示自应用程序启动以来第 0 代对象（即最年轻、最近分配的对象）进行垃圾回收的次数。</span><span class="sxs-lookup"><span data-stu-id="45006-285">Displays the number of times the generation 0 objects (that is, the youngest, most recently allocated objects) are garbage collected since the application started.</span></span><br /><br /> <span data-ttu-id="45006-286">第 0 代中的可用内存不能满足分配请求时，会出现第 0 代垃圾回收。</span><span class="sxs-lookup"><span data-stu-id="45006-286">Generation 0 garbage collection occurs when the available memory in generation 0 is not sufficient to satisfy an allocation request.</span></span> <span data-ttu-id="45006-287">此计数器在第 0 代垃圾回收结束时递增。</span><span class="sxs-lookup"><span data-stu-id="45006-287">This counter is incremented at the end of a generation 0 garbage collection.</span></span> <span data-ttu-id="45006-288">较高代的垃圾回收包含所有较低代的垃圾回收。</span><span class="sxs-lookup"><span data-stu-id="45006-288">Higher generation garbage collections include all lower generation collections.</span></span> <span data-ttu-id="45006-289">此计数器在较高代（第 1 或第 2 代）垃圾回收发生时显示递增。</span><span class="sxs-lookup"><span data-stu-id="45006-289">This counter is explicitly incremented when a higher generation (generation 1 or 2) garbage collection occurs.</span></span><br /><br /> <span data-ttu-id="45006-290">此计数器显示上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-290">This counter displays the last observed value.</span></span> <span data-ttu-id="45006-291">_Global\_ 计数器值不准确，应当忽略。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-291">The **_Global\_** counter value is not accurate and should be ignored.</span></span>|  
|<span data-ttu-id="45006-292">**第 1 代集合数**</span><span class="sxs-lookup"><span data-stu-id="45006-292">**# Gen 1 Collections**</span></span>|<span data-ttu-id="45006-293">显示自应用程序启动以来第 1 代对象进行垃圾回收的次数。</span><span class="sxs-lookup"><span data-stu-id="45006-293">Displays the number of times the generation 1 objects are garbage collected since the application started.</span></span><br /><br /> <span data-ttu-id="45006-294">此计数器在第 1 代垃圾回收结束时递增。</span><span class="sxs-lookup"><span data-stu-id="45006-294">The counter is incremented at the end of a generation 1 garbage collection.</span></span> <span data-ttu-id="45006-295">较高代的垃圾回收包含所有较低代的垃圾回收。</span><span class="sxs-lookup"><span data-stu-id="45006-295">Higher generation garbage collections include all lower generation collections.</span></span> <span data-ttu-id="45006-296">此计数器在较高代（第 2 代）垃圾回收发生时显式递增。</span><span class="sxs-lookup"><span data-stu-id="45006-296">This counter is explicitly incremented when a higher generation (generation 2) garbage collection occurs.</span></span><br /><br /> <span data-ttu-id="45006-297">此计数器显示上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-297">This counter displays the last observed value.</span></span> <span data-ttu-id="45006-298">_Global\_ 计数器值不准确，应当忽略。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-298">The **_Global\_** counter value is not accurate and should be ignored.</span></span>|  
|<span data-ttu-id="45006-299">**第 2 代集合数**</span><span class="sxs-lookup"><span data-stu-id="45006-299">**# Gen 2 Collections**</span></span>|<span data-ttu-id="45006-300">显示自应用程序启动以来第 2 代对象进行垃圾回收的次数。</span><span class="sxs-lookup"><span data-stu-id="45006-300">Displays the number of times the generation 2 objects are garbage collected since the application started.</span></span> <span data-ttu-id="45006-301">此计数器在第 2 代垃圾回收结束时递增。</span><span class="sxs-lookup"><span data-stu-id="45006-301">The counter is incremented at the end of a generation 2 garbage collection (also called a full garbage collection).</span></span><br /><br /> <span data-ttu-id="45006-302">此计数器显示上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-302">This counter displays the last observed value.</span></span> <span data-ttu-id="45006-303">_Global\_ 计数器值不准确，应当忽略。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-303">The **_Global\_** counter value is not accurate and should be ignored.</span></span>|  
|<span data-ttu-id="45006-304">**已引发 GC 数**</span><span class="sxs-lookup"><span data-stu-id="45006-304">**# Induced GC**</span></span>|<span data-ttu-id="45006-305">显示因显式调用 <xref:System.GC.Collect%2A?displayProperty=nameWithType> 而执行的垃圾回收最大次数。</span><span class="sxs-lookup"><span data-stu-id="45006-305">Displays the peak number of times garbage collection was performed because of an explicit call to <xref:System.GC.Collect%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="45006-306">建议让垃圾回收器微调其回收的频率。</span><span class="sxs-lookup"><span data-stu-id="45006-306">It is good practice to let the garbage collector tune the frequency of its collections.</span></span>|  
|<span data-ttu-id="45006-307">**固定对象数目**</span><span class="sxs-lookup"><span data-stu-id="45006-307">**# of Pinned Objects**</span></span>|<span data-ttu-id="45006-308">显示在上一次垃圾回收中遇到的固定对象的数目。</span><span class="sxs-lookup"><span data-stu-id="45006-308">Displays the number of pinned objects encountered in the last garbage collection.</span></span> <span data-ttu-id="45006-309">钉住的对象是垃圾回收器不能移入内存的对象。</span><span class="sxs-lookup"><span data-stu-id="45006-309">A pinned object is an object that the garbage collector cannot move in memory.</span></span> <span data-ttu-id="45006-310">此计数器只跟踪经过垃圾回收的堆中钉住的对象。</span><span class="sxs-lookup"><span data-stu-id="45006-310">This counter tracks pinned objects only in the heaps that are garbage collected.</span></span> <span data-ttu-id="45006-311">例如，第 0 代垃圾回收只导致对第 0 代堆中的固定对象进行枚举。</span><span class="sxs-lookup"><span data-stu-id="45006-311">For example, a generation 0 garbage collection causes enumeration of pinned objects only in the generation 0 heap.</span></span>|  
|<span data-ttu-id="45006-312">**正在使用的接收器块数目**</span><span class="sxs-lookup"><span data-stu-id="45006-312">**# of Sink Blocks in use**</span></span>|<span data-ttu-id="45006-313">显示正在使用的同步块的当前数目。</span><span class="sxs-lookup"><span data-stu-id="45006-313">Displays the current number of synchronization blocks in use.</span></span> <span data-ttu-id="45006-314">同步块是分配的每个对象的数据结构，用于存储同步信息。</span><span class="sxs-lookup"><span data-stu-id="45006-314">Synchronization blocks are per-object data structures allocated for storing synchronization information.</span></span> <span data-ttu-id="45006-315">它们保留对托管对象的弱引用并且必须由垃圾回收器扫描。</span><span class="sxs-lookup"><span data-stu-id="45006-315">They hold weak references to managed objects and must be scanned by the garbage collector.</span></span> <span data-ttu-id="45006-316">同步块不限于只存储同步信息，也可以存储 COM 互操作元数据。</span><span class="sxs-lookup"><span data-stu-id="45006-316">Synchronization blocks are not limited to storing synchronization information; they can also store COM interop metadata.</span></span> <span data-ttu-id="45006-317">此计数器指示有关大量使用同步基元的性能问题。</span><span class="sxs-lookup"><span data-stu-id="45006-317">This counter indicates performance problems with heavy use of synchronization primitives.</span></span>|  
|<span data-ttu-id="45006-318">**提交的字节总数**</span><span class="sxs-lookup"><span data-stu-id="45006-318">**# Total committed Bytes**</span></span>|<span data-ttu-id="45006-319">显示垃圾回收器当前已提交的虚拟内存量（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-319">Displays the amount of virtual memory, in bytes, currently committed by the garbage collector.</span></span> <span data-ttu-id="45006-320">提交内存是磁盘页面文件上为其保留了空间的物理内存。</span><span class="sxs-lookup"><span data-stu-id="45006-320">Committed memory is the physical memory for which space has been reserved in the disk paging file.</span></span>|  
|<span data-ttu-id="45006-321">**保留的字节总数**</span><span class="sxs-lookup"><span data-stu-id="45006-321">**# Total reserved Bytes**</span></span>|<span data-ttu-id="45006-322">显示垃圾回收器当前保留的虚拟内存量（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-322">Displays the amount of virtual memory, in bytes, currently reserved by the garbage collector.</span></span> <span data-ttu-id="45006-323">保留内存是在尚未使用任何磁盘或主内存页时为应用程序保留的虚拟内存空间。</span><span class="sxs-lookup"><span data-stu-id="45006-323">Reserved memory is the virtual memory space reserved for the application when no disk or main memory pages have been used.</span></span>|  
|<span data-ttu-id="45006-324">**GC 中的时间百分比**</span><span class="sxs-lookup"><span data-stu-id="45006-324">**% Time in GC**</span></span>|<span data-ttu-id="45006-325">显示执行自上次垃圾回收周期以来执行垃圾回收所用运行时间的百分比。</span><span class="sxs-lookup"><span data-stu-id="45006-325">Displays the percentage of elapsed time that was spent performing a garbage collection since the last garbage collection cycle.</span></span> <span data-ttu-id="45006-326">此计数器通常指示垃圾回收器代表应用程序收集和压缩内存所执行的作业。</span><span class="sxs-lookup"><span data-stu-id="45006-326">This counter usually indicates the work done by the garbage collector to collect and compact memory on behalf of the application.</span></span> <span data-ttu-id="45006-327">此计数器在每次垃圾回收结束时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-327">This counter is updated only at the end of every garbage collection.</span></span> <span data-ttu-id="45006-328">此计数器不是平均值；它反映最后观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-328">This counter is not an average; its value reflects the last observed value.</span></span>|  
|<span data-ttu-id="45006-329">**分配的字节数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-329">**Allocated Bytes/second**</span></span>|<span data-ttu-id="45006-330">显示垃圾回收堆上每秒分配的字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-330">Displays the number of bytes per second allocated on the garbage collection heap.</span></span> <span data-ttu-id="45006-331">此计数器在每次垃圾回收结束时（而非每次分配时）更新。</span><span class="sxs-lookup"><span data-stu-id="45006-331">This counter is updated at the end of every garbage collection, not at each allocation.</span></span> <span data-ttu-id="45006-332">此计数器不是一段时间内的平均值；它显示最近两个样本观测值的差除以取样间隔所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-332">This counter is not an average over time; it displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-333">**最终存留对象**</span><span class="sxs-lookup"><span data-stu-id="45006-333">**Finalization Survivors**</span></span>|<span data-ttu-id="45006-334">显示由于等待完成而回收后仍存在的垃圾回收对象数。</span><span class="sxs-lookup"><span data-stu-id="45006-334">Displays the number of garbage-collected objects that survive a collection because they are waiting to be finalized.</span></span> <span data-ttu-id="45006-335">如果这些对象具有对其他对象的引用，则那些对象也会存在，但是不计入此计数器内。</span><span class="sxs-lookup"><span data-stu-id="45006-335">If these objects hold references to other objects, those objects also survive but are not counted by this counter.</span></span> <span data-ttu-id="45006-336">\*\*\*\*“从第 0 代提升的终止内存”计数器代表所有由于生命终止而保留的内存。</span><span class="sxs-lookup"><span data-stu-id="45006-336">The **Promoted Finalization-Memory from Gen 0** counter represents all the memory that survived due to finalization.</span></span><br /><br /> <span data-ttu-id="45006-337">此计数器不是累积计数器；它在每次垃圾回收结束时更新为仅在特定回收后仍存在的对象的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-337">This counter is not cumulative; it is updated at the end of every garbage collection with the count of the survivors during that particular collection only.</span></span> <span data-ttu-id="45006-338">此计数器指示应用程序由于完成而可能会带来的额外系统开销。</span><span class="sxs-lookup"><span data-stu-id="45006-338">This counter indicates the extra overhead that the application might incur because of finalization.</span></span>|  
|<span data-ttu-id="45006-339">**第 0 代堆大小**</span><span class="sxs-lookup"><span data-stu-id="45006-339">**Gen 0 heap size**</span></span>|<span data-ttu-id="45006-340">显示第 0 代中可以分配的最大字节数；它不指示第 0 代中已分配的当前字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-340">Displays the maximum bytes that can be allocated in generation 0; it does not indicate the current number of bytes allocated in generation 0.</span></span><br /><br /> <span data-ttu-id="45006-341">当从上一次回收以来分配的字节数超过此大小时，将触发第 0 代垃圾回收。</span><span class="sxs-lookup"><span data-stu-id="45006-341">A generation 0 garbage collection occurs when the allocations since the last collection exceed this size.</span></span> <span data-ttu-id="45006-342">第 0 代大小是由垃圾回收器调整的，并且会在应用程序执行期间更改。</span><span class="sxs-lookup"><span data-stu-id="45006-342">The generation 0 size is tuned by the garbage collector and can change during the execution of the application.</span></span> <span data-ttu-id="45006-343">在第 0 代回收结束时，第 0 代堆的大小实际上为 0 字节。</span><span class="sxs-lookup"><span data-stu-id="45006-343">At the end of a generation 0 collection the size of the generation 0 heap is 0 bytes.</span></span> <span data-ttu-id="45006-344">此计数器显示将触发下一次第 0 代回收的分配的大小（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-344">This counter displays the size, in bytes, of allocations that invokes the next generation 0 garbage collection.</span></span><br /><br /> <span data-ttu-id="45006-345">此计数器在垃圾回收结束时更新，不在每次分配时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-345">This counter is updated at the end of a garbage collection, not at each allocation.</span></span>|  
|<span data-ttu-id="45006-346">**第 0 代提升的字节数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-346">**Gen 0 Promoted Bytes/Sec**</span></span>|<span data-ttu-id="45006-347">显示每秒从第 0 代提升到第 1 代的字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-347">Displays the bytes per second that are promoted from generation 0 to generation 1.</span></span> <span data-ttu-id="45006-348">垃圾回收后仍存在的内存被提升。</span><span class="sxs-lookup"><span data-stu-id="45006-348">Memory is promoted when it survives a garbage collection.</span></span> <span data-ttu-id="45006-349">此计数器是每秒创建的生存期较长的对象的指示器。</span><span class="sxs-lookup"><span data-stu-id="45006-349">This counter is an indicator of relatively long-lived objects being created per second.</span></span><br /><br /> <span data-ttu-id="45006-350">计数器显示最近两个样本中观测的值的差除以样本的间隔时间所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-350">This counter displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-351">**第 1 代堆大小**</span><span class="sxs-lookup"><span data-stu-id="45006-351">**Gen 1 heap size**</span></span>|<span data-ttu-id="45006-352">显示第 1 代中的当前字节数；此计数器不显示第 1 代的最大大小。</span><span class="sxs-lookup"><span data-stu-id="45006-352">Displays the current number of bytes in generation 1; this counter does not display the maximum size of generation 1.</span></span> <span data-ttu-id="45006-353">此代中的对象不是直接分配的；这些对象是从以前的第 0 代垃圾回收提升的。</span><span class="sxs-lookup"><span data-stu-id="45006-353">Objects are not directly allocated in this generation; they are promoted from previous generation 0 garbage collections.</span></span> <span data-ttu-id="45006-354">此计数器在垃圾回收结束时更新，不在每次分配时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-354">This counter is updated at the end of a garbage collection, not at each allocation.</span></span>|  
|<span data-ttu-id="45006-355">**第 1 代提升的字节数/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-355">**Gen 1 Promoted Bytes/Sec**</span></span>|<span data-ttu-id="45006-356">显示每秒从第 1 代提升到第 2 代的字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-356">Displays the bytes per second that are promoted from generation 1 to generation 2.</span></span> <span data-ttu-id="45006-357">此计数器中不包括仅由于等待完成而被提升的对象。</span><span class="sxs-lookup"><span data-stu-id="45006-357">Objects that are promoted only because they are waiting to be finalized are not included in this counter.</span></span><br /><br /> <span data-ttu-id="45006-358">垃圾回收后仍存在的内存被提升。</span><span class="sxs-lookup"><span data-stu-id="45006-358">Memory is promoted when it survives a garbage collection.</span></span> <span data-ttu-id="45006-359">由于第 2 代是最早的，因此不会从第 2 代提升任何内容。</span><span class="sxs-lookup"><span data-stu-id="45006-359">Nothing is promoted from generation 2 because it is the oldest generation.</span></span> <span data-ttu-id="45006-360">此计数器是每秒创建的生存期很长的对象的指示器。</span><span class="sxs-lookup"><span data-stu-id="45006-360">This counter is an indicator of very long-lived objects being created per second.</span></span><br /><br /> <span data-ttu-id="45006-361">计数器显示最近两个样本中观测的值的差除以样本的间隔时间所得的结果。</span><span class="sxs-lookup"><span data-stu-id="45006-361">This counter displays the difference between the values observed in the last two samples divided by the duration of the sample interval.</span></span>|  
|<span data-ttu-id="45006-362">**第 2 代堆大小**</span><span class="sxs-lookup"><span data-stu-id="45006-362">**Gen 2 heap size**</span></span>|<span data-ttu-id="45006-363">显示在第 2 代中的当前字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-363">Displays the current number of bytes in generation 2.</span></span> <span data-ttu-id="45006-364">此代中的对象不是直接分配的；这些对象是在以前的第 1 代垃圾回收过程中从第 1 代提升的。</span><span class="sxs-lookup"><span data-stu-id="45006-364">Objects are not directly allocated in this generation; they are promoted from generation 1 during previous generation 1 garbage collections.</span></span> <span data-ttu-id="45006-365">此计数器在垃圾回收结束时更新，不在每次分配时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-365">This counter is updated at the end of a garbage collection, not at each allocation.</span></span>|  
|<span data-ttu-id="45006-366">**大型对象堆大小**</span><span class="sxs-lookup"><span data-stu-id="45006-366">**Large Object Heap size**</span></span>|<span data-ttu-id="45006-367">显示大型对象堆的当前大小（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="45006-367">Displays the current size, in bytes, of the large object heap.</span></span> <span data-ttu-id="45006-368">大于大约85000字节的对象被垃圾回收器视为大型对象，并在特殊堆中直接分配。</span><span class="sxs-lookup"><span data-stu-id="45006-368">Objects that are greater than approximately 85,000 bytes are treated as large objects by the garbage collector and are directly allocated in a special heap.</span></span> <span data-ttu-id="45006-369">它们不会通过生成进行提升。</span><span class="sxs-lookup"><span data-stu-id="45006-369">They are not promoted through the generations.</span></span> <span data-ttu-id="45006-370">此计数器在垃圾回收结束时更新，不在每次分配时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-370">This counter is updated at the end of a garbage collection, not at each allocation.</span></span>|  
|<span data-ttu-id="45006-371">**进程 ID**</span><span class="sxs-lookup"><span data-stu-id="45006-371">**Process ID**</span></span>|<span data-ttu-id="45006-372">显示被监视的 CLR 进程实例的进程 ID。</span><span class="sxs-lookup"><span data-stu-id="45006-372">Displays the process ID of the CLR process instance that is being monitored.</span></span>|  
|<span data-ttu-id="45006-373">**从第 0 代提升的终止内存**</span><span class="sxs-lookup"><span data-stu-id="45006-373">**Promoted Finalization-Memory from Gen 0**</span></span>|<span data-ttu-id="45006-374">显示仅由于等待完成而从第 0 代提升到第 1 代的内存字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-374">Displays the bytes of memory that are promoted from generation 0 to generation 1 only because they are waiting to be finalized.</span></span> <span data-ttu-id="45006-375">此计数器不是累积计数器；它显示在上一次垃圾回收结束时观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-375">This counter is not cumulative; it displays the value observed at the end of the last garbage collection.</span></span>|  
|<span data-ttu-id="45006-376">**从第 0 代提升的内存**</span><span class="sxs-lookup"><span data-stu-id="45006-376">**Promoted Memory from Gen 0**</span></span>|<span data-ttu-id="45006-377">显示垃圾回收后仍存在并从第 0 代提升到第 1 代的内存字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-377">Displays the bytes of memory that survive garbage collection and are promoted from generation 0 to generation 1.</span></span> <span data-ttu-id="45006-378">此计数器中不包括仅由于等待完成而被提升的对象。</span><span class="sxs-lookup"><span data-stu-id="45006-378">Objects that are promoted only because they are waiting to be finalized are not included in this counter.</span></span> <span data-ttu-id="45006-379">此计数器不是累积计数器；它显示在上一次垃圾回收结束时观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-379">This counter is not cumulative; it displays the value observed at the end of the last garbage collection.</span></span>|  
|<span data-ttu-id="45006-380">**从第 1 代提升的内存**</span><span class="sxs-lookup"><span data-stu-id="45006-380">**Promoted Memory from Gen 1**</span></span>|<span data-ttu-id="45006-381">显示垃圾回收后仍存在并从第 1 代提升到第 2 代的内存字节数。</span><span class="sxs-lookup"><span data-stu-id="45006-381">Displays the bytes of memory that survive garbage collection and are promoted from generation 1 to generation 2.</span></span> <span data-ttu-id="45006-382">此计数器中不包括仅由于等待完成而被提升的对象。</span><span class="sxs-lookup"><span data-stu-id="45006-382">Objects that are promoted only because they are waiting to be finalized are not included in this counter.</span></span> <span data-ttu-id="45006-383">此计数器不是累积计数器；它显示在上一次垃圾回收结束时观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-383">This counter is not cumulative; it displays the value observed at the end of the last garbage collection.</span></span> <span data-ttu-id="45006-384">如果上一次垃圾回收只是第 0 代回收，则此计数器将重置为 0。</span><span class="sxs-lookup"><span data-stu-id="45006-384">This counter is reset to 0 if the last garbage collection was a generation 0 collection only.</span></span>|  

## <a name="networking-performance-counters"></a><span data-ttu-id="45006-385">联网性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-385">Networking performance counters</span></span>  

<span data-ttu-id="45006-386">性能控制台 .NET CLR Networking（网络）类别包括的计数器提供应用程序通过网络发送和接收的数据的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-386">The Performance console .NET CLR Networking category includes counters that provide information about data that an application sends and receives over the network.</span></span> <span data-ttu-id="45006-387">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-387">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-388">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-388">Performance counter</span></span>|<span data-ttu-id="45006-389">说明</span><span class="sxs-lookup"><span data-stu-id="45006-389">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-390">**接收的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-390">**Bytes Received**</span></span>|<span data-ttu-id="45006-391">自进程启动以来，<xref:System.AppDomain> 中的所有 <xref:System.Net.Sockets.Socket> 对象接收到的字节的累积总数。</span><span class="sxs-lookup"><span data-stu-id="45006-391">The cumulative total number of bytes received by all <xref:System.Net.Sockets.Socket> objects within the <xref:System.AppDomain> since the process started.</span></span> <span data-ttu-id="45006-392">此数字包括数据和 TCP/IP 协议未定义的任何协议信息。</span><span class="sxs-lookup"><span data-stu-id="45006-392">This number includes data and any protocol information that is not defined by TCP/IP.</span></span>|  
|<span data-ttu-id="45006-393">**发送的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-393">**Bytes Sent**</span></span>|<span data-ttu-id="45006-394">自进程启动以来，<xref:System.AppDomain> 中的所有 <xref:System.Net.Sockets.Socket> 对象已发送的字节的累积总数。</span><span class="sxs-lookup"><span data-stu-id="45006-394">The cumulative number of bytes sent by all <xref:System.Net.Sockets.Socket> objects within the <xref:System.AppDomain> since the process started.</span></span> <span data-ttu-id="45006-395">此数字包括数据和 TCP/IP 协议未定义的任何协议信息。</span><span class="sxs-lookup"><span data-stu-id="45006-395">This number includes data and any protocol information that is not defined by TCP/IP.</span></span>|  
|<span data-ttu-id="45006-396">**已建立连接**</span><span class="sxs-lookup"><span data-stu-id="45006-396">**Connections Established**</span></span>|<span data-ttu-id="45006-397">自进程启动以来，<xref:System.AppDomain> 中曾连接的任何流套接的 <xref:System.Net.Sockets.Socket> 对象的累积总数。</span><span class="sxs-lookup"><span data-stu-id="45006-397">The cumulative total number of <xref:System.Net.Sockets.Socket> objects for stream sockets that were ever connected within the <xref:System.AppDomain> since the process started.</span></span>|  
|<span data-ttu-id="45006-398">**已接收的数据报**</span><span class="sxs-lookup"><span data-stu-id="45006-398">**Datagrams Received**</span></span>|<span data-ttu-id="45006-399">自进程启动以来，<xref:System.AppDomain> 中的所有 <xref:System.Net.Sockets.Socket> 对象接收到的数据报包的累积总数。</span><span class="sxs-lookup"><span data-stu-id="45006-399">The cumulative total number of datagram packets received by all <xref:System.Net.Sockets.Socket> objects within the <xref:System.AppDomain> since the process started.</span></span>|  
|<span data-ttu-id="45006-400">**已发送的数据报**</span><span class="sxs-lookup"><span data-stu-id="45006-400">**Datagrams Sent**</span></span>|<span data-ttu-id="45006-401">自进程启动以来，<xref:System.AppDomain> 中的所有 <xref:System.Net.Sockets.Socket> 对象已发送的数据报包的累积总数。</span><span class="sxs-lookup"><span data-stu-id="45006-401">The cumulative total number of datagram packets sent by all <xref:System.Net.Sockets.Socket> objects within the <xref:System.AppDomain> since the process started.</span></span>|  
|<span data-ttu-id="45006-402">**HttpWebRequest 平均生存期**</span><span class="sxs-lookup"><span data-stu-id="45006-402">**HttpWebRequest Average Lifetime**</span></span>|<span data-ttu-id="45006-403">自进程启动以来，<xref:System.AppDomain> 中在上一个间隔中结束的所有 <xref:System.Net.HttpWebRequest> 对象的平均完成时间。</span><span class="sxs-lookup"><span data-stu-id="45006-403">The average time to completion for all <xref:System.Net.HttpWebRequest> objects that ended in the last interval within the <xref:System.AppDomain> since the process started.</span></span>|  
|<span data-ttu-id="45006-404">**HttpWebRequest 平均排队时间**</span><span class="sxs-lookup"><span data-stu-id="45006-404">**HttpWebRequest Average Queue Time**</span></span>|<span data-ttu-id="45006-405">自进程启动以来，<xref:System.AppDomain> 中在上一个间隔中结束的所有 <xref:System.Net.HttpWebRequest> 对象的平均排队时间。</span><span class="sxs-lookup"><span data-stu-id="45006-405">The average time-on-queue for all <xref:System.Net.HttpWebRequest> objects that left the queue in the last interval within the <xref:System.AppDomain> since the process started.</span></span>|  
|<span data-ttu-id="45006-406">**创建的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-406">**HttpWebRequests Created/sec**</span></span>|<span data-ttu-id="45006-407"><xref:System.AppDomain> 中每秒创建的 <xref:System.Net.HttpWebRequest> 对象的数目。</span><span class="sxs-lookup"><span data-stu-id="45006-407">The number of <xref:System.Net.HttpWebRequest> objects created per second within the <xref:System.AppDomain>.</span></span>|  
|<span data-ttu-id="45006-408">**已排队的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-408">**HttpWebRequests Queued/sec**</span></span>|<span data-ttu-id="45006-409"><xref:System.AppDomain> 中每秒添加到队列的 <xref:System.Net.HttpWebRequest> 对象的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-409">The number of <xref:System.Net.HttpWebRequest> objects that were added to the queue per second within the <xref:System.AppDomain>.</span></span>|  
|<span data-ttu-id="45006-410">**已中止的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-410">**HttpWebRequests Aborted/sec**</span></span>|<span data-ttu-id="45006-411"><xref:System.AppDomain> 中其中每秒应用程序调用 <xref:System.Net.HttpWebRequest.Abort%2A> 方法的 <xref:System.Net.HttpWebRequest> 对象的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-411">The number of <xref:System.Net.HttpWebRequest> objects where the application called the <xref:System.Net.HttpWebRequest.Abort%2A> method per second within the <xref:System.AppDomain>.</span></span>|  
|<span data-ttu-id="45006-412">**失败的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-412">**HttpWebRequests Failed/sec**</span></span>|<span data-ttu-id="45006-413"><xref:System.AppDomain> 中每秒从服务器接收失败状态的 <xref:System.Net.HttpWebRequest> 对象的数量。</span><span class="sxs-lookup"><span data-stu-id="45006-413">The number of <xref:System.Net.HttpWebRequest> objects that received a failed status code from the server per second within the <xref:System.AppDomain>.</span></span>|  
  
 <span data-ttu-id="45006-414">几类受支持的网络性能计数器如下：</span><span class="sxs-lookup"><span data-stu-id="45006-414">There are several classes of networking performance counters supported:</span></span>  
  
- <span data-ttu-id="45006-415">事件计数器，用于测量某些事件的发生次数。</span><span class="sxs-lookup"><span data-stu-id="45006-415">Event counters that measure the number of times some event occurred.</span></span>  
  
- <span data-ttu-id="45006-416">数据计数器，用于测量已发送或已接收的数据量。</span><span class="sxs-lookup"><span data-stu-id="45006-416">Data counters that measure the quantity of data sent or received.</span></span>  
  
- <span data-ttu-id="45006-417">持续时间计数器，测量不同进程花费的时间。</span><span class="sxs-lookup"><span data-stu-id="45006-417">Duration counters that measure how long different processes take.</span></span> <span data-ttu-id="45006-418">测量对象每个间隔（通常以秒计）退出不同状态后的次数。</span><span class="sxs-lookup"><span data-stu-id="45006-418">The times are measured on the objects each interval (usually in seconds) after they come out of different states.</span></span>  
  
- <span data-ttu-id="45006-419">每间隔计数器，用于测量每个间隔（通常以秒计）中正在进行特定转换的对象数。</span><span class="sxs-lookup"><span data-stu-id="45006-419">Per-Interval counters that measure the number of objects that are making a particular transition per interval (normally per second).</span></span>  
  
<span data-ttu-id="45006-420">适用于事件的网络性能计数器包括：</span><span class="sxs-lookup"><span data-stu-id="45006-420">The networking performance counters for events include the following:</span></span>  
  
- <span data-ttu-id="45006-421">**已建立连接**</span><span class="sxs-lookup"><span data-stu-id="45006-421">**Connections Established**</span></span>  
  
- <span data-ttu-id="45006-422">**已接收的数据报**</span><span class="sxs-lookup"><span data-stu-id="45006-422">**Datagrams Received**</span></span>  
  
- <span data-ttu-id="45006-423">**已发送的数据报**</span><span class="sxs-lookup"><span data-stu-id="45006-423">**Datagrams Sent**</span></span>  
  
 <span data-ttu-id="45006-424">这些性能计数器提供自进程启动以来的计数。</span><span class="sxs-lookup"><span data-stu-id="45006-424">These performance counters provide counts since the process started.</span></span> <span data-ttu-id="45006-425">已建立的 <xref:System.Net.Sockets.Socket> 连接的计数包括显式 <xref:System.Net.Sockets.Socket> 方法调用（由已建立的流套接连接的应用程序执行）以及其他类（例如 <xref:System.Net.HttpWebRequest>、<xref:System.Net.FtpWebRequest>、<xref:System.Net.WebClient> 和 <xref:System.Net.Sockets.TcpClient>）对 <xref:System.Net.Sockets.Socket> 类执行的内部调用</span><span class="sxs-lookup"><span data-stu-id="45006-425">The counts of <xref:System.Net.Sockets.Socket> connections established includes explicit <xref:System.Net.Sockets.Socket> method calls by an application for a stream socket connection that was established as well as internal calls made by other classes (<xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest>, <xref:System.Net.WebClient>, and <xref:System.Net.Sockets.TcpClient>, for example) to <xref:System.Net.Sockets.Socket> class</span></span>  
  
 <span data-ttu-id="45006-426">“已接收的数据报”和“已发送的数据报”的计数包括使用显式 <xref:System.Net.Sockets.Socket> 方法调用（由应用程序执行）或由其他类（例如 <xref:System.Net.Sockets.UdpClient>）对 <xref:System.Net.Sockets.Socket> 执行的内部调用而发送或接收的数据报包。\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-426">The counts for **Datagrams Received** and **Datagrams Sent** includes datagram packets sent or received using explicit <xref:System.Net.Sockets.Socket> method calls by an application as well internal calls made by other classes (<xref:System.Net.Sockets.UdpClient>, for example) to <xref:System.Net.Sockets.Socket>.</span></span> <span data-ttu-id="45006-427">类的新实例。</span><span class="sxs-lookup"><span data-stu-id="45006-427">class.</span></span> <span data-ttu-id="45006-428">“已接收的数据报”和“已发送的数据报”的计数也可能用于通过假定数据报的平均大小粗略测量使用数据报发送或接收的字节数。\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-428">The counts **Datagrams Received** and **Datagrams Sent** may also be used to provide a very crude measure of how many bytes were sent or received using datagrams by assuming an average size for a datagram.</span></span>  
  
 <span data-ttu-id="45006-429">适用于数据的网络性能计数器包括：</span><span class="sxs-lookup"><span data-stu-id="45006-429">The networking performance counters for data include the following:</span></span>  
  
- <span data-ttu-id="45006-430">**接收的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-430">**Bytes Received**</span></span>  
  
- <span data-ttu-id="45006-431">**发送的字节数**</span><span class="sxs-lookup"><span data-stu-id="45006-431">**Bytes Sent**</span></span>  
  
 <span data-ttu-id="45006-432">上述计数器提供自进程启动以来的字节计数。</span><span class="sxs-lookup"><span data-stu-id="45006-432">The above counters provide counts of bytes since the process started.</span></span>  
  
 <span data-ttu-id="45006-433">有如下两个持续时间计数器可测量 <xref:System.Net.HttpWebRequest> 对象经过整个或部分生命周期所花费的时间：</span><span class="sxs-lookup"><span data-stu-id="45006-433">There are two duration counters that measure how long it took for <xref:System.Net.HttpWebRequest> objects to pass through either their entire life cycle or just part of it:</span></span>  
  
- <span data-ttu-id="45006-434">**HttpWebRequest 平均生存期**</span><span class="sxs-lookup"><span data-stu-id="45006-434">**HttpWebRequest Average Lifetime**</span></span>  
  
- <span data-ttu-id="45006-435">**HttpWebRequest 平均排队时间**</span><span class="sxs-lookup"><span data-stu-id="45006-435">**HttpWebRequest Average Queue Time**</span></span>  
  
 <span data-ttu-id="45006-436">对于“HttpWebRequest 平均排队时间”计数器，大多数 <xref:System.Net.HttpWebRequest> 对象的生存期总是开始于创建对象时，而在应用程序关闭响应流时结束。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-436">For the **HttpWebRequest Average Lifetime** counter, the lifetime of most <xref:System.Net.HttpWebRequest> objects always starts with the time that the object is created up until the time that the response stream is closed by the application.</span></span> <span data-ttu-id="45006-437">有两种不常见的情况：</span><span class="sxs-lookup"><span data-stu-id="45006-437">There are two uncommon cases:</span></span>  
  
- <span data-ttu-id="45006-438">如果应用程序从未调用 <xref:System.Net.HttpWebRequest.GetResponse%2A> 或 <xref:System.Net.HttpWebRequest.BeginGetResponse%2A> 方法，则忽略 <xref:System.Net.HttpWebRequest> 对象的生存期。</span><span class="sxs-lookup"><span data-stu-id="45006-438">If the application never calls the <xref:System.Net.HttpWebRequest.GetResponse%2A> or <xref:System.Net.HttpWebRequest.BeginGetResponse%2A> methods, then the lifetime of the <xref:System.Net.HttpWebRequest> object is ignored.</span></span>  
  
- <span data-ttu-id="45006-439">如果 <xref:System.Net.HttpWebRequest>对象在调用 <xref:System.Net.HttpWebRequest.GetResponse%2A> 或 <xref:System.Net.HttpWebRequest.EndGetResponse%2A> 方法时引发 <xref:System.Net.WebException>，则在引发异常时生存期结束。</span><span class="sxs-lookup"><span data-stu-id="45006-439">If the <xref:System.Net.HttpWebRequest> object throws a <xref:System.Net.WebException> when calling the <xref:System.Net.HttpWebRequest.GetResponse%2A> or <xref:System.Net.HttpWebRequest.EndGetResponse%2A> methods, the lifetime ends when the exception is thrown.</span></span> <span data-ttu-id="45006-440">从技术上来说，此时（返回至用户的响应流实际上为包含响应流副本的内存流）也关闭基础响应流。</span><span class="sxs-lookup"><span data-stu-id="45006-440">Technically, the underlying response stream is also closed at that point (the response stream returned to the user is really a memory stream containing a copy of the response stream).</span></span>  
  
 <span data-ttu-id="45006-441">有 4 个计数器可在每个间隔跟踪某些 <xref:System.Net.HttpWebRequest> 对象问题。</span><span class="sxs-lookup"><span data-stu-id="45006-441">There are four counters that track certain <xref:System.Net.HttpWebRequest> object issues per interval.</span></span> <span data-ttu-id="45006-442">这些性能计数器可帮助应用程序开发人员、管理员和支持人员更好地了解 <xref:System.Net.HttpWebRequest> 对象的当前行为。</span><span class="sxs-lookup"><span data-stu-id="45006-442">These performance counters can help application developers, administrators, and support staff better understand what the <xref:System.Net.HttpWebRequest> objects are doing.</span></span> <span data-ttu-id="45006-443">这些计数器包括：</span><span class="sxs-lookup"><span data-stu-id="45006-443">The counters include the following:</span></span>  
  
- <span data-ttu-id="45006-444">**创建的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-444">**HttpWebRequests Created/sec**</span></span>  
  
- <span data-ttu-id="45006-445">**已排队的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-445">**HttpWebRequests Queued/sec**</span></span>  
  
- <span data-ttu-id="45006-446">**已中止的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-446">**HttpWebRequests Aborted/sec**</span></span>  
  
- <span data-ttu-id="45006-447">**失败的 HttpWebRequest/秒**</span><span class="sxs-lookup"><span data-stu-id="45006-447">**HttpWebRequests Failed/sec**</span></span>  
  
 <span data-ttu-id="45006-448">“已中止的 HttpWebRequest/秒”计数器也对 <xref:System.Net.HttpWebRequest.Abort%2A> 的内部调用进行计数。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-448">For the **HttpWebRequests Aborted/sec** counter, internal calls to <xref:System.Net.HttpWebRequest.Abort%2A> are also counted.</span></span> <span data-ttu-id="45006-449">这些内部调用通常由应用程序可能要测量的超时导致。</span><span class="sxs-lookup"><span data-stu-id="45006-449">These internal calls are usually caused by timeouts that an application may want to measure.</span></span>  
  
 <span data-ttu-id="45006-450">“失败的 HttpWebRequest/秒”计数器包含每秒从服务器接收失败状态代码的 <xref:System.Net.HttpWebRequest> 对象的数量。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-450">The **HttpWebRequests Failed/sec** counter contains the number of <xref:System.Net.HttpWebRequest> objects that received a failed status code from the server per second.</span></span> <span data-ttu-id="45006-451">这意味着在请求结束时从 Http 服务器接收的状态代码不在 200 到 299 的范围内。</span><span class="sxs-lookup"><span data-stu-id="45006-451">This means that the status code received from the Http server at the end of the request was not in the range between 200 to 299.</span></span> <span data-ttu-id="45006-452">已处理并引发新请求的状态代码（例如多个 401 未授权状态代码）是否失败取决于重试结果。</span><span class="sxs-lookup"><span data-stu-id="45006-452">Status codes that are handled and result in a new request (many of the 401 Unauthorized status codes, for example) will fail or not fail based on the result of the retry.</span></span> <span data-ttu-id="45006-453">如果应用程序可基于重试查看错误，则此计数器递增。</span><span class="sxs-lookup"><span data-stu-id="45006-453">If the application would see an error based on the retry, then this counter is incremented.</span></span>  
  
 <span data-ttu-id="45006-454">网络性能计数器可以通过使用 <xref:System.Diagnostics> 命名空间中的 <xref:System.Diagnostics.PerformanceCounter> 和相关类进行访问和管理。</span><span class="sxs-lookup"><span data-stu-id="45006-454">Networking performance counters can be accessed and managed using the <xref:System.Diagnostics.PerformanceCounter> and related classes in the <xref:System.Diagnostics> namespace.</span></span> <span data-ttu-id="45006-455">它还可以通过使用 Windows 性能监视器控制台进行查看。</span><span class="sxs-lookup"><span data-stu-id="45006-455">Networking performance counters can also be viewed with the Windows Performance Monitor console.</span></span>  
  
 <span data-ttu-id="45006-456">需要在要使用的配置文件中启用网络性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-456">Networking performance counters need to be enabled in the configuration file to be used.</span></span> <span data-ttu-id="45006-457">通过配置文件中的单个设置即可启用或禁用所有网络性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-457">All networking performance counters are enabled or disabled with a single setting in the configuration file.</span></span> <span data-ttu-id="45006-458">不能启用或禁用单个网络性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-458">Individual networking performance counters cannot be enabled or disabled.</span></span> <span data-ttu-id="45006-459">有关详细信息，请参阅 [\<performanceCounter> 元素（网络设置）](../configure-apps/file-schema/network/performancecounter-element-network-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="45006-459">For more information, see [\<performanceCounter> Element (Network Settings)](../configure-apps/file-schema/network/performancecounter-element-network-settings.md).</span></span>  
  
 <span data-ttu-id="45006-460">如果启用了网络计数器，此操作将创建并更新每个 AppDomain 和全局性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-460">If networking counters are enabled, this will create and update both per-AppDomain and global performance counters.</span></span> <span data-ttu-id="45006-461">如果禁用，则应用程序将不提供任何网络性能计数器数据。</span><span class="sxs-lookup"><span data-stu-id="45006-461">If disabled, the application will not provide any networking performance counter data.</span></span>  
  
 <span data-ttu-id="45006-462">性能计数器均分组到类别中。</span><span class="sxs-lookup"><span data-stu-id="45006-462">Performance counters are grouped into Categories.</span></span> <span data-ttu-id="45006-463">应用程序可列出具有以下示例代码的所有类别：</span><span class="sxs-lookup"><span data-stu-id="45006-463">An application can list all of the categories with the following example code:</span></span>  
  
```csharp
PerformanceCounterCategory[] Array = PerformanceCounterCategory.GetCategories();  
for (int i = 0; i < Array.Length; i++)  
{  
    Console.Out.WriteLine("{0}. Name={1} Help={2}", i, Array[i].CategoryName, Array[i].CategoryHelp);  
}  
```  
  
 <span data-ttu-id="45006-464">网络性能计数器包含在连个类别中：</span><span class="sxs-lookup"><span data-stu-id="45006-464">The networking performance counters are listed in two categories:</span></span>  
  
- <span data-ttu-id="45006-465">“.NET CLR 网络”- .NET Framework 版本 2 上引入且在 .NET Framework 版本 2 及更高版本上受支持的原始性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-465">".NET CLR Networking" - the original performance counters introduced on .NET Framework Version 2 and supported on .NET Framework Version 2 and later.</span></span>  
  
- <span data-ttu-id="45006-466">“.NET CLR 网络 4.0.0.0”- 所有上述套接计数器和 .NET Framework 版本 4 及更高版本上受支持的新的性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-466">".NET CLR Networking 4.0.0.0" - All of the above socket counters plus the new performance counters supported on .NET Framework Version 4 and later.</span></span> <span data-ttu-id="45006-467">这些新的计数器提供有关 <xref:System.Net.HttpWebRequest> 对象的性能信息。</span><span class="sxs-lookup"><span data-stu-id="45006-467">These new counters provide performance information on <xref:System.Net.HttpWebRequest> objects.</span></span>  
  
 <span data-ttu-id="45006-468">有关访问和管理应用程序中性能计数器的详细信息，请参阅[性能计数器](performance-counters.md)。</span><span class="sxs-lookup"><span data-stu-id="45006-468">For more information on accessing and managing performance counters in an application, see [Performance Counters](performance-counters.md).</span></span>  

## <a name="security-performance-counters"></a><span data-ttu-id="45006-469">安全性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-469">Security performance counters</span></span>  
 <span data-ttu-id="45006-470">性能控制台 .NET CLR Security（安全性）类别包括的计数器提供公共语言运行时针对应用程序执行的安全检查的相关信息。</span><span class="sxs-lookup"><span data-stu-id="45006-470">The Performance console .NET CLR Security category includes counters that provide information about the security checks that the common language runtime performs for an application.</span></span> <span data-ttu-id="45006-471">下表描述这些性能计数器。</span><span class="sxs-lookup"><span data-stu-id="45006-471">The following table describes these performance counters.</span></span>  
  
|<span data-ttu-id="45006-472">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-472">Performance counter</span></span>|<span data-ttu-id="45006-473">说明</span><span class="sxs-lookup"><span data-stu-id="45006-473">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="45006-474">**链接时检查次数**</span><span class="sxs-lookup"><span data-stu-id="45006-474">**# Link Time Checks**</span></span>|<span data-ttu-id="45006-475">显示自应用程序启动以来链接时代码访问安全检查的总次数。</span><span class="sxs-lookup"><span data-stu-id="45006-475">Displays the total number of link-time code access security checks since the application started.</span></span> <span data-ttu-id="45006-476">当调用方要求实时 (JIT) 编译时的特定权限时，执行链接时代码访问安全检查。</span><span class="sxs-lookup"><span data-stu-id="45006-476">Link-time code access security checks are performed when a caller demands a particular permission at just-in-time (JIT) compile time.</span></span> <span data-ttu-id="45006-477">每个调用方执行一次链接时检查。</span><span class="sxs-lookup"><span data-stu-id="45006-477">A link-time check is performed once per caller.</span></span> <span data-ttu-id="45006-478">此计数不指示严重的性能问题；它仅指示安全系统活动。</span><span class="sxs-lookup"><span data-stu-id="45006-478">This count is not indicative of serious performance issues; it is merely indicative of the security system activity.</span></span>|  
|<span data-ttu-id="45006-479">**RT 检查所占的时间百分比**</span><span class="sxs-lookup"><span data-stu-id="45006-479">**% Time in RT checks**</span></span>|<span data-ttu-id="45006-480">此计数器显示自上一次取样以来执行运行时代码访问安全检查所用运行时间的百分比。</span><span class="sxs-lookup"><span data-stu-id="45006-480">Displays the percentage of elapsed time spent performing runtime code access security checks since the last sample.</span></span> <span data-ttu-id="45006-481">此计数器在 .NET Framework 安全检查结束时更新。</span><span class="sxs-lookup"><span data-stu-id="45006-481">This counter is updated at the end of a .NET Framework security check.</span></span> <span data-ttu-id="45006-482">它不是平均值；而表示上次观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-482">It is not an average; it represents the last observed value.</span></span>|  
|<span data-ttu-id="45006-483">**Sig 身份验证所占时间百分比**</span><span class="sxs-lookup"><span data-stu-id="45006-483">**% Time Sig Authenticating**</span></span>|<span data-ttu-id="45006-484">留待将来使用。</span><span class="sxs-lookup"><span data-stu-id="45006-484">Reserved for future use.</span></span>|  
|<span data-ttu-id="45006-485">**堆栈审核深度**</span><span class="sxs-lookup"><span data-stu-id="45006-485">**Stack Walk Depth**</span></span>|<span data-ttu-id="45006-486">显示在上次运行时代码访问安全检查期间的堆栈深度。</span><span class="sxs-lookup"><span data-stu-id="45006-486">Displays the depth of the stack during that last runtime code access security check.</span></span> <span data-ttu-id="45006-487">运行时代码访问安全检查通过审核堆栈执行。</span><span class="sxs-lookup"><span data-stu-id="45006-487">Runtime code access security checks are performed by walking the stack.</span></span> <span data-ttu-id="45006-488">此计数器不是平均值；它仅显示最后观测的值。</span><span class="sxs-lookup"><span data-stu-id="45006-488">This counter is not an average; it displays only the last observed value.</span></span>|  
|<span data-ttu-id="45006-489">**运行时检查总数**</span><span class="sxs-lookup"><span data-stu-id="45006-489">**Total Runtime Checks**</span></span>|<span data-ttu-id="45006-490">显示自应用程序启动以来执行的运行时代码访问安全检查的总数。</span><span class="sxs-lookup"><span data-stu-id="45006-490">Displays the total number of runtime code access security checks performed since the application started.</span></span> <span data-ttu-id="45006-491">当调用方要求特定权限时，执行运行时代码访问安全检查。</span><span class="sxs-lookup"><span data-stu-id="45006-491">Runtime code access security checks are performed when a caller demands a particular permission.</span></span> <span data-ttu-id="45006-492">运行时检查在调用方每次调用时都会执行，并会检查调用方的当前线程堆栈。</span><span class="sxs-lookup"><span data-stu-id="45006-492">The runtime check is made on every call by the caller and examines the current thread stack of the caller.</span></span> <span data-ttu-id="45006-493">此计数器与“堆栈审阅深度”计数器一起使用时可指示安全检查出现的性能损失。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="45006-493">When used with the **Stack Walk Depth** counter, this counter indicates the performance penalty that occurs for security checks.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="45006-494">请参阅</span><span class="sxs-lookup"><span data-stu-id="45006-494">See also</span></span>

- [<span data-ttu-id="45006-495">性能计数器</span><span class="sxs-lookup"><span data-stu-id="45006-495">Performance Counters</span></span>](performance-counters.md)
- [<span data-ttu-id="45006-496">运行时分析</span><span class="sxs-lookup"><span data-stu-id="45006-496">Runtime Profiling</span></span>](runtime-profiling.md)
