---
title: 新式 Web 应用程序的特征
description: 使用 ASP.NET Core 和 Azure 构建新式 Web 应用程序 | 新式 Web 应用程序的特征
author: ardalis
ms.author: wiwagn
no-loc:
- Blazor
- WebAssembly
ms.date: 12/04/2019
ms.openlocfilehash: a4d7558039d64b21a2744f74d037369ea8c6c923
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/15/2020
ms.locfileid: "90539263"
---
# <a name="characteristics-of-modern-web-applications"></a><span data-ttu-id="c3abb-103">新式 Web 应用程序的特征</span><span class="sxs-lookup"><span data-stu-id="c3abb-103">Characteristics of Modern Web Applications</span></span>

> <span data-ttu-id="c3abb-104">"…</span><span class="sxs-lookup"><span data-stu-id="c3abb-104">"…</span></span> <span data-ttu-id="c3abb-105">恰当合理的设计，会使功能的价格变便宜。</span><span class="sxs-lookup"><span data-stu-id="c3abb-105">with proper design, the features come cheaply.</span></span> <span data-ttu-id="c3abb-106">这种方式有难度，但是却总有成效。”</span><span class="sxs-lookup"><span data-stu-id="c3abb-106">This approach is arduous, but continues to succeed."</span></span>  
> <span data-ttu-id="c3abb-107">\- Dennis Ritchie</span><span class="sxs-lookup"><span data-stu-id="c3abb-107">_\- Dennis Ritchie_</span></span>

<span data-ttu-id="c3abb-108">新式 Web 应用程序比以往承载着更高的用户期望和要求。</span><span class="sxs-lookup"><span data-stu-id="c3abb-108">Modern web applications have higher user expectations and greater demands than ever before.</span></span> <span data-ttu-id="c3abb-109">当今的 Web 应用需要能在全球任何地方任意时刻可用，需要可在任何设备或屏幕尺寸上使用。</span><span class="sxs-lookup"><span data-stu-id="c3abb-109">Today's web apps are expected to be available 24/7 from anywhere in the world, and usable from virtually any device or screen size.</span></span> <span data-ttu-id="c3abb-110">Web 应用程序必须具有安全性、灵活性和可缩放性，以便满足高峰需求。</span><span class="sxs-lookup"><span data-stu-id="c3abb-110">Web applications must be secure, flexible, and scalable to meet spikes in demand.</span></span> <span data-ttu-id="c3abb-111">如今复杂方案日益需要由丰富的用户体验来处理，这建立在使用 JavaScript 并通过 Web API 进行有效通信的客户端的基础之上。</span><span class="sxs-lookup"><span data-stu-id="c3abb-111">Increasingly, complex scenarios should be handled by rich user experiences built on the client using JavaScript, and communicating efficiently through web APIs.</span></span>

<span data-ttu-id="c3abb-112">ASP.NET Core 针对新式 Web 应用程序和基于云的托管方案进行了优化。</span><span class="sxs-lookup"><span data-stu-id="c3abb-112">ASP.NET Core is optimized for modern web applications and cloud-based hosting scenarios.</span></span> <span data-ttu-id="c3abb-113">其模块化设计使应用程序仅依赖于其实际使用的功能，从而提升应用程序安全性和性能，降低托管资源要求。</span><span class="sxs-lookup"><span data-stu-id="c3abb-113">Its modular design enables applications to depend on only those features they actually use, improving application security and performance while reducing hosting resource requirements.</span></span>

## <a name="reference-application-eshoponweb"></a><span data-ttu-id="c3abb-114">参考应用程序：eShopOnWeb</span><span class="sxs-lookup"><span data-stu-id="c3abb-114">Reference application: eShopOnWeb</span></span>

<span data-ttu-id="c3abb-115">本指南包含一个参考应用程序 eShopOnWeb，该应用程序演示了一些原则和建议。</span><span class="sxs-lookup"><span data-stu-id="c3abb-115">This guidance includes a reference application, _eShopOnWeb_, that demonstrates some of the principles and recommendations.</span></span> <span data-ttu-id="c3abb-116">该应用程序是一个简单在线商店，支持浏览衬衫、咖啡杯和其他市场产品名录。</span><span class="sxs-lookup"><span data-stu-id="c3abb-116">The application is a simple online store which supports browsing through a catalog of shirts, coffee mugs, and other marketing items.</span></span> <span data-ttu-id="c3abb-117">特意选择该简单的参考应用，方便理解。</span><span class="sxs-lookup"><span data-stu-id="c3abb-117">The reference application is deliberately simple in order to make it easy to understand.</span></span>

![eShopOnWeb](./media/image2-1.png)

<span data-ttu-id="c3abb-119">**图 2-1.**</span><span class="sxs-lookup"><span data-stu-id="c3abb-119">**Figure 2-1.**</span></span> <span data-ttu-id="c3abb-120">eShopOnWeb</span><span class="sxs-lookup"><span data-stu-id="c3abb-120">eShopOnWeb</span></span>

> ### <a name="reference-application"></a><span data-ttu-id="c3abb-121">参考应用程序</span><span class="sxs-lookup"><span data-stu-id="c3abb-121">Reference Application</span></span>
>
> - <span data-ttu-id="c3abb-122">**eShopOnWeb**</span><span class="sxs-lookup"><span data-stu-id="c3abb-122">**eShopOnWeb**</span></span>  
>   <https://github.com/dotnet/eShopOnWeb>

## <a name="cloud-hosted-and-scalable"></a><span data-ttu-id="c3abb-123">云托管和可缩放</span><span class="sxs-lookup"><span data-stu-id="c3abb-123">Cloud-hosted and scalable</span></span>

<span data-ttu-id="c3abb-124">由于低内存、高吞吐量的特点，ASP.NET Core 针对云（公共云、私有云以及任何云）进行了优化。</span><span class="sxs-lookup"><span data-stu-id="c3abb-124">ASP.NET Core is optimized for the cloud (public cloud, private cloud, any cloud) because it is low-memory and high-throughput.</span></span> <span data-ttu-id="c3abb-125">ASP.NET Core 应用程序占用空间更小，因此在相同硬件上可托管更多此类应用。并且，使用即用即付云托管服务时仅需为极少数资源付费。</span><span class="sxs-lookup"><span data-stu-id="c3abb-125">The smaller footprint of ASP.NET Core applications means you can host more of them on the same hardware, and you pay for fewer resources when using pay-as-you-go cloud hosting services.</span></span> <span data-ttu-id="c3abb-126">更高的高吞吐量意味着，通过相同硬件上的一个应用，你可服务更多客户，进而降低服务器和托管基础设施所需的投入。</span><span class="sxs-lookup"><span data-stu-id="c3abb-126">The higher-throughput means you can serve more customers from an application given the same hardware, further reducing the need to invest in servers and hosting infrastructure.</span></span>

## <a name="cross-platform"></a><span data-ttu-id="c3abb-127">跨平台</span><span class="sxs-lookup"><span data-stu-id="c3abb-127">Cross platform</span></span>

<span data-ttu-id="c3abb-128">ASP.NET Core 具有跨平台性，可在 Linux、macOS 以及 Windows 上运行。</span><span class="sxs-lookup"><span data-stu-id="c3abb-128">ASP.NET Core is cross-platform and can run on Linux, macOS, and Windows.</span></span> <span data-ttu-id="c3abb-129">这为开发和部署通过 ASP.NET Core 构建的应用带来了新的选择。</span><span class="sxs-lookup"><span data-stu-id="c3abb-129">This opens up many new options for both the development and deployment of apps built with ASP.NET Core.</span></span> <span data-ttu-id="c3abb-130">Docker 容器（包括 Linux 和 Windows）可托管 ASP.NET Core 应用程序，从而使应用程序可利用[容器和微服务](../microservices/index.md)的优势。</span><span class="sxs-lookup"><span data-stu-id="c3abb-130">Docker containers - both Linux and Windows - can host ASP.NET Core applications, allowing them to take advantage of the benefits of [containers and microservices](../microservices/index.md).</span></span>

## <a name="modular-and-loosely-coupled"></a><span data-ttu-id="c3abb-131">模块化和松散耦合</span><span class="sxs-lookup"><span data-stu-id="c3abb-131">Modular and loosely coupled</span></span>

<span data-ttu-id="c3abb-132">NuGet 包在 .NET Core 中处于第一等级，而 ASP.NET Core 应用经 NuGet 由众多库构成。</span><span class="sxs-lookup"><span data-stu-id="c3abb-132">NuGet packages are first-class citizens in .NET Core, and ASP.NET Core apps are composed of many libraries through NuGet.</span></span> <span data-ttu-id="c3abb-133">此功能的粒度有助于确保应用仅依赖和部署其实际所需的功能，从而降低占用空间和安全漏洞外围应用。</span><span class="sxs-lookup"><span data-stu-id="c3abb-133">This granularity of functionality helps ensure apps only depend on and deploy functionality they actually require, reducing their footprint and security vulnerability surface area.</span></span>

<span data-ttu-id="c3abb-134">ASP.NET Core 还完全支持内部和应用程序级别的[依赖项注入](https://deviq.com/dependency-injection/)。</span><span class="sxs-lookup"><span data-stu-id="c3abb-134">ASP.NET Core also fully supports [dependency injection](https://deviq.com/dependency-injection/), both internally and at the application level.</span></span> <span data-ttu-id="c3abb-135">接口可具有多个能按需换出的实现。</span><span class="sxs-lookup"><span data-stu-id="c3abb-135">Interfaces can have multiple implementations that can be swapped out as needed.</span></span> <span data-ttu-id="c3abb-136">依赖项注入可使应用松散耦合到此类接口，而不是特定的实现，从而使其扩展、维护和测试更加容易。</span><span class="sxs-lookup"><span data-stu-id="c3abb-136">Dependency injection allows apps to loosely couple to those interfaces, rather than specific implementations, making them easier to extend, maintain, and test.</span></span>

## <a name="easily-tested-with-automated-tests"></a><span data-ttu-id="c3abb-137">通过自动测试轻松实现测试</span><span class="sxs-lookup"><span data-stu-id="c3abb-137">Easily tested with automated tests</span></span>

<span data-ttu-id="c3abb-138">ASP.NET Core 应用程序支持单元测试，并且通过其松散耦合和依赖项注入支持，使得出于测试目的很容易将基础设施顾虑转换为虚假实现。</span><span class="sxs-lookup"><span data-stu-id="c3abb-138">ASP.NET Core applications support unit testing, and their loose coupling and support for dependency injection makes it easy to swap infrastructure concerns with fake implementations for test purposes.</span></span> <span data-ttu-id="c3abb-139">ASP.NET Core 还附带可用于托管内存中应用的 TestServer。</span><span class="sxs-lookup"><span data-stu-id="c3abb-139">ASP.NET Core also ships with a TestServer that can be used to host apps in memory.</span></span> <span data-ttu-id="c3abb-140">功能测试然后可向此内存中服务器发出请求，从而能在真实服务器上托管应用和通过网络层作出请求所需时间的短暂时间内，执行完整的应用程序堆栈（包括中间件、路由、模型绑定、筛选器等）和接收响应。</span><span class="sxs-lookup"><span data-stu-id="c3abb-140">Functional tests can then make requests to this in-memory server, exercising the full application stack (including middleware, routing, model binding, filters, etc.) and receiving a response, all in a fraction of the time it would take to host the app on a real server and make requests through the network layer.</span></span> <span data-ttu-id="c3abb-141">对于在新式 Web 应用程序中愈发重要的 API 而言，这些测试非常易于编写，具有很大作用。</span><span class="sxs-lookup"><span data-stu-id="c3abb-141">These tests are especially easy to write, and valuable, for APIs, which are increasingly important in modern web applications.</span></span>

## <a name="traditional-and-spa-behaviors-supported"></a><span data-ttu-id="c3abb-142">支持传统和 SPA 行为</span><span class="sxs-lookup"><span data-stu-id="c3abb-142">Traditional and SPA behaviors supported</span></span>

<span data-ttu-id="c3abb-143">传统 Web 应用程序涉及极少的客户端行为，而是依赖服务器执行该应用可能需要执行的所有导航、查询和更新。</span><span class="sxs-lookup"><span data-stu-id="c3abb-143">Traditional web applications have involved little client-side behavior, but instead have relied on the server for all navigation, queries, and updates the app might need to make.</span></span> <span data-ttu-id="c3abb-144">用户执行的每个新操作会被转换为新的 Web 请求，其结果是最终用户浏览器中的完整页面重载。</span><span class="sxs-lookup"><span data-stu-id="c3abb-144">Each new operation made by the user would be translated into a new web request, with the result being a full page reload in the end user's browser.</span></span> <span data-ttu-id="c3abb-145">经典模型视图控制器 (MVC) 框架通常采用此方式，其中每个新请求对应一个不同的控制器操作，这些操作会反过来作用于模型并返回一个视图。</span><span class="sxs-lookup"><span data-stu-id="c3abb-145">Classic Model-View-Controller (MVC) frameworks typically follow this approach, with each new request corresponding to a different controller action, which in turn would work with a model and return a view.</span></span> <span data-ttu-id="c3abb-146">特定页面上的一些单独操作可使用 AJAX（异步 JavaScript 和 XML）功能改进，但该应用的总体体系结构使用了多个不同的 MVC 视图和 URL 终结点。</span><span class="sxs-lookup"><span data-stu-id="c3abb-146">Some individual operations on a given page might be enhanced with AJAX (Asynchronous JavaScript and XML) functionality, but the overall architecture of the app used many different MVC views and URL endpoints.</span></span> <span data-ttu-id="c3abb-147">此外，ASP.NET Core MVC 还支持 Razor Pages，这是一种组织 MVC 样式页的较为简单的方法。</span><span class="sxs-lookup"><span data-stu-id="c3abb-147">In addition, ASP.NET Core MVC also supports Razor Pages, a simpler way to organize MVC-style pages.</span></span>

<span data-ttu-id="c3abb-148">与之相反，单页应用程序 (SPAs) 涉及极少动态生成的服务器端页面负载（如有）。</span><span class="sxs-lookup"><span data-stu-id="c3abb-148">Single Page Applications (SPAs), by contrast, involve very few dynamically generated server-side page loads (if any).</span></span> <span data-ttu-id="c3abb-149">许多 SPA 在一个静态 HTML 文件中进行初始化，此文件加载该应用启动和运行所需的 JavaScript 库。</span><span class="sxs-lookup"><span data-stu-id="c3abb-149">Many SPAs are initialized within a static HTML file that loads the necessary JavaScript libraries to start and run the app.</span></span> <span data-ttu-id="c3abb-150">这些应用大量使用 Web API 处理数据需求，并提供更为丰富的用户体验。</span><span class="sxs-lookup"><span data-stu-id="c3abb-150">These apps make heavy usage of web APIs for their data needs and can provide much richer user experiences.</span></span>

<span data-ttu-id="c3abb-151">许多 Web 应用程序同时涉及传统 Web 应用程序行为（尤其是对于内容）和 SPA（对于交互）。</span><span class="sxs-lookup"><span data-stu-id="c3abb-151">Many web applications involve a combination of traditional web application behavior (typically for content) and SPAs (for interactivity).</span></span> <span data-ttu-id="c3abb-152">ASP.NET Core 通过使用相同工具集和基础框架库，在同一应用程序中同时支持 MVC（基于视图或页面）和 Web API。</span><span class="sxs-lookup"><span data-stu-id="c3abb-152">ASP.NET Core supports both MVC (Views or Page based) and web APIs in the same application, using the same set of tools and underlying framework libraries.</span></span>

## <a name="simple-development-and-deployment"></a><span data-ttu-id="c3abb-153">简单的开发和部署</span><span class="sxs-lookup"><span data-stu-id="c3abb-153">Simple development and deployment</span></span>

<span data-ttu-id="c3abb-154">可使用简单的文本编辑器、命令行接口或者全功能开发环境（例如 Visual Studio）编写 ASP.NET Core 应用程序。</span><span class="sxs-lookup"><span data-stu-id="c3abb-154">ASP.NET Core applications can be written using simple text editors and command-line interfaces, or full-featured development environments like Visual Studio.</span></span> <span data-ttu-id="c3abb-155">整体应用程序通常部署到单个终结点。</span><span class="sxs-lookup"><span data-stu-id="c3abb-155">Monolithic applications are typically deployed to a single endpoint.</span></span> <span data-ttu-id="c3abb-156">可轻松将部署自动化，作为持续集成 (CI) 和持续交付 (CD) 管道的一部分。</span><span class="sxs-lookup"><span data-stu-id="c3abb-156">Deployments can easily be automated to occur as part of a continuous integration (CI) and continuous delivery (CD) pipeline.</span></span> <span data-ttu-id="c3abb-157">除传统的 CI/CD 工具外，Microsoft Azure 还集成了 git 存储库支持，并可在对特定 git 分支或标记作出更新时自动部署更新。</span><span class="sxs-lookup"><span data-stu-id="c3abb-157">In addition to traditional CI/CD tools, Microsoft Azure has integrated support for git repositories and can automatically deploy updates as they are made to a specified git branch or tag.</span></span> <span data-ttu-id="c3abb-158">Azure DevOps 提供了功能完备的 CI/CD 生成和部署管道，而 GitHub Actions 为在那里托管的项目提供了另一个选择。</span><span class="sxs-lookup"><span data-stu-id="c3abb-158">Azure DevOps provides a full-featured CI/CD build and deployment pipeline, and GitHub Actions provide another option for projects hosted there.</span></span>

## <a name="traditional-aspnet-and-web-forms"></a><span data-ttu-id="c3abb-159">传统的 ASP.NET 和 Web 窗体</span><span class="sxs-lookup"><span data-stu-id="c3abb-159">Traditional ASP.NET and Web Forms</span></span>

<span data-ttu-id="c3abb-160">除 ASP.NET Core 外，传统的 ASP.NET 4.x 依然是一个用于构建 Web 应用程序的可靠强大的平台。</span><span class="sxs-lookup"><span data-stu-id="c3abb-160">In addition to ASP.NET Core, traditional ASP.NET 4.x continues to be a robust and reliable platform for building web applications.</span></span> <span data-ttu-id="c3abb-161">ASP.NET 支持 MVC 和 Web API 开发模型以及 Web 窗体。Web 窗体非常适合用于基于页面的丰富应用程序开发，具有丰富的第三方组件系统。</span><span class="sxs-lookup"><span data-stu-id="c3abb-161">ASP.NET supports MVC and Web API development models, as well as Web Forms, which is well suited to rich page-based application development and features a rich third-party component ecosystem.</span></span> <span data-ttu-id="c3abb-162">Microsoft Azure 长期以来支持 ASP.NET 4.x 应用程序，而且许多开发人员非常熟悉该平台。</span><span class="sxs-lookup"><span data-stu-id="c3abb-162">Microsoft Azure has great longstanding support for ASP.NET 4.x applications, and many developers are familiar with this platform.</span></span>

## Blazor

<span data-ttu-id="c3abb-163">Blazor 包含在 ASP.NET Core 3.0 及更高版本中。</span><span class="sxs-lookup"><span data-stu-id="c3abb-163">Blazor is included with ASP.NET Core 3.0 and later.</span></span> <span data-ttu-id="c3abb-164">它提供了一种新机制，可使用 Razor、C# 和 ASP.NET Core 生成丰富的交互式 Web 客户端应用程序。</span><span class="sxs-lookup"><span data-stu-id="c3abb-164">It provides a new mechanism for building rich interactive web client applications using Razor, C#, and ASP.NET Core.</span></span> <span data-ttu-id="c3abb-165">它提供了在开发新式 Web 应用程序时要考虑的另一种解决方案。</span><span class="sxs-lookup"><span data-stu-id="c3abb-165">It offers another solution to consider when developing modern web applications.</span></span> <span data-ttu-id="c3abb-166">有两个版本的 Blazor 可供考虑：服务器端和客户端。</span><span class="sxs-lookup"><span data-stu-id="c3abb-166">There are two versions of Blazor to consider: server-side and client-side.</span></span>

<span data-ttu-id="c3abb-167">服务器端 Blazor 于 2019 年随 ASP.NET Core 3.0 一起发布。</span><span class="sxs-lookup"><span data-stu-id="c3abb-167">Server-side Blazor was released in 2019 with ASP.NET Core 3.0.</span></span> <span data-ttu-id="c3abb-168">顾名思义，它在服务器上运行，通过网络将对客户端文档的更改重新呈现到浏览器。</span><span class="sxs-lookup"><span data-stu-id="c3abb-168">As its name implies, it runs on the server, rendering changes to the client document back to the browser over the network.</span></span> <span data-ttu-id="c3abb-169">服务器端 Blazor 提供了丰富的客户端体验，而无需客户端 JavaScript，也不需要为每个客户端页面交互单独加载页面。</span><span class="sxs-lookup"><span data-stu-id="c3abb-169">Server-side Blazor provides a rich client experience without requiring client-side JavaScript and without requiring separate page loads for each client page interaction.</span></span> <span data-ttu-id="c3abb-170">服务器请求并处理已加载页面中的更改，然后使用 SignalR 将其发送回客户端。</span><span class="sxs-lookup"><span data-stu-id="c3abb-170">Changes in the loaded page are requested from and processed by the server and then sent back to the client using SignalR.</span></span>

<span data-ttu-id="c3abb-171">2020 年 5 月发布客户端 Blazor 后，不再需要在服务器上呈现更改。</span><span class="sxs-lookup"><span data-stu-id="c3abb-171">Client-side Blazor released in May 2020 eliminates the need to render changes on the server.</span></span> <span data-ttu-id="c3abb-172">相反，它将利用 WebAssembly 在客户端中运行 .NET 代码。</span><span class="sxs-lookup"><span data-stu-id="c3abb-172">Instead, it leverages WebAssembly to run .NET code within the client.</span></span> <span data-ttu-id="c3abb-173">如果需要请求数据，客户端仍然可以对服务器进行 API 调用，但是所有客户端行为都是通过 WebAssembly（它在所有主流浏览器中受支持，并且只是一个 Javascript 库）在客户端中运行的。</span><span class="sxs-lookup"><span data-stu-id="c3abb-173">The client can still make API calls to the server if needed to request data, but all client-side behavior runs in the client via WebAssembly, which is already supported by all major browsers and is just a Javascript library.</span></span>

> ### <a name="references--modern-web-applications"></a><span data-ttu-id="c3abb-174">参考 - 新式 Web 应用程序</span><span class="sxs-lookup"><span data-stu-id="c3abb-174">References – Modern Web Applications</span></span>
>
> - <span data-ttu-id="c3abb-175">**ASP.NET Core 简介**</span><span class="sxs-lookup"><span data-stu-id="c3abb-175">**Introduction to ASP.NET Core**</span></span>  
>   <https://docs.microsoft.com/aspnet/core/>
> - <span data-ttu-id="c3abb-176">**在 ASP.NET Core 进行测试**</span><span class="sxs-lookup"><span data-stu-id="c3abb-176">**Testing in ASP.NET Core**</span></span>  
>   <https://docs.microsoft.com/aspnet/core/testing/>
> - <span data-ttu-id="c3abb-177">**Blazor - 入门**</span><span class="sxs-lookup"><span data-stu-id="c3abb-177">**Blazor - Get Started**</span></span>  
>   <https://blazor.net/docs/get-started.html>

>[!div class="step-by-step"]
><span data-ttu-id="c3abb-178">[上一页](index.md)
>[下一页](choose-between-traditional-web-and-single-page-apps.md)</span><span class="sxs-lookup"><span data-stu-id="c3abb-178">[Previous](index.md)
[Next](choose-between-traditional-web-and-single-page-apps.md)</span></span>
