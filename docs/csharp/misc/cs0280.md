---
description: 编译器警告（等级 2）CS0280
title: 编译器警告（等级 2）CS0280
ms.date: 07/20/2015
f1_keywords:
- CS0280
helpviewer_keywords:
- CS0280
ms.assetid: 9b453478-92aa-4fd2-9b87-780fd138603a
ms.openlocfilehash: 1ee2857514a7c653d40ca47d1544daff1820b99a
ms.sourcegitcommit: d579fb5e4b46745fd0f1f8874c94c6469ce58604
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/30/2020
ms.locfileid: "89140641"
---
# <a name="compiler-warning-level-2-cs0280"></a><span data-ttu-id="ae67c-103">编译器警告（等级 2）CS0280</span><span class="sxs-lookup"><span data-stu-id="ae67c-103">Compiler Warning (level 2) CS0280</span></span>
<span data-ttu-id="ae67c-104">“type”不实现“pattern name”模式。</span><span class="sxs-lookup"><span data-stu-id="ae67c-104">'type' does not implement the 'pattern name' pattern.</span></span> <span data-ttu-id="ae67c-105">“method name”具有错误的签名。</span><span class="sxs-lookup"><span data-stu-id="ae67c-105">'method name' has the wrong signature.</span></span>  
  
 <span data-ttu-id="ae67c-106">C# 中的两个语句 **foreach** 和 **using**分别依赖于预定义模式“集合”和“资源”。</span><span class="sxs-lookup"><span data-stu-id="ae67c-106">Two statements in C#, **foreach** and **using**, rely on predefined patterns, "collection" and "resource" respectively.</span></span> <span data-ttu-id="ae67c-107">当编译器由于方法的签名不正确，而无法将这两个语句中的某个语句与其模式匹配时，会出现此警告。</span><span class="sxs-lookup"><span data-stu-id="ae67c-107">This warning occurs when the compiler cannot match one of these statements to its pattern due to a method's incorrect signature.</span></span> <span data-ttu-id="ae67c-108">例如，“集合”模式要求存在一个不采用任何参数并返回 <xref:System.Collections.IEnumerator.MoveNext%2A> 的名为 `boolean`的方法。</span><span class="sxs-lookup"><span data-stu-id="ae67c-108">For example, the "collection" pattern requires that there be a method called <xref:System.Collections.IEnumerator.MoveNext%2A> which takes no parameters and returns a `boolean`.</span></span> <span data-ttu-id="ae67c-109">你的代码可能包含具有参数或可能返回对象的 <xref:System.Collections.IEnumerator.MoveNext%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="ae67c-109">Your code might contain a <xref:System.Collections.IEnumerator.MoveNext%2A> method that has a parameter or perhaps returns an object.</span></span>  
  
 <span data-ttu-id="ae67c-110">“资源”模式和 `using` 是另一个示例。</span><span class="sxs-lookup"><span data-stu-id="ae67c-110">The "resource" pattern and `using` provide another example.</span></span> <span data-ttu-id="ae67c-111">“资源”模式需要 <xref:System.IDisposable.Dispose%2A> 方法；如果定义了同名属性，则你会收到此警告。</span><span class="sxs-lookup"><span data-stu-id="ae67c-111">The "resource" pattern requires the <xref:System.IDisposable.Dispose%2A> method; if you define a property with the same name, you will get this warning.</span></span>  
  
 <span data-ttu-id="ae67c-112">要解决此警告，请确保类型中的方法签名与模式中对应方法的签名匹配，并确保你没有与模式所需方法同名的属性。</span><span class="sxs-lookup"><span data-stu-id="ae67c-112">To resolve this warning, ensure that the method signatures in your type match the signatures of the corresponding methods in the pattern, and ensure that you have no properties with the same name as a method required by the pattern.</span></span>  
  
## <a name="example"></a><span data-ttu-id="ae67c-113">示例</span><span class="sxs-lookup"><span data-stu-id="ae67c-113">Example</span></span>  
 <span data-ttu-id="ae67c-114">下面的示例生成 CS0280。</span><span class="sxs-lookup"><span data-stu-id="ae67c-114">The following sample generates CS0280.</span></span>  
  
```csharp  
// CS0280.cs  
using System;  
using System.Collections;  
  
public class ValidBase: IEnumerable  
{  
   IEnumerator IEnumerable.GetEnumerator()  
   {  
      yield return 0;  
   }  
  
   internal IEnumerator GetEnumerator()  
   {  
      yield return 0;  
   }  
}  
  
class Derived : ValidBase  
{  
   // field, not method  
   new public int GetEnumerator;  
}  
  
public class Test  
{  
   public static void Main()  
   {  
      foreach (int i in new Derived()) {}   // CS0280  
   }  
}  
```
