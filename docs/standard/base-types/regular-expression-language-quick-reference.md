---
title: 正则表达式语言 - 快速参考
description: 此快速参考介绍了如何使用正则表达式模式匹配输入文本。 模式具有一个或多个字符文本、运算符或构造。
ms.date: 03/30/2017
ms.technology: dotnet-standard
f1_keywords:
- VS.RegularExpressionBuilder
helpviewer_keywords:
- regex cheat sheet
- parsing text with regular expressions, language elements
- searching with regular expressions, language elements
- pattern-matching with regular expressions, language elements
- regular expressions, language elements
- regular expressions [.NET]
- cheat sheet
- .NET regular expressions, language elements
ms.assetid: 930653a6-95d2-4697-9d5a-52d11bb6fd4c
ms.openlocfilehash: 986e7417d85655acc66a5c308aa79477c96fd629
ms.sourcegitcommit: 4a938327bad8b2e20cabd0f46a9dc50882596f13
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/28/2020
ms.locfileid: "92889304"
---
# <a name="regular-expression-language---quick-reference"></a><span data-ttu-id="45d2e-104">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="45d2e-104">Regular Expression Language - Quick Reference</span></span>

<span data-ttu-id="45d2e-105">正则表达式是正则表达式引擎尝试匹配输入文本的一种模式。</span><span class="sxs-lookup"><span data-stu-id="45d2e-105">A regular expression is a pattern that the regular expression engine attempts to match in input text.</span></span> <span data-ttu-id="45d2e-106">模式由一个或多个字符文本、运算符或构造组成。</span><span class="sxs-lookup"><span data-stu-id="45d2e-106">A pattern consists of one or more character literals, operators, or constructs.</span></span> <span data-ttu-id="45d2e-107">有关简要介绍，请参阅 [.NET 正则表达式](regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-107">For a brief introduction, see [.NET Regular Expressions](regular-expressions.md).</span></span>

<span data-ttu-id="45d2e-108">此快速参考中的每一节都列出了可用于定义正则表达式的字符、运算符和构造的一种特定类别。</span><span class="sxs-lookup"><span data-stu-id="45d2e-108">Each section in this quick reference lists a particular category of characters, operators, and constructs that you can use to define regular expressions.</span></span>

<span data-ttu-id="45d2e-109">此外，我们还以两种格式提供此信息，供你下载和打印以便参考：</span><span class="sxs-lookup"><span data-stu-id="45d2e-109">We've also provided this information in two formats that you can download and print for easy reference:</span></span>

- [<span data-ttu-id="45d2e-110">以 Word (.docx) 格式下载</span><span class="sxs-lookup"><span data-stu-id="45d2e-110">Download in Word (.docx) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
- [<span data-ttu-id="45d2e-111">以 PDF (.pdf) 格式下载</span><span class="sxs-lookup"><span data-stu-id="45d2e-111">Download in PDF (.pdf) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)

## <a name="character-escapes"></a><span data-ttu-id="45d2e-112">字符转义</span><span class="sxs-lookup"><span data-stu-id="45d2e-112">Character Escapes</span></span>

<span data-ttu-id="45d2e-113">正则表达式中的反斜杠字符 (\\) 指示其后跟的字符是特殊字符（如下表所示），或应按原义解释该字符。</span><span class="sxs-lookup"><span data-stu-id="45d2e-113">The backslash character (\\) in a regular expression indicates that the character that follows it either is a special character (as shown in the following table), or should be interpreted literally.</span></span> <span data-ttu-id="45d2e-114">有关详细信息，请参阅[字符转义](character-escapes-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-114">For more information, see [Character Escapes](character-escapes-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-115">转义字符</span><span class="sxs-lookup"><span data-stu-id="45d2e-115">Escaped character</span></span>|<span data-ttu-id="45d2e-116">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-116">Description</span></span>|<span data-ttu-id="45d2e-117">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-117">Pattern</span></span>|<span data-ttu-id="45d2e-118">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-118">Matches</span></span>|
|-----------------------|-----------------|-------------|-------------|
|`\a`|<span data-ttu-id="45d2e-119">与报警 (bell) 符 \u0007 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-119">Matches a bell character, \u0007.</span></span>|`\a`|<span data-ttu-id="45d2e-120">`"Error!" + '\u0007'` 中的 `"\u0007"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-120">`"\u0007"` in `"Error!" + '\u0007'`</span></span>|
|`\b`|<span data-ttu-id="45d2e-121">在字符类中，与退格键 \u0008 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-121">In a character class, matches a backspace, \u0008.</span></span>|`[\b]{3,}`|<span data-ttu-id="45d2e-122">`"\b\b\b\b"` 中的 `"\b\b\b\b"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-122">`"\b\b\b\b"` in `"\b\b\b\b"`</span></span>|
|`\t`|<span data-ttu-id="45d2e-123">与制表符 \u0009 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-123">Matches a tab, \u0009.</span></span>|`(\w+)\t`|<span data-ttu-id="45d2e-124">`"item1\titem2\t"` 中的 `"item1\t"` 和 `"item2\t"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-124">`"item1\t"`, `"item2\t"` in `"item1\titem2\t"`</span></span>|
|`\r`|<span data-ttu-id="45d2e-125">与回车符 \u000D 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-125">Matches a carriage return, \u000D.</span></span> <span data-ttu-id="45d2e-126">（`\r` 与换行符 `\n`不是等效的。）</span><span class="sxs-lookup"><span data-stu-id="45d2e-126">(`\r` is not equivalent to the newline character, `\n`.)</span></span>|`\r\n(\w+)`|<span data-ttu-id="45d2e-127">`"\r\nThese are\ntwo lines."` 中的 `"\r\nThese"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-127">`"\r\nThese"` in `"\r\nThese are\ntwo lines."`</span></span>|
|`\v`|<span data-ttu-id="45d2e-128">与垂直制表符 \u000B 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-128">Matches a vertical tab, \u000B.</span></span>|`[\v]{2,}`|<span data-ttu-id="45d2e-129">`"\v\v\v"` 中的 `"\v\v\v"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-129">`"\v\v\v"` in `"\v\v\v"`</span></span>|
|`\f`|<span data-ttu-id="45d2e-130">与换页符 \u000C 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-130">Matches a form feed, \u000C.</span></span>|`[\f]{2,}`|<span data-ttu-id="45d2e-131">`"\f\f\f"` 中的 `"\f\f\f"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-131">`"\f\f\f"` in `"\f\f\f"`</span></span>|
|`\n`|<span data-ttu-id="45d2e-132">与换行符 \u000A 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-132">Matches a new line, \u000A.</span></span>|`\r\n(\w+)`|<span data-ttu-id="45d2e-133">`"\r\nThese are\ntwo lines."` 中的 `"\r\nThese"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-133">`"\r\nThese"` in `"\r\nThese are\ntwo lines."`</span></span>|
|`\e`|<span data-ttu-id="45d2e-134">与转义符 \u001B 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-134">Matches an escape, \u001B.</span></span>|`\e`|<span data-ttu-id="45d2e-135">`"\x001B"` 中的 `"\x001B"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-135">`"\x001B"` in `"\x001B"`</span></span>|
|<span data-ttu-id="45d2e-136">`\` *nnn*</span><span class="sxs-lookup"><span data-stu-id="45d2e-136">`\` *nnn*</span></span>|<span data-ttu-id="45d2e-137">使用八进制表示形式指定字符（ *nnn* 由二位或三位数字组成）。</span><span class="sxs-lookup"><span data-stu-id="45d2e-137">Uses octal representation to specify a character ( *nnn* consists of two or three digits).</span></span>|`\w\040\w`|<span data-ttu-id="45d2e-138">`"a bc d"` 中的 `"a b"` 和 `"c d"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-138">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|<span data-ttu-id="45d2e-139">`\x` *nn*</span><span class="sxs-lookup"><span data-stu-id="45d2e-139">`\x` *nn*</span></span>|<span data-ttu-id="45d2e-140">使用十六进制表示形式指定字符（ *nn* 恰好由两位数字组成）。</span><span class="sxs-lookup"><span data-stu-id="45d2e-140">Uses hexadecimal representation to specify a character ( *nn* consists of exactly two digits).</span></span>|`\w\x20\w`|<span data-ttu-id="45d2e-141">`"a bc d"` 中的 `"a b"` 和 `"c d"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-141">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|<span data-ttu-id="45d2e-142">`\c` *X*</span><span class="sxs-lookup"><span data-stu-id="45d2e-142">`\c` *X*</span></span><br /><br /> <span data-ttu-id="45d2e-143">`\c` x</span><span class="sxs-lookup"><span data-stu-id="45d2e-143">`\c` *x*</span></span>|<span data-ttu-id="45d2e-144">匹配 *X* 或 *x* 指定的 ASCII 控制字符，其中 *X* 或 *x* 是控制字符的字母。</span><span class="sxs-lookup"><span data-stu-id="45d2e-144">Matches the ASCII control character that is specified by *X* or *x* , where *X* or *x* is the letter of the control character.</span></span>|`\cC`|<span data-ttu-id="45d2e-145">`"\x0003"` 中的 `"\x0003"` (Ctrl-C)</span><span class="sxs-lookup"><span data-stu-id="45d2e-145">`"\x0003"` in `"\x0003"` (Ctrl-C)</span></span>|
|<span data-ttu-id="45d2e-146">`\u` *nnnn*</span><span class="sxs-lookup"><span data-stu-id="45d2e-146">`\u` *nnnn*</span></span>|<span data-ttu-id="45d2e-147">使用十六进制表示形式匹配 Unicode 字符（由 *nnnn* 正确表示的四位数）。</span><span class="sxs-lookup"><span data-stu-id="45d2e-147">Matches a Unicode character by using hexadecimal representation (exactly four digits, as represented by *nnnn* ).</span></span>|`\w\u0020\w`|<span data-ttu-id="45d2e-148">`"a bc d"` 中的 `"a b"` 和 `"c d"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-148">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|`\`|<span data-ttu-id="45d2e-149">在后面带有不识别为本主题的此表和其他表中的转义符的字符时，与该字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-149">When followed by a character that is not recognized as an escaped character in this and other tables in this topic, matches that character.</span></span> <span data-ttu-id="45d2e-150">例如， `\*` 与 `\x2A`相同，而 `\.` 与 `\x2E`相同。</span><span class="sxs-lookup"><span data-stu-id="45d2e-150">For example, `\*` is the same as `\x2A`, and `\.` is the same as `\x2E`.</span></span> <span data-ttu-id="45d2e-151">这样一来，正则表达式引擎可以区分语言元素（如 \* 或 ?）和字符文本（由 `\*` 或 `\?` 表示）。</span><span class="sxs-lookup"><span data-stu-id="45d2e-151">This allows the regular expression engine to disambiguate language elements (such as \* or ?) and character literals (represented by `\*` or `\?`).</span></span>|`\d+[\+-x\*]\d+`|<span data-ttu-id="45d2e-152">`"(2+2) * 3*9"` 中的 `"2+2"` 和 `"3*9"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-152">`"2+2"` and `"3*9"` in `"(2+2) * 3*9"`</span></span>|

## <a name="character-classes"></a><span data-ttu-id="45d2e-153">字符类</span><span class="sxs-lookup"><span data-stu-id="45d2e-153">Character Classes</span></span>

<span data-ttu-id="45d2e-154">字符类与一组字符中的任何一个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-154">A character class matches any one of a set of characters.</span></span> <span data-ttu-id="45d2e-155">字符类包括下表中列出的语言元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-155">Character classes include the language elements listed in the following table.</span></span> <span data-ttu-id="45d2e-156">有关更多信息，请参见 [字符类](character-classes-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-156">For more information, see [Character Classes](character-classes-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-157">字符类</span><span class="sxs-lookup"><span data-stu-id="45d2e-157">Character class</span></span>|<span data-ttu-id="45d2e-158">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-158">Description</span></span>|<span data-ttu-id="45d2e-159">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-159">Pattern</span></span>|<span data-ttu-id="45d2e-160">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-160">Matches</span></span>|
|---------------------|-----------------|-------------|-------------|
|<span data-ttu-id="45d2e-161">`[` character_group `]`</span><span class="sxs-lookup"><span data-stu-id="45d2e-161">`[` *character_group* `]`</span></span>|<span data-ttu-id="45d2e-162">匹配 *character_group* 中的任何单个字符。</span><span class="sxs-lookup"><span data-stu-id="45d2e-162">Matches any single character in *character_group* .</span></span> <span data-ttu-id="45d2e-163">默认情况下，匹配区分大小写。</span><span class="sxs-lookup"><span data-stu-id="45d2e-163">By default, the match is case-sensitive.</span></span>|`[ae]`|<span data-ttu-id="45d2e-164">`"gray"` 中的 `"a"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-164">`"a"` in `"gray"`</span></span><br /><br /> <span data-ttu-id="45d2e-165">`"lane"` 中的 `"a"` 和 `"e"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-165">`"a"`, `"e"` in `"lane"`</span></span>|
|<span data-ttu-id="45d2e-166">`[^` character_group `]`</span><span class="sxs-lookup"><span data-stu-id="45d2e-166">`[^` *character_group* `]`</span></span>|<span data-ttu-id="45d2e-167">求反：与不在 character_group 中的任意单个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-167">Negation: Matches any single character that is not in *character_group* .</span></span> <span data-ttu-id="45d2e-168">默认情况下， *character_group* 中的字符区分大小写。</span><span class="sxs-lookup"><span data-stu-id="45d2e-168">By default, characters in *character_group* are case-sensitive.</span></span>|`[^aei]`|<span data-ttu-id="45d2e-169">`"reign"` 中的 `"r"`、`"g"` 和 `"n"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-169">`"r"`, `"g"`, `"n"` in `"reign"`</span></span>|
|<span data-ttu-id="45d2e-170">`[` first `-` last `]` </span><span class="sxs-lookup"><span data-stu-id="45d2e-170">`[` *first* `-` *last* `]`</span></span>|<span data-ttu-id="45d2e-171">字符范围：与从 *first* 到 *last* 的范围中的任意单个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-171">Character range: Matches any single character in the range from *first* to *last* .</span></span>|`[A-Z]`|<span data-ttu-id="45d2e-172">`"AB123"` 中的 `"A"` 和 `"B"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-172">`"A"`, `"B"` in `"AB123"`</span></span>|
|`.`|<span data-ttu-id="45d2e-173">通配符：与除 \n 之外的任意单个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-173">Wildcard: Matches any single character except \n.</span></span><br /><br /> <span data-ttu-id="45d2e-174">若要匹配文本句点字符（.</span><span class="sxs-lookup"><span data-stu-id="45d2e-174">To match a literal period character (.</span></span> <span data-ttu-id="45d2e-175">或 `\u002E`），你必须在该字符前面加上转义符 (`\.`)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-175">or `\u002E`), you must precede it with the escape character (`\.`).</span></span>|`a.e`|<span data-ttu-id="45d2e-176">`"nave"` 中的 `"ave"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-176">`"ave"` in `"nave"`</span></span><br /><br /> <span data-ttu-id="45d2e-177">`"water"` 中的 `"ate"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-177">`"ate"` in `"water"`</span></span>|
|<span data-ttu-id="45d2e-178">`\p{` *name* `}`</span><span class="sxs-lookup"><span data-stu-id="45d2e-178">`\p{` *name* `}`</span></span>|<span data-ttu-id="45d2e-179">与 *name* 指定的 Unicode 通用类别或命名块中的任何单个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-179">Matches any single character in the Unicode general category or named block specified by *name* .</span></span>|`\p{Lu}`<br /><br /> `\p{IsCyrillic}`|<span data-ttu-id="45d2e-180">`"City Lights"` 中的 `"C"` 和 `"L"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-180">`"C"`, `"L"` in `"City Lights"`</span></span><br /><br /> <span data-ttu-id="45d2e-181">`"ДЖem"` 中的 `"Д"` 和 `"Ж"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-181">`"Д"`, `"Ж"` in `"ДЖem"`</span></span>|
|<span data-ttu-id="45d2e-182">`\P{` *name* `}`</span><span class="sxs-lookup"><span data-stu-id="45d2e-182">`\P{` *name* `}`</span></span>|<span data-ttu-id="45d2e-183">与不在 *name* 指定的 Unicode 通用类别或命名块中的任何单个字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-183">Matches any single character that is not in the Unicode general category or named block specified by *name* .</span></span>|`\P{Lu}`<br /><br /> `\P{IsCyrillic}`|<span data-ttu-id="45d2e-184">`"City"` 中的 `"i"`、`"t"` 和 `"y"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-184">`"i"`, `"t"`, `"y"` in `"City"`</span></span><br /><br /> <span data-ttu-id="45d2e-185">`"ДЖem"` 中的 `"e"` 和 `"m"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-185">`"e"`, `"m"` in `"ДЖem"`</span></span>|
|`\w`|<span data-ttu-id="45d2e-186">与任何单词字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-186">Matches any word character.</span></span>|`\w`|<span data-ttu-id="45d2e-187">`"ID A1.3"` 中的 `"I"`、`"D"`、`"A"`、`"1"` 和 `"3"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-187">`"I"`, `"D"`, `"A"`, `"1"`, `"3"` in `"ID A1.3"`</span></span>|
|`\W`|<span data-ttu-id="45d2e-188">与任何非单词字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-188">Matches any non-word character.</span></span>|`\W`|<span data-ttu-id="45d2e-189">`"ID A1.3"` 中的 `" "` 和 `"."`</span><span class="sxs-lookup"><span data-stu-id="45d2e-189">`" "`, `"."` in `"ID A1.3"`</span></span>|
|`\s`|<span data-ttu-id="45d2e-190">与任何空白字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-190">Matches any white-space character.</span></span>|`\w\s`|<span data-ttu-id="45d2e-191">`"ID A1.3"` 中的 `"D "`</span><span class="sxs-lookup"><span data-stu-id="45d2e-191">`"D "` in `"ID A1.3"`</span></span>|
|`\S`|<span data-ttu-id="45d2e-192">与任何非空白字符匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-192">Matches any non-white-space character.</span></span>|`\s\S`|<span data-ttu-id="45d2e-193">`"int __ctr"` 中的 `" _"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-193">`" _"` in `"int __ctr"`</span></span>|
|`\d`|<span data-ttu-id="45d2e-194">与任何十进制数字匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-194">Matches any decimal digit.</span></span>|`\d`|<span data-ttu-id="45d2e-195">`"4 = IV"` 中的 `"4"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-195">`"4"` in `"4 = IV"`</span></span>|
|`\D`|<span data-ttu-id="45d2e-196">匹配不是十进制数的任意字符。</span><span class="sxs-lookup"><span data-stu-id="45d2e-196">Matches any character other than a decimal digit.</span></span>|`\D`|<span data-ttu-id="45d2e-197">`"4 = IV"` 中的 `" "`、`"="`、`" "`、`"I"` 和 `"V"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-197">`" "`, `"="`, `" "`, `"I"`, `"V"` in `"4 = IV"`</span></span>|

## <a name="anchors"></a><span data-ttu-id="45d2e-198">定位点</span><span class="sxs-lookup"><span data-stu-id="45d2e-198">Anchors</span></span>

<span data-ttu-id="45d2e-199">定位点或原子零宽度断言会使匹配成功或失败，具体取决于字符串中的当前位置，但它们不会使引擎在字符串中前进或使用字符。</span><span class="sxs-lookup"><span data-stu-id="45d2e-199">Anchors, or atomic zero-width assertions, cause a match to succeed or fail depending on the current position in the string, but they do not cause the engine to advance through the string or consume characters.</span></span> <span data-ttu-id="45d2e-200">下表中列出的元字符是定位点。</span><span class="sxs-lookup"><span data-stu-id="45d2e-200">The metacharacters listed in the following table are anchors.</span></span> <span data-ttu-id="45d2e-201">有关详细信息，请参阅 [定位点](anchors-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-201">For more information, see [Anchors](anchors-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-202">断言</span><span class="sxs-lookup"><span data-stu-id="45d2e-202">Assertion</span></span>|<span data-ttu-id="45d2e-203">说明</span><span class="sxs-lookup"><span data-stu-id="45d2e-203">Description</span></span>|<span data-ttu-id="45d2e-204">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-204">Pattern</span></span>|<span data-ttu-id="45d2e-205">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-205">Matches</span></span>|
|---------------|-----------------|-------------|-------------|
|`^`|<span data-ttu-id="45d2e-206">默认情况下，必须从字符串的开头开始匹配；在多行模式中，必须从该行的开头开始。</span><span class="sxs-lookup"><span data-stu-id="45d2e-206">By default, the match must start at the beginning of the string; in multiline mode, it must start at the beginning of the line.</span></span>|`^\d{3}`|<span data-ttu-id="45d2e-207">`"901-333-"` 中的 `"901"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-207">`"901"` in `"901-333-"`</span></span>|
|`$`|<span data-ttu-id="45d2e-208">默认情况下，匹配必须出现在字符串的末尾，或在字符串末尾的 `\n` 之前；在多行模式中，必须出现在该行的末尾之前，或在该行末尾的 `\n` 之前。</span><span class="sxs-lookup"><span data-stu-id="45d2e-208">By default, the match must occur at the end of the string or before `\n` at the end of the string; in multiline mode, it must occur before the end of the line or before `\n` at the end of the line.</span></span>|`-\d{3}$`|<span data-ttu-id="45d2e-209">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-209">`"-333"` in `"-901-333"`</span></span>|
|`\A`|<span data-ttu-id="45d2e-210">匹配必须出现在字符串的开头。</span><span class="sxs-lookup"><span data-stu-id="45d2e-210">The match must occur at the start of the string.</span></span>|`\A\d{3}`|<span data-ttu-id="45d2e-211">`"901-333-"` 中的 `"901"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-211">`"901"` in `"901-333-"`</span></span>|
|`\Z`|<span data-ttu-id="45d2e-212">匹配必须出现在字符串的末尾或出现在字符串末尾的 `\n` 之前。</span><span class="sxs-lookup"><span data-stu-id="45d2e-212">The match must occur at the end of the string or before `\n` at the end of the string.</span></span>|`-\d{3}\Z`|<span data-ttu-id="45d2e-213">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-213">`"-333"` in `"-901-333"`</span></span>|
|`\z`|<span data-ttu-id="45d2e-214">匹配必须出现在字符串的末尾。</span><span class="sxs-lookup"><span data-stu-id="45d2e-214">The match must occur at the end of the string.</span></span>|`-\d{3}\z`|<span data-ttu-id="45d2e-215">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-215">`"-333"` in `"-901-333"`</span></span>|
|`\G`|<span data-ttu-id="45d2e-216">匹配必须出现在上一个匹配结束的地方。</span><span class="sxs-lookup"><span data-stu-id="45d2e-216">The match must occur at the point where the previous match ended.</span></span>|`\G\(\d\)`|<span data-ttu-id="45d2e-217">`"(1)(3)(5)[7](9)"` 中的 `"(1)"`、`"(3)"` 和 `"(5)"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-217">`"(1)"`, `"(3)"`, `"(5)"` in `"(1)(3)(5)[7](9)"`</span></span>|
|`\b`|<span data-ttu-id="45d2e-218">匹配必须出现在 `\w` （字母数字）和 `\W` （非字母数字）字符之间的边界上。</span><span class="sxs-lookup"><span data-stu-id="45d2e-218">The match must occur on a boundary between a `\w` (alphanumeric) and a `\W` (nonalphanumeric) character.</span></span>|`\b\w+\s\w+\b`|<span data-ttu-id="45d2e-219">`"them theme them them"` 中的 `"them theme"` 和 `"them them"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-219">`"them theme"`, `"them them"` in `"them theme them them"`</span></span>|
|`\B`|<span data-ttu-id="45d2e-220">匹配不得出现在 `\b` 边界上。</span><span class="sxs-lookup"><span data-stu-id="45d2e-220">The match must not occur on a `\b` boundary.</span></span>|`\Bend\w*\b`|<span data-ttu-id="45d2e-221">`"end sends endure lender"` 中的 `"ends"` 和 `"ender"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-221">`"ends"`, `"ender"` in `"end sends endure lender"`</span></span>|

## <a name="grouping-constructs"></a><span data-ttu-id="45d2e-222">分组构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-222">Grouping Constructs</span></span>

<span data-ttu-id="45d2e-223">分组构造描述了正则表达式的子表达式，通常用于捕获输入字符串的子字符串。</span><span class="sxs-lookup"><span data-stu-id="45d2e-223">Grouping constructs delineate subexpressions of a regular expression and typically capture substrings of an input string.</span></span> <span data-ttu-id="45d2e-224">分组构造包括下表中列出的语言元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-224">Grouping constructs include the language elements listed in the following table.</span></span> <span data-ttu-id="45d2e-225">有关详细信息，请参阅 [分组构造](grouping-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-225">For more information, see [Grouping Constructs](grouping-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-226">分组构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-226">Grouping construct</span></span>|<span data-ttu-id="45d2e-227">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-227">Description</span></span>|<span data-ttu-id="45d2e-228">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-228">Pattern</span></span>|<span data-ttu-id="45d2e-229">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-229">Matches</span></span>|
|------------------------|-----------------|-------------|-------------|
|<span data-ttu-id="45d2e-230">`(` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-230">`(` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-231">捕获匹配的子表达式并将其分配到一个从 1 开始的序号中。</span><span class="sxs-lookup"><span data-stu-id="45d2e-231">Captures the matched subexpression and assigns it a one-based ordinal number.</span></span>|`(\w)\1`|<span data-ttu-id="45d2e-232">`"deep"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-232">`"ee"` in `"deep"`</span></span>|
|<span data-ttu-id="45d2e-233">`(?<` name `>` subexpression `)` </span><span class="sxs-lookup"><span data-stu-id="45d2e-233">`(?<` *name* `>` *subexpression* `)`</span></span><br /> <span data-ttu-id="45d2e-234">或</span><span class="sxs-lookup"><span data-stu-id="45d2e-234">or</span></span> <br /><span data-ttu-id="45d2e-235">`(?'` name `'` subexpression `)` </span><span class="sxs-lookup"><span data-stu-id="45d2e-235">`(?'` *name* `'` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-236">将匹配的子表达式捕获到一个命名组中。</span><span class="sxs-lookup"><span data-stu-id="45d2e-236">Captures the matched subexpression into a named group.</span></span>|`(?<double>\w)\k<double>`|<span data-ttu-id="45d2e-237">`"deep"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-237">`"ee"` in `"deep"`</span></span>|
|<span data-ttu-id="45d2e-238">`(?<` name1 `-` name2 `>` subexpression `)`  </span><span class="sxs-lookup"><span data-stu-id="45d2e-238">`(?<` *name1* `-` *name2* `>` *subexpression* `)`</span></span> <br /> <span data-ttu-id="45d2e-239">或</span><span class="sxs-lookup"><span data-stu-id="45d2e-239">or</span></span> <br /> <span data-ttu-id="45d2e-240">`(?'` name1 `-` name2 `'` subexpression `)`  </span><span class="sxs-lookup"><span data-stu-id="45d2e-240">`(?'` *name1* `-` *name2* `'` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-241">定义平衡组定义。</span><span class="sxs-lookup"><span data-stu-id="45d2e-241">Defines a balancing group definition.</span></span> <span data-ttu-id="45d2e-242">有关详细信息，请参阅 [分组构造](grouping-constructs-in-regular-expressions.md)中的"平衡组定义"部分。</span><span class="sxs-lookup"><span data-stu-id="45d2e-242">For more information, see the "Balancing Group Definition" section in [Grouping Constructs](grouping-constructs-in-regular-expressions.md).</span></span>|`(((?'Open'\()[^\(\)]*)+((?'Close-Open'\))[^\(\)]*)+)*(?(Open)(?!))$`|<span data-ttu-id="45d2e-243">`"3+2^((1-3)*(3-1))"` 中的 `"((1-3)*(3-1))"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-243">`"((1-3)*(3-1))"` in `"3+2^((1-3)*(3-1))"`</span></span>|
|<span data-ttu-id="45d2e-244">`(?:` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-244">`(?:` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-245">定义非捕获组。</span><span class="sxs-lookup"><span data-stu-id="45d2e-245">Defines a noncapturing group.</span></span>|`Write(?:Line)?`|<span data-ttu-id="45d2e-246">`"Console.WriteLine()"` 中的 `"WriteLine"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-246">`"WriteLine"` in `"Console.WriteLine()"`</span></span><br /><br /> <span data-ttu-id="45d2e-247">`"Console.Write(value)"` 中的 `"Write"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-247">`"Write"` in `"Console.Write(value)"`</span></span>|
|<span data-ttu-id="45d2e-248">`(?imnsx-imnsx:` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-248">`(?imnsx-imnsx:` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-249">应用或禁用 *子表达式* 中指定的选项。</span><span class="sxs-lookup"><span data-stu-id="45d2e-249">Applies or disables the specified options within *subexpression* .</span></span> <span data-ttu-id="45d2e-250">有关详细信息，请参阅 [正则表达式选项](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-250">For more information, see [Regular Expression Options](regular-expression-options.md).</span></span>|`A\d{2}(?i:\w+)\b`|<span data-ttu-id="45d2e-251">`"A12xl A12XL a12xl"` 中的 `"A12xl"` 和 `"A12XL"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-251">`"A12xl"`, `"A12XL"` in `"A12xl A12XL a12xl"`</span></span>|
|<span data-ttu-id="45d2e-252">`(?=` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-252">`(?=` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-253">零宽度正预测先行断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-253">Zero-width positive lookahead assertion.</span></span>|`\w+(?=\.)`|<span data-ttu-id="45d2e-254">`"He is. The dog ran. The sun is out."` 中的 `"is"`、`"ran"` 和 `"out"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-254">`"is"`, `"ran"`, and `"out"` in `"He is. The dog ran. The sun is out."`</span></span>|
|<span data-ttu-id="45d2e-255">`(?!` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-255">`(?!` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-256">零宽度负预测先行断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-256">Zero-width negative lookahead assertion.</span></span>|`\b(?!un)\w+\b`|<span data-ttu-id="45d2e-257">`"unsure sure unity used"` 中的 `"sure"` 和 `"used"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-257">`"sure"`, `"used"` in `"unsure sure unity used"`</span></span>|
|<span data-ttu-id="45d2e-258">`(?<=` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-258">`(?<=` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-259">零宽度正回顾后发断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-259">Zero-width positive lookbehind assertion.</span></span>|`(?<=19)\d{2}\b`|<span data-ttu-id="45d2e-260">`"1851 1999 1950 1905 2003"` 中的 `"99"`、`"50"` 和 `"05"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-260">`"99"`, `"50"`, `"05"` in `"1851 1999 1950 1905 2003"`</span></span>|
|<span data-ttu-id="45d2e-261">`(?<!` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-261">`(?<!` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-262">零宽度负回顾后发断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-262">Zero-width negative lookbehind assertion.</span></span>|`(?<!19)\d{2}\b`|<span data-ttu-id="45d2e-263">`"1851 1999 1950 1905 2003"` 中的 `"51"` 和 `"03"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-263">`"51"`, `"03"` in `"1851 1999 1950 1905 2003"`</span></span>|
|<span data-ttu-id="45d2e-264">`(?>` subexpression `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-264">`(?>` *subexpression* `)`</span></span>|<span data-ttu-id="45d2e-265">原子组。</span><span class="sxs-lookup"><span data-stu-id="45d2e-265">Atomic group.</span></span>|`[13579](?>A+B+)`|<span data-ttu-id="45d2e-266">`"1ABB 3ABBC 5AB 5AC"` 中的 `"1ABB"`、`"3ABB"` 和 `"5AB"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-266">`"1ABB"`, `"3ABB"`, and `"5AB"` in `"1ABB 3ABBC 5AB 5AC"`</span></span>|

## <a name="quantifiers"></a><span data-ttu-id="45d2e-267">数量词</span><span class="sxs-lookup"><span data-stu-id="45d2e-267">Quantifiers</span></span>

<span data-ttu-id="45d2e-268">限定符指定在输入字符串中必须存在上一个元素（可以是字符、组或字符类）的多少个实例才能出现匹配项。</span><span class="sxs-lookup"><span data-stu-id="45d2e-268">A quantifier specifies how many instances of the previous element (which can be a character, a group, or a character class) must be present in the input string for a match to occur.</span></span> <span data-ttu-id="45d2e-269">限定符包括下表中列出的语言元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-269">Quantifiers include the language elements listed in the following table.</span></span> <span data-ttu-id="45d2e-270">有关更多信息，请参见 [数量词](quantifiers-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-270">For more information, see [Quantifiers](quantifiers-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-271">限定符</span><span class="sxs-lookup"><span data-stu-id="45d2e-271">Quantifier</span></span>|<span data-ttu-id="45d2e-272">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-272">Description</span></span>|<span data-ttu-id="45d2e-273">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-273">Pattern</span></span>|<span data-ttu-id="45d2e-274">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-274">Matches</span></span>|
|----------------|-----------------|-------------|-------------|
|`*`|<span data-ttu-id="45d2e-275">匹配上一个元素零次或多次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-275">Matches the previous element zero or more times.</span></span>|`\d*\.\d`|<span data-ttu-id="45d2e-276">`".0"`, `"19.9"`, `"219.9"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-276">`".0"`, `"19.9"`, `"219.9"`</span></span>|
|`+`|<span data-ttu-id="45d2e-277">匹配上一个元素一次或多次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-277">Matches the previous element one or more times.</span></span>|`"be+"`|<span data-ttu-id="45d2e-278">`"been"` 中的 `"bee"`、`"bent"` 中的 `"be"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-278">`"bee"` in `"been"`, `"be"` in `"bent"`</span></span>|
|`?`|<span data-ttu-id="45d2e-279">匹配上一个元素零次或一次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-279">Matches the previous element zero or one time.</span></span>|`"rai?n"`|<span data-ttu-id="45d2e-280">`"ran"`, `"rain"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-280">`"ran"`, `"rain"`</span></span>|
|<span data-ttu-id="45d2e-281">`{` n `}`</span><span class="sxs-lookup"><span data-stu-id="45d2e-281">`{` *n* `}`</span></span>|<span data-ttu-id="45d2e-282">匹配上一个元素恰好 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-282">Matches the previous element exactly *n* times.</span></span>|`",\d{3}"`|<span data-ttu-id="45d2e-283">`"1,043.6"` 中的 `",043"`、`"9,876,543,210"` 中的 `",876"`、`",543"` 和 `",210"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-283">`",043"` in `"1,043.6"`, `",876"`, `",543"`, and `",210"` in `"9,876,543,210"`</span></span>|
|<span data-ttu-id="45d2e-284">`{` n `,}`</span><span class="sxs-lookup"><span data-stu-id="45d2e-284">`{` *n* `,}`</span></span>|<span data-ttu-id="45d2e-285">匹配上一个元素至少 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-285">Matches the previous element at least *n* times.</span></span>|`"\d{2,}"`|<span data-ttu-id="45d2e-286">`"166"`, `"29"`, `"1930"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-286">`"166"`, `"29"`, `"1930"`</span></span>|
|<span data-ttu-id="45d2e-287">`{` n `,` m `}` </span><span class="sxs-lookup"><span data-stu-id="45d2e-287">`{` *n* `,` *m* `}`</span></span>|<span data-ttu-id="45d2e-288">匹配上一个元素至少 *n* 次，但不多于 *m* 次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-288">Matches the previous element at least *n* times, but no more than *m* times.</span></span>|`"\d{3,5}"`|<span data-ttu-id="45d2e-289">`"166"`, `"17668"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-289">`"166"`, `"17668"`</span></span><br /><br /> <span data-ttu-id="45d2e-290">`"193024"` 中的 `"19302"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-290">`"19302"` in `"193024"`</span></span>|
|`*?`|<span data-ttu-id="45d2e-291">匹配上一个元素零次或多次，但次数尽可能少。</span><span class="sxs-lookup"><span data-stu-id="45d2e-291">Matches the previous element zero or more times, but as few times as possible.</span></span>|`\d*?\.\d`|<span data-ttu-id="45d2e-292">`".0"`, `"19.9"`, `"219.9"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-292">`".0"`, `"19.9"`, `"219.9"`</span></span>|
|`+?`|<span data-ttu-id="45d2e-293">匹配上一个元素一次或多次，但次数尽可能少。</span><span class="sxs-lookup"><span data-stu-id="45d2e-293">Matches the previous element one or more times, but as few times as possible.</span></span>|`"be+?"`|<span data-ttu-id="45d2e-294">`"been"` 中的 `"be"`、`"bent"` 中的 `"be"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-294">`"be"` in `"been"`, `"be"` in `"bent"`</span></span>|
|`??`|<span data-ttu-id="45d2e-295">匹配上一个元素零次或一次，但次数尽可能少。</span><span class="sxs-lookup"><span data-stu-id="45d2e-295">Matches the previous element zero or one time, but as few times as possible.</span></span>|`"rai??n"`|<span data-ttu-id="45d2e-296">`"ran"`, `"rain"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-296">`"ran"`, `"rain"`</span></span>|
|<span data-ttu-id="45d2e-297">`{` n `}?`</span><span class="sxs-lookup"><span data-stu-id="45d2e-297">`{` *n* `}?`</span></span>|<span data-ttu-id="45d2e-298">匹配前面的元素恰好 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="45d2e-298">Matches the preceding element exactly *n* times.</span></span>|`",\d{3}?"`|<span data-ttu-id="45d2e-299">`"1,043.6"` 中的 `",043"`、`"9,876,543,210"` 中的 `",876"`、`",543"` 和 `",210"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-299">`",043"` in `"1,043.6"`, `",876"`, `",543"`, and `",210"` in `"9,876,543,210"`</span></span>|
|<span data-ttu-id="45d2e-300">`{` n `,}?`</span><span class="sxs-lookup"><span data-stu-id="45d2e-300">`{` *n* `,}?`</span></span>|<span data-ttu-id="45d2e-301">匹配上一个元素至少 *n* 次，但次数尽可能少。</span><span class="sxs-lookup"><span data-stu-id="45d2e-301">Matches the previous element at least *n* times, but as few times as possible.</span></span>|`"\d{2,}?"`|<span data-ttu-id="45d2e-302">`"166"`, `"29"`, `"1930"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-302">`"166"`, `"29"`, `"1930"`</span></span>|
|<span data-ttu-id="45d2e-303">`{` n `,` m `}?` </span><span class="sxs-lookup"><span data-stu-id="45d2e-303">`{` *n* `,` *m* `}?`</span></span>|<span data-ttu-id="45d2e-304">匹配上一个元素的次数介于 *n* 和 *m* 之间，但次数尽可能少。</span><span class="sxs-lookup"><span data-stu-id="45d2e-304">Matches the previous element between *n* and *m* times, but as few times as possible.</span></span>|`"\d{3,5}?"`|<span data-ttu-id="45d2e-305">`"166"`, `"17668"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-305">`"166"`, `"17668"`</span></span><br /><br /> <span data-ttu-id="45d2e-306">`"193024"` 中的 `"193"` 和 `"024"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-306">`"193"`, `"024"` in `"193024"`</span></span>|

## <a name="backreference-constructs"></a><span data-ttu-id="45d2e-307">反向引用构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-307">Backreference Constructs</span></span>

<span data-ttu-id="45d2e-308">反向引用允许在同一正则表达式中随后标识以前匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="45d2e-308">A backreference allows a previously matched subexpression to be identified subsequently in the same regular expression.</span></span> <span data-ttu-id="45d2e-309">下表列出了 .NET 正则表达式支持的反向引用构造。</span><span class="sxs-lookup"><span data-stu-id="45d2e-309">The following table lists the backreference constructs supported by regular expressions in .NET.</span></span> <span data-ttu-id="45d2e-310">有关详细信息，请参阅 [反向引用构造](backreference-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-310">For more information, see [Backreference Constructs](backreference-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-311">反向引用构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-311">Backreference construct</span></span>|<span data-ttu-id="45d2e-312">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-312">Description</span></span>|<span data-ttu-id="45d2e-313">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-313">Pattern</span></span>|<span data-ttu-id="45d2e-314">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-314">Matches</span></span>|
|-----------------------------|-----------------|-------------|-------------|
|<span data-ttu-id="45d2e-315">`\` *number*</span><span class="sxs-lookup"><span data-stu-id="45d2e-315">`\` *number*</span></span>|<span data-ttu-id="45d2e-316">后向引用。</span><span class="sxs-lookup"><span data-stu-id="45d2e-316">Backreference.</span></span> <span data-ttu-id="45d2e-317">匹配编号子表达式的值。</span><span class="sxs-lookup"><span data-stu-id="45d2e-317">Matches the value of a numbered subexpression.</span></span>|`(\w)\1`|<span data-ttu-id="45d2e-318">`"seek"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-318">`"ee"` in `"seek"`</span></span>|
|<span data-ttu-id="45d2e-319">`\k<` *name* `>`</span><span class="sxs-lookup"><span data-stu-id="45d2e-319">`\k<` *name* `>`</span></span>|<span data-ttu-id="45d2e-320">命名后向引用。</span><span class="sxs-lookup"><span data-stu-id="45d2e-320">Named backreference.</span></span> <span data-ttu-id="45d2e-321">匹配命名表达式的值。</span><span class="sxs-lookup"><span data-stu-id="45d2e-321">Matches the value of a named expression.</span></span>|`(?<char>\w)\k<char>`|<span data-ttu-id="45d2e-322">`"seek"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-322">`"ee"` in `"seek"`</span></span>|

## <a name="alternation-constructs"></a><span data-ttu-id="45d2e-323">替换构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-323">Alternation Constructs</span></span>

<span data-ttu-id="45d2e-324">替换构造用于修改正则表达式以启用 either/or 匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-324">Alternation constructs modify a regular expression to enable either/or matching.</span></span> <span data-ttu-id="45d2e-325">这些构造包括下表中列出的语言元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-325">These constructs include the language elements listed in the following table.</span></span> <span data-ttu-id="45d2e-326">有关详细信息，请参阅 [替换构造](alternation-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-326">For more information, see [Alternation Constructs](alternation-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-327">替换构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-327">Alternation construct</span></span>|<span data-ttu-id="45d2e-328">描述</span><span class="sxs-lookup"><span data-stu-id="45d2e-328">Description</span></span>|<span data-ttu-id="45d2e-329">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-329">Pattern</span></span>|<span data-ttu-id="45d2e-330">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-330">Matches</span></span>|
|---------------------------|-----------------|-------------|-------------|
|<code>&#124;</code>|<span data-ttu-id="45d2e-331">匹配以竖线 (<code>&#124;</code>) 字符分隔的任何一个元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-331">Matches any one element separated by the vertical bar (<code>&#124;</code>) character.</span></span>|<code>th(e&#124;is&#124;at)</code>|<span data-ttu-id="45d2e-332">`"this is the day."` 中的 `"the"` 和 `"this"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-332">`"the"`, `"this"` in `"this is the day."`</span></span>|
|<span data-ttu-id="45d2e-333">`(?(` *expression* `)` *yes* <code>&#124;</code> *no* `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-333">`(?(` *expression* `)` *yes* <code>&#124;</code> *no* `)`</span></span>|<span data-ttu-id="45d2e-334">如果由 *expression* 指定的正则表达式模式匹配，则匹配  *yes* ；否则，匹配可的 *no* 部分。</span><span class="sxs-lookup"><span data-stu-id="45d2e-334">Matches *yes* if the regular expression pattern designated by *expression* matches; otherwise, matches the optional *no* part.</span></span> <span data-ttu-id="45d2e-335">*expression* 解释为零宽度的断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-335">*expression* is interpreted as a zero-width assertion.</span></span>|<code>(?(A)A\d{2}\b&#124;\b\d{3}\b)</code>|<span data-ttu-id="45d2e-336">`"A10 C103 910"` 中的 `"A10"` 和 `"910"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-336">`"A10"`, `"910"` in `"A10 C103 910"`</span></span>|
|<span data-ttu-id="45d2e-337">`(?(` *name* `)` *yes* <code>&#124;</code> *no* `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-337">`(?(` *name* `)` *yes* <code>&#124;</code> *no* `)`</span></span>|<span data-ttu-id="45d2e-338">如果 *name* (已命名或已编号的捕获组）具有匹项，则匹配 *yes* ；否则，匹配可的 *no* 。</span><span class="sxs-lookup"><span data-stu-id="45d2e-338">Matches *yes* if *name* , a named or numbered capturing group, has a match; otherwise, matches the optional *no* .</span></span>|<code>(?&lt;quoted&gt;&quot;)?(?(quoted).+?&quot;&#124;\S+\s)</code>|<span data-ttu-id="45d2e-339">`"Dogs.jpg \"Yiska playing.jpg\""` 中的 `"Dogs.jpg "` 和 `"\"Yiska playing.jpg\""`</span><span class="sxs-lookup"><span data-stu-id="45d2e-339">`"Dogs.jpg "`, `"\"Yiska playing.jpg\""` in `"Dogs.jpg \"Yiska playing.jpg\""`</span></span>|

## <a name="substitutions"></a><span data-ttu-id="45d2e-340">替代</span><span class="sxs-lookup"><span data-stu-id="45d2e-340">Substitutions</span></span>

<span data-ttu-id="45d2e-341">替换是替换模式中支持的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="45d2e-341">Substitutions are regular expression language elements that are supported in replacement patterns.</span></span> <span data-ttu-id="45d2e-342">有关更多信息，请参见 [替代](substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-342">For more information, see [Substitutions](substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="45d2e-343">下表中列出的元字符是原子零宽度断言。</span><span class="sxs-lookup"><span data-stu-id="45d2e-343">The metacharacters listed in the following table are atomic zero-width assertions.</span></span>

|<span data-ttu-id="45d2e-344">字符</span><span class="sxs-lookup"><span data-stu-id="45d2e-344">Character</span></span>|<span data-ttu-id="45d2e-345">说明</span><span class="sxs-lookup"><span data-stu-id="45d2e-345">Description</span></span>|<span data-ttu-id="45d2e-346">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-346">Pattern</span></span>|<span data-ttu-id="45d2e-347">替换模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-347">Replacement pattern</span></span>|<span data-ttu-id="45d2e-348">输入字符串</span><span class="sxs-lookup"><span data-stu-id="45d2e-348">Input string</span></span>|<span data-ttu-id="45d2e-349">结果字符串</span><span class="sxs-lookup"><span data-stu-id="45d2e-349">Result string</span></span>|
|---------------|-----------------|-------------|-------------------------|------------------|-------------------|
|<span data-ttu-id="45d2e-350">`$` *number*</span><span class="sxs-lookup"><span data-stu-id="45d2e-350">`$` *number*</span></span>|<span data-ttu-id="45d2e-351">替换按组 *number* 匹配的子字符串。</span><span class="sxs-lookup"><span data-stu-id="45d2e-351">Substitutes the substring matched by group *number* .</span></span>|`\b(\w+)(\s)(\w+)\b`|`$3$2$1`|`"one two"`|`"two one"`|
|<span data-ttu-id="45d2e-352">`${` *name* `}`</span><span class="sxs-lookup"><span data-stu-id="45d2e-352">`${` *name* `}`</span></span>|<span data-ttu-id="45d2e-353">替换按命名组 *name* 匹配的子字符串。</span><span class="sxs-lookup"><span data-stu-id="45d2e-353">Substitutes the substring matched by the named group *name* .</span></span>|`\b(?<word1>\w+)(\s)(?<word2>\w+)\b`|`${word2} ${word1}`|`"one two"`|`"two one"`|
|`$$`|<span data-ttu-id="45d2e-354">替换字符"$"。</span><span class="sxs-lookup"><span data-stu-id="45d2e-354">Substitutes a literal "$".</span></span>|`\b(\d+)\s?USD`|`$$$1`|`"103 USD"`|`"$103"`|
|`$&`|<span data-ttu-id="45d2e-355">替换整个匹配项的一个副本。</span><span class="sxs-lookup"><span data-stu-id="45d2e-355">Substitutes a copy of the whole match.</span></span>|`\$?\d*\.?\d+`|`**$&**`|`"$1.30"`|`"**$1.30**"`|
|``$` ``|<span data-ttu-id="45d2e-356">替换匹配前的输入字符串的所有文本。</span><span class="sxs-lookup"><span data-stu-id="45d2e-356">Substitutes all the text of the input string before the match.</span></span>|`B+`|``$` ``|`"AABBCC"`|`"AAAACC"`|
|`$'`|<span data-ttu-id="45d2e-357">替换匹配后的输入字符串的所有文本。</span><span class="sxs-lookup"><span data-stu-id="45d2e-357">Substitutes all the text of the input string after the match.</span></span>|`B+`|`$'`|`"AABBCC"`|`"AACCCC"`|
|`$+`|<span data-ttu-id="45d2e-358">替换最后捕获的组。</span><span class="sxs-lookup"><span data-stu-id="45d2e-358">Substitutes the last group that was captured.</span></span>|`B+(C+)`|`$+`|`"AABBCCDD"`|`"AACCDD"`|
|`$_`|<span data-ttu-id="45d2e-359">替换整个输入字符串。</span><span class="sxs-lookup"><span data-stu-id="45d2e-359">Substitutes the entire input string.</span></span>|`B+`|`$_`|`"AABBCC"`|`"AAAABBCCCC"`|

## <a name="regular-expression-options"></a><span data-ttu-id="45d2e-360">正则表达式选项</span><span class="sxs-lookup"><span data-stu-id="45d2e-360">Regular Expression Options</span></span>

<span data-ttu-id="45d2e-361">可以指定控制正则表达式引擎如何解释正则表达式模式的选项。</span><span class="sxs-lookup"><span data-stu-id="45d2e-361">You can specify options that control how the regular expression engine interprets a regular expression pattern.</span></span> <span data-ttu-id="45d2e-362">其中的许多选项可以指定为内联（在正则表达式模式中）或指定为一个或多个 <xref:System.Text.RegularExpressions.RegexOptions> 常量。</span><span class="sxs-lookup"><span data-stu-id="45d2e-362">Many of these options can be specified either inline (in the regular expression pattern) or as one or more <xref:System.Text.RegularExpressions.RegexOptions> constants.</span></span> <span data-ttu-id="45d2e-363">本快速参考仅列出内联选项。</span><span class="sxs-lookup"><span data-stu-id="45d2e-363">This quick reference lists only inline options.</span></span> <span data-ttu-id="45d2e-364">有关内联和 <xref:System.Text.RegularExpressions.RegexOptions> 选项的详细信息，请参阅文章 [正则表达式选项](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-364">For more information about inline and <xref:System.Text.RegularExpressions.RegexOptions> options, see the article [Regular Expression Options](regular-expression-options.md).</span></span>

<span data-ttu-id="45d2e-365">可通过两种方式指定内联选项：</span><span class="sxs-lookup"><span data-stu-id="45d2e-365">You can specify an inline option in two ways:</span></span>

- <span data-ttu-id="45d2e-366">通过使用[其他构造](miscellaneous-constructs-in-regular-expressions.md)`(?imnsx-imnsx)`，可用选项或选项组前的减号 (-) 关闭这些选项。</span><span class="sxs-lookup"><span data-stu-id="45d2e-366">By using the [miscellaneous construct](miscellaneous-constructs-in-regular-expressions.md) `(?imnsx-imnsx)`, where a minus sign (-) before an option or set of options turns those options off.</span></span> <span data-ttu-id="45d2e-367">例如， `(?i-mn)` 启用不区分大小写的匹配 (`i`)，关闭多行模式 (`m`) 并关闭未命名的组捕获 (`n`)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-367">For example, `(?i-mn)` turns case-insensitive matching (`i`) on, turns multiline mode (`m`) off, and turns unnamed group captures (`n`) off.</span></span> <span data-ttu-id="45d2e-368">该选项自定义选项的点开始应用于此正则表达式，且持续有效直到模式结束或者到另一构造反转此选项的点。</span><span class="sxs-lookup"><span data-stu-id="45d2e-368">The option applies to the regular expression pattern from the point at which the option is defined, and is effective either to the end of the pattern or to the point where another construct reverses the option.</span></span>
- <span data-ttu-id="45d2e-369">通过使用 [分组构造](grouping-constructs-in-regular-expressions.md)`(?imnsx-imnsx:`*子表达式*`)`（只定义指定组的选项）。</span><span class="sxs-lookup"><span data-stu-id="45d2e-369">By using the [grouping construct](grouping-constructs-in-regular-expressions.md)`(?imnsx-imnsx:`*subexpression*`)`, which defines options for the specified group only.</span></span>

<span data-ttu-id="45d2e-370">.NET 正则表达式引擎支持以下内联选项：</span><span class="sxs-lookup"><span data-stu-id="45d2e-370">The .NET regular expression engine supports the following inline options:</span></span>

|<span data-ttu-id="45d2e-371">选项</span><span class="sxs-lookup"><span data-stu-id="45d2e-371">Option</span></span>|<span data-ttu-id="45d2e-372">说明</span><span class="sxs-lookup"><span data-stu-id="45d2e-372">Description</span></span>|<span data-ttu-id="45d2e-373">模式</span><span class="sxs-lookup"><span data-stu-id="45d2e-373">Pattern</span></span>|<span data-ttu-id="45d2e-374">匹配</span><span class="sxs-lookup"><span data-stu-id="45d2e-374">Matches</span></span>|
|------------|-----------------|-------------|-------------|
|`i`|<span data-ttu-id="45d2e-375">使用不区分大小写的匹配。</span><span class="sxs-lookup"><span data-stu-id="45d2e-375">Use case-insensitive matching.</span></span>|`\b(?i)a(?-i)a\w+\b`|<span data-ttu-id="45d2e-376">`"aardvark AAAuto aaaAuto Adam breakfast"` 中的 `"aardvark"` 和 `"aaaAuto"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-376">`"aardvark"`, `"aaaAuto"` in `"aardvark AAAuto aaaAuto Adam breakfast"`</span></span>|
|`m`|<span data-ttu-id="45d2e-377">使用多行模式。</span><span class="sxs-lookup"><span data-stu-id="45d2e-377">Use multiline mode.</span></span> <span data-ttu-id="45d2e-378">`^` 和 `$` 匹配行的开头和结尾，但不匹配字符串的开头和结尾。</span><span class="sxs-lookup"><span data-stu-id="45d2e-378">`^` and `$` match the beginning and end of a line, instead of the beginning and end of a string.</span></span>|<span data-ttu-id="45d2e-379">有关示例，请参阅 [正则表达式选项](regular-expression-options.md)中的"多行模式"部分。</span><span class="sxs-lookup"><span data-stu-id="45d2e-379">For an example, see the "Multiline Mode" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`n`|<span data-ttu-id="45d2e-380">不捕获未命名的组。</span><span class="sxs-lookup"><span data-stu-id="45d2e-380">Do not capture unnamed groups.</span></span>|<span data-ttu-id="45d2e-381">有关示例，请参阅 [正则表达式选项](regular-expression-options.md)中的"仅显式捕获"部分。</span><span class="sxs-lookup"><span data-stu-id="45d2e-381">For an example, see the "Explicit Captures Only" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`s`|<span data-ttu-id="45d2e-382">使用单行模式。</span><span class="sxs-lookup"><span data-stu-id="45d2e-382">Use single-line mode.</span></span>|<span data-ttu-id="45d2e-383">有关示例，请参阅 [正则表达式选项](regular-expression-options.md)中的"单行模式"部分。</span><span class="sxs-lookup"><span data-stu-id="45d2e-383">For an example, see the "Single-line Mode" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`x`|<span data-ttu-id="45d2e-384">忽略正则表达式模式中的非转义空白。</span><span class="sxs-lookup"><span data-stu-id="45d2e-384">Ignore unescaped white space in the regular expression pattern.</span></span>|`\b(?x) \d+ \s \w+`|<span data-ttu-id="45d2e-385">`"1 aardvark 2 cats IV centurions"` 中的 `"1 aardvark"` 和 `"2 cats"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-385">`"1 aardvark"`, `"2 cats"` in `"1 aardvark 2 cats IV centurions"`</span></span>|

## <a name="miscellaneous-constructs"></a><span data-ttu-id="45d2e-386">其他构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-386">Miscellaneous Constructs</span></span>

<span data-ttu-id="45d2e-387">其他构造可修改某个正则表达式模式或提供有关该模式的信息。</span><span class="sxs-lookup"><span data-stu-id="45d2e-387">Miscellaneous constructs either modify a regular expression pattern or provide information about it.</span></span> <span data-ttu-id="45d2e-388">下表列出了 .NET 支持的其他构造。</span><span class="sxs-lookup"><span data-stu-id="45d2e-388">The following table lists the miscellaneous constructs supported by .NET.</span></span> <span data-ttu-id="45d2e-389">有关详细信息，请参阅 [其他构造](miscellaneous-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-389">For more information, see [Miscellaneous Constructs](miscellaneous-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="45d2e-390">构造</span><span class="sxs-lookup"><span data-stu-id="45d2e-390">Construct</span></span>|<span data-ttu-id="45d2e-391">定义</span><span class="sxs-lookup"><span data-stu-id="45d2e-391">Definition</span></span>|<span data-ttu-id="45d2e-392">示例</span><span class="sxs-lookup"><span data-stu-id="45d2e-392">Example</span></span>|
|---------------|----------------|-------------|
|`(?imnsx-imnsx)`|<span data-ttu-id="45d2e-393">在模式中间对诸如不区分大小写这样的选项进行设置或禁用。有关详细信息，请参阅[正则表达式选项](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="45d2e-393">Sets or disables options such as case insensitivity in the middle of a pattern.For more information, see [Regular Expression Options](regular-expression-options.md).</span></span>|<span data-ttu-id="45d2e-394">`\bA(?i)b\w+\b` 匹配 `"ABA Able Act"` 中的 `"ABA"` 和 `"Able"`</span><span class="sxs-lookup"><span data-stu-id="45d2e-394">`\bA(?i)b\w+\b` matches `"ABA"`, `"Able"` in `"ABA Able Act"`</span></span>|
|<span data-ttu-id="45d2e-395">`(?#` comment `)`</span><span class="sxs-lookup"><span data-stu-id="45d2e-395">`(?#` *comment* `)`</span></span>|<span data-ttu-id="45d2e-396">内联注释。</span><span class="sxs-lookup"><span data-stu-id="45d2e-396">Inline comment.</span></span> <span data-ttu-id="45d2e-397">该注释在第一个右括号处终止。</span><span class="sxs-lookup"><span data-stu-id="45d2e-397">The comment ends at the first closing parenthesis.</span></span>|`\bA(?#Matches words starting with A)\w+\b`|
|<span data-ttu-id="45d2e-398">`#` [至行尾]</span><span class="sxs-lookup"><span data-stu-id="45d2e-398">`#` [to end of line]</span></span>|<span data-ttu-id="45d2e-399">X 模式注释。</span><span class="sxs-lookup"><span data-stu-id="45d2e-399">X-mode comment.</span></span> <span data-ttu-id="45d2e-400">该注释以非转义的 `#` 开头，并继续到行的结尾。</span><span class="sxs-lookup"><span data-stu-id="45d2e-400">The comment starts at an unescaped `#` and continues to the end of the line.</span></span>|`(?x)\bA\w+\b#Matches words starting with A`|

## <a name="see-also"></a><span data-ttu-id="45d2e-401">请参阅</span><span class="sxs-lookup"><span data-stu-id="45d2e-401">See also</span></span>

- <xref:System.Text.RegularExpressions?displayProperty=nameWithType>
- <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType>
- [<span data-ttu-id="45d2e-402">正则表达式</span><span class="sxs-lookup"><span data-stu-id="45d2e-402">Regular Expressions</span></span>](regular-expressions.md)
- [<span data-ttu-id="45d2e-403">正则表达式类</span><span class="sxs-lookup"><span data-stu-id="45d2e-403">Regular Expression Classes</span></span>](the-regular-expression-object-model.md)
- [<span data-ttu-id="45d2e-404">正则表达式 - 快速参考（以 Word 格式下载）</span><span class="sxs-lookup"><span data-stu-id="45d2e-404">Regular Expressions - Quick Reference (download in Word format)</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
- [<span data-ttu-id="45d2e-405">正则表达式 - 快速参考（以 PDF 格式下载）</span><span class="sxs-lookup"><span data-stu-id="45d2e-405">Regular Expressions - Quick Reference (download in PDF format)</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)
