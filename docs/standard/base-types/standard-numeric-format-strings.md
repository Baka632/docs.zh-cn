---
title: 标准数字格式字符串
description: 本文介绍如何在 .NET 中使用标准数字格式字符串将常用数值类型格式化为文本表示形式。
ms.date: 06/10/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- numeric format strings [.NET Framework]
- formatting [.NET Framework], numbers
- standard format strings, numeric
- format strings
- numbers [.NET Framework], formatting
- format specifiers, numeric
- standard numeric format strings
- formatting numbers [.NET Framework]
- format specifiers, standard numeric format strings
ms.openlocfilehash: 857e8803d27ae634dec6e19c6d183943e1c4cc41
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/15/2020
ms.locfileid: "90557367"
---
# <a name="standard-numeric-format-strings"></a><span data-ttu-id="ace53-103">标准数字格式字符串</span><span class="sxs-lookup"><span data-stu-id="ace53-103">Standard numeric format strings</span></span>

<span data-ttu-id="ace53-104">标准数字格式字符串用于格式化通用数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-104">Standard numeric format strings are used to format common numeric types.</span></span> <span data-ttu-id="ace53-105">标准数字格式字符串采用 `Axx` 的形式，其中：</span><span class="sxs-lookup"><span data-stu-id="ace53-105">A standard numeric format string takes the form `Axx`, where:</span></span>

- <span data-ttu-id="ace53-106">`A` 是称为“格式说明符”的单个字母字符。</span><span class="sxs-lookup"><span data-stu-id="ace53-106">`A` is a single alphabetic character called the *format specifier*.</span></span> <span data-ttu-id="ace53-107">任何包含一个以上字母字符（包括空白）的数字格式字符串都被解释为自定义数字格式字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-107">Any numeric format string that contains more than one alphabetic character, including white space, is interpreted as a custom numeric format string.</span></span> <span data-ttu-id="ace53-108">有关更多信息，请参见[自定义数字格式字符串](custom-numeric-format-strings.md)。</span><span class="sxs-lookup"><span data-stu-id="ace53-108">For more information, see [Custom Numeric Format Strings](custom-numeric-format-strings.md).</span></span>

- <span data-ttu-id="ace53-109">`xx` 是称为“精度说明符”的可选整数。</span><span class="sxs-lookup"><span data-stu-id="ace53-109">`xx` is an optional integer called the *precision specifier*.</span></span> <span data-ttu-id="ace53-110">精度说明符的范围从 0 到 99，并且影响结果中的位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-110">The precision specifier ranges from 0 to 99 and affects the number of digits in the result.</span></span> <span data-ttu-id="ace53-111">请注意，精度说明符控制数字的字符串表示形式中的数字个数。</span><span class="sxs-lookup"><span data-stu-id="ace53-111">Note that the precision specifier controls the number of digits in the string representation of a number.</span></span> <span data-ttu-id="ace53-112">它不舍入该数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-112">It does not round the number itself.</span></span> <span data-ttu-id="ace53-113">若要执行舍入运算，请使用 <xref:System.Math.Ceiling%2A?displayProperty=nameWithType>、<xref:System.Math.Floor%2A?displayProperty=nameWithType> 或 <xref:System.Math.Round%2A?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="ace53-113">To perform a rounding operation, use the <xref:System.Math.Ceiling%2A?displayProperty=nameWithType>, <xref:System.Math.Floor%2A?displayProperty=nameWithType>, or <xref:System.Math.Round%2A?displayProperty=nameWithType> method.</span></span>

  <span data-ttu-id="ace53-114">当精度说明符控制结果字符串中的小数位数时，结果字符串会反映一个数字，该数字四舍五入到最接近无限精确结果的可表示结果。</span><span class="sxs-lookup"><span data-stu-id="ace53-114">When *precision specifier* controls the number of fractional digits in the result string, the result string reflects a number that is rounded to a representable result nearest to the infinitely precise result.</span></span> <span data-ttu-id="ace53-115">如果有两个同样接近的可表示结果：</span><span class="sxs-lookup"><span data-stu-id="ace53-115">If there are two equally near representable results:</span></span>
  - <span data-ttu-id="ace53-116">在 .NET Framework 和.NET Core（.NET Core 2.0 及以下）上，运行时选择最低有效数字更高的结果（即使用 <xref:System.MidpointRounding.AwayFromZero?displayProperty=nameWithType>）。</span><span class="sxs-lookup"><span data-stu-id="ace53-116">**On the .NET Framework and .NET Core up to .NET Core 2.0**, the runtime selects the result with the greater least significant digit (that is, using <xref:System.MidpointRounding.AwayFromZero?displayProperty=nameWithType>).</span></span>
  - <span data-ttu-id="ace53-117">在 .NET Core 2.1 及更高版本上，运行时选择最低有效数字为偶数的结果（即使用 <xref:System.MidpointRounding.ToEven?displayProperty=nameWithType>）。</span><span class="sxs-lookup"><span data-stu-id="ace53-117">**On .NET Core 2.1 and later**, the runtime selects the result with an even least significant digit (that is, using <xref:System.MidpointRounding.ToEven?displayProperty=nameWithType>).</span></span>

  > [!NOTE]
  > <span data-ttu-id="ace53-118">精度说明符确定结果字符串中的位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-118">The precision specifier determines the number of digits in the result string.</span></span> <span data-ttu-id="ace53-119">若要使用前导或尾随空格填充结果字符串，请使用[复合格式设置](composite-formatting.md)功能，并在格式项中定义*对齐组件*。</span><span class="sxs-lookup"><span data-stu-id="ace53-119">To pad a result string with leading or trailing spaces, use the [composite formatting](composite-formatting.md) feature and define an *alignment component* in the format item.</span></span>

<span data-ttu-id="ace53-120">下列支持标准数字格式字符串：</span><span class="sxs-lookup"><span data-stu-id="ace53-120">Standard numeric format strings are supported by:</span></span>

- <span data-ttu-id="ace53-121">所有数字类型的一些 `ToString` 方法重载。</span><span class="sxs-lookup"><span data-stu-id="ace53-121">Some overloads of the `ToString` method of all numeric types.</span></span> <span data-ttu-id="ace53-122">例如，可以向 <xref:System.Int32.ToString%28System.String%29?displayProperty=nameWithType> 和 <xref:System.Int32.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> 方法提供数字格式字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-122">For example, you can supply a numeric format string to the <xref:System.Int32.ToString%28System.String%29?displayProperty=nameWithType> and <xref:System.Int32.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods.</span></span>

- <span data-ttu-id="ace53-123">.NET [复合格式功能](composite-formatting.md)，由 <xref:System.Console> 和 <xref:System.IO.StreamWriter> 类的一些 `Write` 和 `WriteLine` 方法、<xref:System.String.Format%2A?displayProperty=nameWithType> 方法以及 <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType> 方法使用。</span><span class="sxs-lookup"><span data-stu-id="ace53-123">The .NET [composite formatting feature](composite-formatting.md), which is used by some `Write` and `WriteLine` methods of the <xref:System.Console> and <xref:System.IO.StreamWriter> classes, the <xref:System.String.Format%2A?displayProperty=nameWithType> method, and the <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ace53-124">复合格式功能允许你将多个数据项的字符串表示形式包含在单个字符串中，以指定字段宽度，并在字段中对齐数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-124">The composite format feature allows you to include the string representation of multiple data items in a single string, to specify field width, and to align numbers in a field.</span></span> <span data-ttu-id="ace53-125">有关更多信息，请参见[复合格式设置](composite-formatting.md)。</span><span class="sxs-lookup"><span data-stu-id="ace53-125">For more information, see [Composite Formatting](composite-formatting.md).</span></span>

- <span data-ttu-id="ace53-126">C# 和 Visual Basic 中的[内插的字符串](../../csharp/language-reference/tokens/interpolated.md)，与复合格式字符串相比，语法更简化。</span><span class="sxs-lookup"><span data-stu-id="ace53-126">[Interpolated strings](../../csharp/language-reference/tokens/interpolated.md) in C# and Visual Basic, which provide a simplified syntax when compared to composite format strings.</span></span>

> [!TIP]
> <span data-ttu-id="ace53-127">你可以下载格式设置实用工具，它属于一种 .NET Core Windows 窗体应用程序，通过该应用程序，你可将格式字符串应用于数值或日期和时间值并显示结果字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-127">You can download the **Formatting Utility**, a .NET Core Windows Forms application that lets you apply format strings to either numeric or date and time values and displays the result string.</span></span> <span data-ttu-id="ace53-128">源代码适用于 [C#](/samples/dotnet/samples/windowsforms-formatting-utility-cs) 和 [Visual Basic](/samples/dotnet/samples/windowsforms-formatting-utility-vb)。</span><span class="sxs-lookup"><span data-stu-id="ace53-128">Source code is available for [C#](/samples/dotnet/samples/windowsforms-formatting-utility-cs) and [Visual Basic](/samples/dotnet/samples/windowsforms-formatting-utility-vb).</span></span>

<a name="table"></a><span data-ttu-id="ace53-129">下表介绍标准数字格式说明符并显示每个格式说明符产生的示例输出。</span><span class="sxs-lookup"><span data-stu-id="ace53-129">The following table describes the standard numeric format specifiers and displays sample output produced by each format specifier.</span></span> <span data-ttu-id="ace53-130">有关使用标准数字格式字符串的其他信息，请参见[注释](#NotesStandardFormatting)一节；有关使用方法的完整演示，请参见[示例](#example)一节。</span><span class="sxs-lookup"><span data-stu-id="ace53-130">See the [Notes](#NotesStandardFormatting) section for additional information about using standard numeric format strings, and the [Example](#example) section for a comprehensive illustration of their use.</span></span>

|<span data-ttu-id="ace53-131">格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-131">Format specifier</span></span>|<span data-ttu-id="ace53-132">“属性”</span><span class="sxs-lookup"><span data-stu-id="ace53-132">Name</span></span>|<span data-ttu-id="ace53-133">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-133">Description</span></span>|<span data-ttu-id="ace53-134">示例</span><span class="sxs-lookup"><span data-stu-id="ace53-134">Examples</span></span>|
|----------------------|----------|-----------------|--------------|
|<span data-ttu-id="ace53-135">“C”或“c”</span><span class="sxs-lookup"><span data-stu-id="ace53-135">"C" or "c"</span></span>|<span data-ttu-id="ace53-136">货币</span><span class="sxs-lookup"><span data-stu-id="ace53-136">Currency</span></span>|<span data-ttu-id="ace53-137">结果:货币值。</span><span class="sxs-lookup"><span data-stu-id="ace53-137">Result: A currency value.</span></span><br /><br /> <span data-ttu-id="ace53-138">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-138">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-139">精度说明符：十进制小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-139">Precision specifier: Number of decimal digits.</span></span><br /><br /> <span data-ttu-id="ace53-140">默认值精度说明符：由 <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A?displayProperty=nameWithType> 定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-140">Default precision specifier: Defined by <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A?displayProperty=nameWithType>.</span></span><br /><br /> <span data-ttu-id="ace53-141">更多信息：[货币（“C”）格式说明符](#CFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-141">More information: [The Currency ("C") Format Specifier](#CFormatString).</span></span>|<span data-ttu-id="ace53-142">123.456 ("C", en-US) -> \\$123.46</span><span class="sxs-lookup"><span data-stu-id="ace53-142">123.456 ("C", en-US) -> \\$123.46</span></span><br /><br /> <span data-ttu-id="ace53-143">123.456 ("C", fr-FR) -> 123,46 €</span><span class="sxs-lookup"><span data-stu-id="ace53-143">123.456 ("C", fr-FR) -> 123,46 €</span></span><br /><br /> <span data-ttu-id="ace53-144">123.456 ("C", ja-JP) -> ¥123</span><span class="sxs-lookup"><span data-stu-id="ace53-144">123.456 ("C", ja-JP) -> ¥123</span></span><br /><br /> <span data-ttu-id="ace53-145">-123.456 ("C3", en-US) -> (\\$123.456)</span><span class="sxs-lookup"><span data-stu-id="ace53-145">-123.456 ("C3", en-US) -> (\\$123.456)</span></span><br /><br /> <span data-ttu-id="ace53-146">-123.456 ("C3", fr-FR) -> -123,456 €</span><span class="sxs-lookup"><span data-stu-id="ace53-146">-123.456 ("C3", fr-FR) -> -123,456 €</span></span><br /><br /> <span data-ttu-id="ace53-147">-123.456 ("C3", ja-JP) -> -¥123.456</span><span class="sxs-lookup"><span data-stu-id="ace53-147">-123.456 ("C3", ja-JP) -> -¥123.456</span></span>|
|<span data-ttu-id="ace53-148">“D”或“d”</span><span class="sxs-lookup"><span data-stu-id="ace53-148">"D" or "d"</span></span>|<span data-ttu-id="ace53-149">十进制</span><span class="sxs-lookup"><span data-stu-id="ace53-149">Decimal</span></span>|<span data-ttu-id="ace53-150">结果:整型数字，负号可选。</span><span class="sxs-lookup"><span data-stu-id="ace53-150">Result: Integer digits with optional negative sign.</span></span><br /><br /> <span data-ttu-id="ace53-151">受以下类型支持：仅限整型类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-151">Supported by: Integral types only.</span></span><br /><br /> <span data-ttu-id="ace53-152">精度说明符：数字位数下限。</span><span class="sxs-lookup"><span data-stu-id="ace53-152">Precision specifier: Minimum number of digits.</span></span><br /><br /> <span data-ttu-id="ace53-153">默认值精度说明符：所需数字位数下限。</span><span class="sxs-lookup"><span data-stu-id="ace53-153">Default precision specifier: Minimum number of digits required.</span></span><br /><br /> <span data-ttu-id="ace53-154">更多信息：[十进制（“D”）格式说明符](#DFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-154">More information: [The Decimal("D") Format Specifier](#DFormatString).</span></span>|<span data-ttu-id="ace53-155">1234 ("D") -> 1234</span><span class="sxs-lookup"><span data-stu-id="ace53-155">1234 ("D") -> 1234</span></span><br /><br /> <span data-ttu-id="ace53-156">-1234 ("D6") -> -001234</span><span class="sxs-lookup"><span data-stu-id="ace53-156">-1234 ("D6") -> -001234</span></span>|
|<span data-ttu-id="ace53-157">“E”或“e”</span><span class="sxs-lookup"><span data-stu-id="ace53-157">"E" or "e"</span></span>|<span data-ttu-id="ace53-158">指数（科学型）</span><span class="sxs-lookup"><span data-stu-id="ace53-158">Exponential (scientific)</span></span>|<span data-ttu-id="ace53-159">结果:指数表示法。</span><span class="sxs-lookup"><span data-stu-id="ace53-159">Result: Exponential notation.</span></span><br /><br /> <span data-ttu-id="ace53-160">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-160">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-161">精度说明符：十进制小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-161">Precision specifier: Number of decimal digits.</span></span><br /><br /> <span data-ttu-id="ace53-162">默认值精度说明符：6.</span><span class="sxs-lookup"><span data-stu-id="ace53-162">Default precision specifier: 6.</span></span><br /><br /> <span data-ttu-id="ace53-163">更多信息：[指数（“E”）格式说明符](#EFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-163">More information: [The Exponential ("E") Format Specifier](#EFormatString).</span></span>|<span data-ttu-id="ace53-164">1052.0329112756 ("E", en-US) -> 1.052033E+003</span><span class="sxs-lookup"><span data-stu-id="ace53-164">1052.0329112756 ("E", en-US) -> 1.052033E+003</span></span><br /><br /> <span data-ttu-id="ace53-165">1052.0329112756 ("e", fr-FR) -> 1,052033e+003</span><span class="sxs-lookup"><span data-stu-id="ace53-165">1052.0329112756 ("e", fr-FR) -> 1,052033e+003</span></span><br /><br /> <span data-ttu-id="ace53-166">-1052.0329112756 ("e2", en-US) -> -1.05e+003</span><span class="sxs-lookup"><span data-stu-id="ace53-166">-1052.0329112756 ("e2", en-US) -> -1.05e+003</span></span><br /><br /> <span data-ttu-id="ace53-167">-1052.0329112756 ("E2", fr-FR) -> -1,05E+003</span><span class="sxs-lookup"><span data-stu-id="ace53-167">-1052.0329112756 ("E2", fr-FR) -> -1,05E+003</span></span>|
|<span data-ttu-id="ace53-168">“F”或“f”</span><span class="sxs-lookup"><span data-stu-id="ace53-168">"F" or "f"</span></span>|<span data-ttu-id="ace53-169">定点</span><span class="sxs-lookup"><span data-stu-id="ace53-169">Fixed-point</span></span>|<span data-ttu-id="ace53-170">结果:整数和十进制小数，负号可选。</span><span class="sxs-lookup"><span data-stu-id="ace53-170">Result: Integral and decimal digits with optional negative sign.</span></span><br /><br /> <span data-ttu-id="ace53-171">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-171">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-172">精度说明符：十进制小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-172">Precision specifier: Number of decimal digits.</span></span><br /><br /> <span data-ttu-id="ace53-173">默认值精度说明符：由 <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> 定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-173">Default precision specifier: Defined by <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType>.</span></span><br /><br /> <span data-ttu-id="ace53-174">更多信息：[定点（“F”）格式说明符](#FFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-174">More information: [The Fixed-Point ("F") Format Specifier](#FFormatString).</span></span>|<span data-ttu-id="ace53-175">1234.567 ("F", en-US) -> 1234.57</span><span class="sxs-lookup"><span data-stu-id="ace53-175">1234.567 ("F", en-US) -> 1234.57</span></span><br /><br /> <span data-ttu-id="ace53-176">1234.567 ("F", de-DE) -> 1234,57</span><span class="sxs-lookup"><span data-stu-id="ace53-176">1234.567 ("F", de-DE) -> 1234,57</span></span><br /><br /> <span data-ttu-id="ace53-177">1234 ("F1", en-US) -> 1234.0</span><span class="sxs-lookup"><span data-stu-id="ace53-177">1234 ("F1", en-US) -> 1234.0</span></span><br /><br /> <span data-ttu-id="ace53-178">1234 ("F1", de-DE) -> 1234,0</span><span class="sxs-lookup"><span data-stu-id="ace53-178">1234 ("F1", de-DE) -> 1234,0</span></span><br /><br /> <span data-ttu-id="ace53-179">-1234.56 ("F4", en-US) -> -1234.5600</span><span class="sxs-lookup"><span data-stu-id="ace53-179">-1234.56 ("F4", en-US) -> -1234.5600</span></span><br /><br /> <span data-ttu-id="ace53-180">-1234.56 ("F4", de-DE) -> -1234,5600</span><span class="sxs-lookup"><span data-stu-id="ace53-180">-1234.56 ("F4", de-DE) -> -1234,5600</span></span>|
|<span data-ttu-id="ace53-181">“G”或“g”</span><span class="sxs-lookup"><span data-stu-id="ace53-181">"G" or "g"</span></span>|<span data-ttu-id="ace53-182">常规</span><span class="sxs-lookup"><span data-stu-id="ace53-182">General</span></span>|<span data-ttu-id="ace53-183">结果:更紧凑的定点表示法或科学记数法。</span><span class="sxs-lookup"><span data-stu-id="ace53-183">Result: The more compact of either fixed-point or scientific notation.</span></span><br /><br /> <span data-ttu-id="ace53-184">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-184">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-185">精度说明符：有效位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-185">Precision specifier: Number of significant digits.</span></span><br /><br /> <span data-ttu-id="ace53-186">默认值精度说明符：具体取决于数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-186">Default precision specifier: Depends on numeric type.</span></span><br /><br /> <span data-ttu-id="ace53-187">更多信息：[常规（“G”）格式说明符](#GFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-187">More information: [The General ("G") Format Specifier](#GFormatString).</span></span>|<span data-ttu-id="ace53-188">-123.456 ("G", en-US) -> -123.456</span><span class="sxs-lookup"><span data-stu-id="ace53-188">-123.456 ("G", en-US) -> -123.456</span></span><br /><br /> <span data-ttu-id="ace53-189">-123.456 ("G", sv-SE) -> -123,456</span><span class="sxs-lookup"><span data-stu-id="ace53-189">-123.456 ("G", sv-SE) -> -123,456</span></span><br /><br /> <span data-ttu-id="ace53-190">123.4546 ("G4", en-US) -> 123.5</span><span class="sxs-lookup"><span data-stu-id="ace53-190">123.4546 ("G4", en-US) -> 123.5</span></span><br /><br /> <span data-ttu-id="ace53-191">123.4546 ("G4", sv-SE) -> 123,5</span><span class="sxs-lookup"><span data-stu-id="ace53-191">123.4546 ("G4", sv-SE) -> 123,5</span></span><br /><br /> <span data-ttu-id="ace53-192">-1.234567890e-25 ("G", en-US) -> -1.23456789E-25</span><span class="sxs-lookup"><span data-stu-id="ace53-192">-1.234567890e-25 ("G", en-US) -> -1.23456789E-25</span></span><br /><br /> <span data-ttu-id="ace53-193">-1.234567890e-25 ("G", sv-SE) -> -1,23456789E-25</span><span class="sxs-lookup"><span data-stu-id="ace53-193">-1.234567890e-25 ("G", sv-SE) -> -1,23456789E-25</span></span>|
|<span data-ttu-id="ace53-194">“N”或“n”</span><span class="sxs-lookup"><span data-stu-id="ace53-194">"N" or "n"</span></span>|<span data-ttu-id="ace53-195">数字</span><span class="sxs-lookup"><span data-stu-id="ace53-195">Number</span></span>|<span data-ttu-id="ace53-196">结果:整数和十进制小数、组分隔符和十进制小数分隔符，负号可选。</span><span class="sxs-lookup"><span data-stu-id="ace53-196">Result: Integral and decimal digits, group separators, and a decimal separator with optional negative sign.</span></span><br /><br /> <span data-ttu-id="ace53-197">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-197">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-198">精度说明符：所需的小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-198">Precision specifier: Desired number of decimal places.</span></span><br /><br /> <span data-ttu-id="ace53-199">默认值精度说明符：由 <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> 定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-199">Default precision specifier: Defined by <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType>.</span></span><br /><br /> <span data-ttu-id="ace53-200">更多信息：[数字（“N”）格式说明符](#NFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-200">More information: [The Numeric ("N") Format Specifier](#NFormatString).</span></span>|<span data-ttu-id="ace53-201">1234.567 ("N", en-US) -> 1,234.57</span><span class="sxs-lookup"><span data-stu-id="ace53-201">1234.567 ("N", en-US) -> 1,234.57</span></span><br /><br /> <span data-ttu-id="ace53-202">1234.567 ("N", ru-RU) -> 1 234,57</span><span class="sxs-lookup"><span data-stu-id="ace53-202">1234.567 ("N", ru-RU) -> 1 234,57</span></span><br /><br /> <span data-ttu-id="ace53-203">1234 ("N1", en-US) -> 1,234.0</span><span class="sxs-lookup"><span data-stu-id="ace53-203">1234 ("N1", en-US) -> 1,234.0</span></span><br /><br /> <span data-ttu-id="ace53-204">1234 ("N1", ru-RU) -> 1 234,0</span><span class="sxs-lookup"><span data-stu-id="ace53-204">1234 ("N1", ru-RU) -> 1 234,0</span></span><br /><br /> <span data-ttu-id="ace53-205">-1234.56 ("N3", en-US) -> -1,234.560</span><span class="sxs-lookup"><span data-stu-id="ace53-205">-1234.56 ("N3", en-US) -> -1,234.560</span></span><br /><br /> <span data-ttu-id="ace53-206">-1234.56 ("N3", ru-RU) -> -1 234,560</span><span class="sxs-lookup"><span data-stu-id="ace53-206">-1234.56 ("N3", ru-RU) -> -1 234,560</span></span>|
|<span data-ttu-id="ace53-207">“P”或“p”</span><span class="sxs-lookup"><span data-stu-id="ace53-207">"P" or "p"</span></span>|<span data-ttu-id="ace53-208">百分比</span><span class="sxs-lookup"><span data-stu-id="ace53-208">Percent</span></span>|<span data-ttu-id="ace53-209">结果:数字乘以 100 并以百分比符号显示。</span><span class="sxs-lookup"><span data-stu-id="ace53-209">Result: Number multiplied by 100 and displayed with a percent symbol.</span></span><br /><br /> <span data-ttu-id="ace53-210">受以下类型支持：所有数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-210">Supported by: All numeric types.</span></span><br /><br /> <span data-ttu-id="ace53-211">精度说明符：所需的小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-211">Precision specifier: Desired number of decimal places.</span></span><br /><br /> <span data-ttu-id="ace53-212">默认值精度说明符：由 <xref:System.Globalization.NumberFormatInfo.PercentDecimalDigits%2A?displayProperty=nameWithType> 定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-212">Default precision specifier: Defined by  <xref:System.Globalization.NumberFormatInfo.PercentDecimalDigits%2A?displayProperty=nameWithType>.</span></span><br /><br /> <span data-ttu-id="ace53-213">更多信息：[百分比（“P”）格式说明符](#PFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-213">More information: [The Percent ("P") Format Specifier](#PFormatString).</span></span>|<span data-ttu-id="ace53-214">1 ("P", en-US) -> 100.00 %</span><span class="sxs-lookup"><span data-stu-id="ace53-214">1 ("P", en-US) -> 100.00 %</span></span><br /><br /> <span data-ttu-id="ace53-215">1 ("P", fr-FR) -> 100,00 %</span><span class="sxs-lookup"><span data-stu-id="ace53-215">1 ("P", fr-FR) -> 100,00 %</span></span><br /><br /> <span data-ttu-id="ace53-216">-0.39678 ("P1", en-US) -> -39.7 %</span><span class="sxs-lookup"><span data-stu-id="ace53-216">-0.39678 ("P1", en-US) -> -39.7 %</span></span><br /><br /> <span data-ttu-id="ace53-217">-0.39678 ("P1", fr-FR) -> -39,7 %</span><span class="sxs-lookup"><span data-stu-id="ace53-217">-0.39678 ("P1", fr-FR) -> -39,7 %</span></span>|
|<span data-ttu-id="ace53-218">“R”或“r”</span><span class="sxs-lookup"><span data-stu-id="ace53-218">"R" or "r"</span></span>|<span data-ttu-id="ace53-219">往返过程</span><span class="sxs-lookup"><span data-stu-id="ace53-219">Round-trip</span></span>|<span data-ttu-id="ace53-220">结果:可以往返至相同数字的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-220">Result: A string that can round-trip to an identical number.</span></span><br /><br /> <span data-ttu-id="ace53-221">受以下类型支持：<xref:System.Single>、<xref:System.Double> 和 <xref:System.Numerics.BigInteger>。</span><span class="sxs-lookup"><span data-stu-id="ace53-221">Supported by: <xref:System.Single>, <xref:System.Double>, and <xref:System.Numerics.BigInteger>.</span></span><br /><br /> <span data-ttu-id="ace53-222">注意：建议只用于 <xref:System.Numerics.BigInteger> 类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-222">Note: Recommended for the <xref:System.Numerics.BigInteger> type only.</span></span> <span data-ttu-id="ace53-223">对于 <xref:System.Double> 类型，请使用 "G17"；对于 <xref:System.Single> 类型，请使用 "G9"。</span><span class="sxs-lookup"><span data-stu-id="ace53-223">For <xref:System.Double> types, use "G17"; for <xref:System.Single> types, use "G9".</span></span> <br> <span data-ttu-id="ace53-224">精度说明符：已忽略。</span><span class="sxs-lookup"><span data-stu-id="ace53-224">Precision specifier: Ignored.</span></span><br /><br /> <span data-ttu-id="ace53-225">更多信息：[往返过程（“R”）格式说明符](#RFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-225">More information: [The Round-trip ("R") Format Specifier](#RFormatString).</span></span>|<span data-ttu-id="ace53-226">123456789.12345678 ("R") -> 123456789.12345678</span><span class="sxs-lookup"><span data-stu-id="ace53-226">123456789.12345678 ("R") -> 123456789.12345678</span></span><br /><br /> <span data-ttu-id="ace53-227">-1234567890.12345678 ("R") -> -1234567890.1234567</span><span class="sxs-lookup"><span data-stu-id="ace53-227">-1234567890.12345678 ("R") -> -1234567890.1234567</span></span>|
|<span data-ttu-id="ace53-228">“X”或“x”</span><span class="sxs-lookup"><span data-stu-id="ace53-228">"X" or "x"</span></span>|<span data-ttu-id="ace53-229">十六进制</span><span class="sxs-lookup"><span data-stu-id="ace53-229">Hexadecimal</span></span>|<span data-ttu-id="ace53-230">结果:十六进制字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-230">Result: A hexadecimal string.</span></span><br /><br /> <span data-ttu-id="ace53-231">受以下类型支持：仅限整型类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-231">Supported by: Integral types only.</span></span><br /><br /> <span data-ttu-id="ace53-232">精度说明符：结果字符串中的位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-232">Precision specifier: Number of digits in the result string.</span></span><br /><br /> <span data-ttu-id="ace53-233">更多信息：[十六进制（“X”）格式说明符](#XFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-233">More information: [The HexaDecimal ("X") Format Specifier](#XFormatString).</span></span>|<span data-ttu-id="ace53-234">255 ("X") -> FF</span><span class="sxs-lookup"><span data-stu-id="ace53-234">255 ("X") -> FF</span></span><br /><br /> <span data-ttu-id="ace53-235">-1 ("x") -> ff</span><span class="sxs-lookup"><span data-stu-id="ace53-235">-1 ("x") -> ff</span></span><br /><br /> <span data-ttu-id="ace53-236">255 ("x4") -> 00ff</span><span class="sxs-lookup"><span data-stu-id="ace53-236">255 ("x4") -> 00ff</span></span><br /><br /> <span data-ttu-id="ace53-237">-1 ("X4") -> 00FF</span><span class="sxs-lookup"><span data-stu-id="ace53-237">-1 ("X4") -> 00FF</span></span>|
|<span data-ttu-id="ace53-238">任何其他单个字符</span><span class="sxs-lookup"><span data-stu-id="ace53-238">Any other single character</span></span>|<span data-ttu-id="ace53-239">未知说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-239">Unknown specifier</span></span>|<span data-ttu-id="ace53-240">结果:在运行时引发 <xref:System.FormatException>。</span><span class="sxs-lookup"><span data-stu-id="ace53-240">Result: Throws a <xref:System.FormatException> at run time.</span></span>||

<a name="Using"></a>

## <a name="using-standard-numeric-format-strings"></a><span data-ttu-id="ace53-241">使用标准数字格式字符串</span><span class="sxs-lookup"><span data-stu-id="ace53-241">Using Standard Numeric Format Strings</span></span>

[!INCLUDE[interactive-note](~/includes/csharp-interactive-note.md)]

<span data-ttu-id="ace53-242">可采用以下两种方式之一使用标准数字格式字符串定义数值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-242">A standard numeric format string can be used to define the formatting of a numeric value in one of two ways:</span></span>

- <span data-ttu-id="ace53-243">可以传递给拥有 `ToString` 参数的 `format` 方法的重载。</span><span class="sxs-lookup"><span data-stu-id="ace53-243">It can be passed to an overload of the `ToString` method that has a `format` parameter.</span></span> <span data-ttu-id="ace53-244">下面的示例将数值的格式设置为当前区域性（在此示例中，为 en-US 区域性）中的货币字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-244">The following example formats a numeric value as a currency string in the current culture (in this case, the en-US culture).</span></span>

  [!code-cpp[Formatting.Numeric.Standard#10](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/standardusage1.cpp#10)]
  [!code-csharp-interactive[Formatting.Numeric.Standard#10](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/standardusage1.cs#10)]
  [!code-vb[Formatting.Numeric.Standard#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/standardusage1.vb#10)]

- <span data-ttu-id="ace53-245">它可作为与 <xref:System.String.Format%2A?displayProperty=nameWithType>、<xref:System.Console.WriteLine%2A?displayProperty=nameWithType> 和 <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType> 等方法一起使用的格式项中的 `formatString` 参数提供。</span><span class="sxs-lookup"><span data-stu-id="ace53-245">It can be supplied as the `formatString` argument in a format item used with such methods as <xref:System.String.Format%2A?displayProperty=nameWithType>, <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, and <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ace53-246">有关更多信息，请参见[复合格式设置](composite-formatting.md)。</span><span class="sxs-lookup"><span data-stu-id="ace53-246">For more information, see [Composite Formatting](composite-formatting.md).</span></span> <span data-ttu-id="ace53-247">下面的示例使用格式项在字符串中插入货币值。</span><span class="sxs-lookup"><span data-stu-id="ace53-247">The following example uses a format item to insert a currency value in a string.</span></span>

  [!code-cpp[Formatting.Numeric.Standard#11](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/standardusage1.cpp#11)]
  [!code-csharp-interactive[Formatting.Numeric.Standard#11](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/standardusage1.cs#11)]
  [!code-vb[Formatting.Numeric.Standard#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/standardusage1.vb#11)]

  <span data-ttu-id="ace53-248">可以视需要选择提供 `alignment` 参数，以指定数字字段宽度以及值是右对齐还是左对齐。</span><span class="sxs-lookup"><span data-stu-id="ace53-248">Optionally, you can supply an `alignment` argument to specify the width of the numeric field and whether its value is right- or left-aligned.</span></span> <span data-ttu-id="ace53-249">下面的示例在 28 位字符的字段中左对齐货币值，在 14 位字符的字段中右对齐货币值。</span><span class="sxs-lookup"><span data-stu-id="ace53-249">The following example left-aligns a currency value in a 28-character field, and it right-aligns a currency value in a 14-character field.</span></span>

  [!code-cpp[Formatting.Numeric.Standard#12](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/standardusage1.cpp#12)]
  [!code-csharp-interactive[Formatting.Numeric.Standard#12](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/standardusage1.cs#12)]
  [!code-vb[Formatting.Numeric.Standard#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/standardusage1.vb#12)]

- <span data-ttu-id="ace53-250">可以提供它作为内插字符串的内插表达式项中的 `formatString` 参数。</span><span class="sxs-lookup"><span data-stu-id="ace53-250">It can be supplied as the `formatString` argument in an interpolated expression item of an interpolated string.</span></span> <span data-ttu-id="ace53-251">有关详细信息，请参阅 C# 参考中的[字符串内插](../../csharp/language-reference/tokens/interpolated.md)主题，或 Visual Basic 参考中的[内插字符串](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md)主题。</span><span class="sxs-lookup"><span data-stu-id="ace53-251">For more information, see the [String interpolation](../../csharp/language-reference/tokens/interpolated.md) topic in the C# reference or the [Interpolated strings](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) topic in the Visual Basic reference.</span></span>

<span data-ttu-id="ace53-252">以下各节提供有关每个标准数字格式字符串的详细信息。</span><span class="sxs-lookup"><span data-stu-id="ace53-252">The following sections provide detailed information about each of the standard numeric format strings.</span></span>

<a name="CFormatString"></a>

## <a name="the-currency-c-format-specifier"></a><span data-ttu-id="ace53-253">货币（“C”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-253">The Currency ("C") Format Specifier</span></span>

<span data-ttu-id="ace53-254">“C”（或货币）格式说明符将数字转换为表示货币金额的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-254">The "C" (or currency) format specifier converts a number to a string that represents a currency amount.</span></span> <span data-ttu-id="ace53-255">精度说明符指示结果字符串中的所需小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-255">The precision specifier indicates the desired number of decimal places in the result string.</span></span> <span data-ttu-id="ace53-256">如果省略精度说明符，则默认精度由 <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A?displayProperty=nameWithType> 属性定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-256">If the precision specifier is omitted, the default precision is defined by the <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A?displayProperty=nameWithType> property.</span></span>

<span data-ttu-id="ace53-257">如果要设置格式的值的小数位数多于指定或默认数量，将在结果字符串中舍入小数值。</span><span class="sxs-lookup"><span data-stu-id="ace53-257">If the value to be formatted has more than the specified or default number of decimal places, the fractional value is rounded in the result string.</span></span> <span data-ttu-id="ace53-258">如果指定的小数位数右侧的值大于或等于 5，则结果字符串中的最后一位数将向远离零的一侧舍入。</span><span class="sxs-lookup"><span data-stu-id="ace53-258">If the value to the right of the number of specified decimal places is 5 or greater, the last digit in the result string is rounded away from zero.</span></span>

<span data-ttu-id="ace53-259">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-259">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-260">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制返回字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-260">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the returned string.</span></span>

|<span data-ttu-id="ace53-261">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-261">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-262">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-262">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.CurrencyPositivePattern%2A>|<span data-ttu-id="ace53-263">定义正值的货币符号的位置。</span><span class="sxs-lookup"><span data-stu-id="ace53-263">Defines the placement of the currency symbol for positive values.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A>|<span data-ttu-id="ace53-264">定义负值的货币符号的位置，并指定负号由括号表示还是由 <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> 属性表示。</span><span class="sxs-lookup"><span data-stu-id="ace53-264">Defines the placement of the currency symbol for negative values, and specifies whether the negative sign is represented by parentheses or the <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> property.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-265">定义在 <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> 指明不使用括号时使用的负号。</span><span class="sxs-lookup"><span data-stu-id="ace53-265">Defines the negative sign used if <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> indicates that parentheses are not used.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A>|<span data-ttu-id="ace53-266">定义货币符号。</span><span class="sxs-lookup"><span data-stu-id="ace53-266">Defines the currency symbol.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A>|<span data-ttu-id="ace53-267">定义货币值中的默认小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-267">Defines the default number of decimal digits in a currency value.</span></span> <span data-ttu-id="ace53-268">可使用精度说明符重写此值。</span><span class="sxs-lookup"><span data-stu-id="ace53-268">This value can be overridden by using the precision specifier.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A>|<span data-ttu-id="ace53-269">定义分隔整数位和小数位的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-269">Defines the string that separates integral and decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencyGroupSeparator%2A>|<span data-ttu-id="ace53-270">定义分隔整数的组的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-270">Defines the string that separates groups of integral numbers.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.CurrencyGroupSizes%2A>|<span data-ttu-id="ace53-271">指定在组中显示的整数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-271">Defines the number of integer digits that appear in a group.</span></span>|

<span data-ttu-id="ace53-272">下面的示例使用货币格式说明符设置 <xref:System.Double> 值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-272">The following example formats a <xref:System.Double> value with the currency format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#1](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#1)]
[!code-csharp[Formatting.Numeric.Standard#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#1)]
[!code-vb[Formatting.Numeric.Standard#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#1)]

[<span data-ttu-id="ace53-273">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-273">Back to table</span></span>](#table)

<a name="DFormatString"></a>

## <a name="the-decimal-d-format-specifier"></a><span data-ttu-id="ace53-274">十进制（“D”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-274">The Decimal ("D") Format Specifier</span></span>

<span data-ttu-id="ace53-275">“D”（或十进制）格式说明符将数字转换为十进制数字 (0-9) 的字符串，如果数字为负，则前面加负号。</span><span class="sxs-lookup"><span data-stu-id="ace53-275">The "D" (or decimal) format specifier converts a number to a string of decimal digits (0-9), prefixed by a minus sign if the number is negative.</span></span> <span data-ttu-id="ace53-276">只有整型才支持此格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-276">This format is supported only for integral types.</span></span>

<span data-ttu-id="ace53-277">精度说明符指示结果字符串中所需的最少数字个数。</span><span class="sxs-lookup"><span data-stu-id="ace53-277">The precision specifier indicates the minimum number of digits desired in the resulting string.</span></span> <span data-ttu-id="ace53-278">如果需要的话，则用零填充该数字的左侧，以产生精度说明符给定的数字个数。</span><span class="sxs-lookup"><span data-stu-id="ace53-278">If required, the number is padded with zeros to its left to produce the number of digits given by the precision specifier.</span></span> <span data-ttu-id="ace53-279">如果未指定精度说明符，则默认值为表示不带前导零的整数所需的最小值。</span><span class="sxs-lookup"><span data-stu-id="ace53-279">If no precision specifier is specified, the default is the minimum value required to represent the integer without leading zeros.</span></span>

<span data-ttu-id="ace53-280">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-280">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-281">如下表所示，一个属性会影响结果字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-281">As the following table shows, a single property affects the formatting of the result string.</span></span>

|<span data-ttu-id="ace53-282">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-282">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-283">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-283">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-284">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-284">Defines the string that indicates that a number is negative.</span></span>|

<span data-ttu-id="ace53-285">下面的示例使用十进制格式说明符设置 <xref:System.Int32> 值的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-285">The following example formats an <xref:System.Int32> value with the decimal format specifier.</span></span>

[!code-cpp[Formatting.Numeric.Standard#2](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#2)]
[!code-csharp-interactive[Formatting.Numeric.Standard#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#2)]
[!code-vb[Formatting.Numeric.Standard#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#2)]

[<span data-ttu-id="ace53-286">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-286">Back to table</span></span>](#table)

<a name="EFormatString"></a>

## <a name="the-exponential-e-format-specifier"></a><span data-ttu-id="ace53-287">指数（“E”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-287">The Exponential ("E") Format Specifier</span></span>

<span data-ttu-id="ace53-288">指数（“E”）格式说明符将数字转换为“-d.ddd…E+ddd”或“-d.ddd…e+ddd”形式的字符串，其中每个“d”表示一个数字 (0-9)。</span><span class="sxs-lookup"><span data-stu-id="ace53-288">The exponential ("E") format specifier converts a number to a string of the form "-d.ddd…E+ddd" or "-d.ddd…e+ddd", where each "d" indicates a digit (0-9).</span></span> <span data-ttu-id="ace53-289">如果该数字为负，则该字符串以减号开头。</span><span class="sxs-lookup"><span data-stu-id="ace53-289">The string starts with a minus sign if the number is negative.</span></span> <span data-ttu-id="ace53-290">小数点前总是恰好有一个数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-290">Exactly one digit always precedes the decimal point.</span></span>

<span data-ttu-id="ace53-291">精度说明符指示小数点后所需的位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-291">The precision specifier indicates the desired number of digits after the decimal point.</span></span> <span data-ttu-id="ace53-292">如果省略精度说明符，则使用默认值，即小数点后六位数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-292">If the precision specifier is omitted, a default of six digits after the decimal point is used.</span></span>

<span data-ttu-id="ace53-293">格式说明符的大小写指示为指数加前缀“E”还是“e”。</span><span class="sxs-lookup"><span data-stu-id="ace53-293">The case of the format specifier indicates whether to prefix the exponent with an "E" or an "e".</span></span> <span data-ttu-id="ace53-294">指数总是由正号或负号以及最少三位数字组成。</span><span class="sxs-lookup"><span data-stu-id="ace53-294">The exponent always consists of a plus or minus sign and a minimum of three digits.</span></span> <span data-ttu-id="ace53-295">如果需要，用零填充指数以满足最少三位数字的要求。</span><span class="sxs-lookup"><span data-stu-id="ace53-295">The exponent is padded with zeros to meet this minimum, if required.</span></span>

<span data-ttu-id="ace53-296">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-296">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-297">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制返回字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-297">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the returned string.</span></span>

|<span data-ttu-id="ace53-298">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-298">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-299">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-299">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-300">定义表示数字对于系数和指数都为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-300">Defines the string that indicates that a number is negative for both the coefficient and exponent.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A>|<span data-ttu-id="ace53-301">定义在系数中将整数位与小数位分隔的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-301">Defines the string that separates the integral digit from decimal digits in the coefficient.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PositiveSign%2A>|<span data-ttu-id="ace53-302">定义指示指数为正值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-302">Defines the string that indicates that an exponent is positive.</span></span>|

<span data-ttu-id="ace53-303">下面的示例使用指数格式说明符设置 <xref:System.Double> 值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-303">The following example formats a <xref:System.Double> value with the exponential format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#3](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#3)]
[!code-csharp[Formatting.Numeric.Standard#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#3)]
[!code-vb[Formatting.Numeric.Standard#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#3)]

[<span data-ttu-id="ace53-304">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-304">Back to table</span></span>](#table)

<a name="FFormatString"></a>

## <a name="the-fixed-point-f-format-specifier"></a><span data-ttu-id="ace53-305">定点（“F”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-305">The Fixed-Point ("F") Format Specifier</span></span>

<span data-ttu-id="ace53-306">定点（“F”）格式说明符将数字转换为“-ddd.ddd…”形式的字符串，其中每个“d”表示一个数字 (0-9)。</span><span class="sxs-lookup"><span data-stu-id="ace53-306">The fixed-point ("F") format specifier converts a number to a string of the form "-ddd.ddd…" where each "d" indicates a digit (0-9).</span></span> <span data-ttu-id="ace53-307">如果该数字为负，则该字符串以减号开头。</span><span class="sxs-lookup"><span data-stu-id="ace53-307">The string starts with a minus sign if the number is negative.</span></span>

<span data-ttu-id="ace53-308">精度说明符指示所需的小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-308">The precision specifier indicates the desired number of decimal places.</span></span> <span data-ttu-id="ace53-309">如果省略精度说明符，则当前 <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> 属性提供数值精度。</span><span class="sxs-lookup"><span data-stu-id="ace53-309">If the precision specifier is omitted, the current <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> property supplies the numeric precision.</span></span>

<span data-ttu-id="ace53-310">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-310">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-311">下表列出了 <xref:System.Globalization.NumberFormatInfo> 对象的属性，这些属性控制结果字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-311">The following table lists the properties of the <xref:System.Globalization.NumberFormatInfo> object that control the formatting of the result string.</span></span>

|<span data-ttu-id="ace53-312">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-312">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-313">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-313">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-314">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-314">Defines the string that indicates that a number is negative.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A>|<span data-ttu-id="ace53-315">定义将整数位与小数位分隔的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-315">Defines the string that separates integral digits from decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A>|<span data-ttu-id="ace53-316">定义默认小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-316">Defines the default number of decimal digits.</span></span> <span data-ttu-id="ace53-317">可使用精度说明符重写此值。</span><span class="sxs-lookup"><span data-stu-id="ace53-317">This value can be overridden by using the precision specifier.</span></span>|

<span data-ttu-id="ace53-318">下面的示例使用定点格式说明符设置 <xref:System.Double> 和 <xref:System.Int32> 值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-318">The following example formats a <xref:System.Double> and an <xref:System.Int32> value with the fixed-point format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#4](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#4)]
[!code-csharp[Formatting.Numeric.Standard#4](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#4)]
[!code-vb[Formatting.Numeric.Standard#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#4)]

[<span data-ttu-id="ace53-319">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-319">Back to table</span></span>](#table)

<a name="GFormatString"></a>

## <a name="the-general-g-format-specifier"></a><span data-ttu-id="ace53-320">常规（“G”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-320">The General ("G") Format Specifier</span></span>

<span data-ttu-id="ace53-321">根据数字类型以及是否存在精度说明符，常规（“G”）格式说明符将数字转换为更紧凑的定点表示法或科学记数法。</span><span class="sxs-lookup"><span data-stu-id="ace53-321">The general ("G") format specifier converts a number to the more compact of either fixed-point or scientific notation, depending on the type of the number and whether a precision specifier is present.</span></span> <span data-ttu-id="ace53-322">精度说明符定义可以出现在结果字符串中的最大有效位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-322">The precision specifier defines the maximum number of significant digits that can appear in the result string.</span></span> <span data-ttu-id="ace53-323">如果精度说明符被省略或为零，则数字的类型决定默认精度，如下表所示。</span><span class="sxs-lookup"><span data-stu-id="ace53-323">If the precision specifier is omitted or zero, the type of the number determines the default precision, as indicated in the following table.</span></span>

|<span data-ttu-id="ace53-324">数值类型</span><span class="sxs-lookup"><span data-stu-id="ace53-324">Numeric type</span></span>|<span data-ttu-id="ace53-325">默认值精度</span><span class="sxs-lookup"><span data-stu-id="ace53-325">Default precision</span></span>|
|------------------|-----------------------|
|<span data-ttu-id="ace53-326"><xref:System.Byte> 或 <xref:System.SByte></span><span class="sxs-lookup"><span data-stu-id="ace53-326"><xref:System.Byte> or <xref:System.SByte></span></span>|<span data-ttu-id="ace53-327">3 位</span><span class="sxs-lookup"><span data-stu-id="ace53-327">3 digits</span></span>|
|<span data-ttu-id="ace53-328"><xref:System.Int16> 或 <xref:System.UInt16></span><span class="sxs-lookup"><span data-stu-id="ace53-328"><xref:System.Int16> or <xref:System.UInt16></span></span>|<span data-ttu-id="ace53-329">5 位</span><span class="sxs-lookup"><span data-stu-id="ace53-329">5 digits</span></span>|
|<span data-ttu-id="ace53-330"><xref:System.Int32> 或 <xref:System.UInt32></span><span class="sxs-lookup"><span data-stu-id="ace53-330"><xref:System.Int32> or <xref:System.UInt32></span></span>|<span data-ttu-id="ace53-331">10 位</span><span class="sxs-lookup"><span data-stu-id="ace53-331">10 digits</span></span>|
|<xref:System.Int64>|<span data-ttu-id="ace53-332">19 位</span><span class="sxs-lookup"><span data-stu-id="ace53-332">19 digits</span></span>|
|<xref:System.UInt64>|<span data-ttu-id="ace53-333">20 位</span><span class="sxs-lookup"><span data-stu-id="ace53-333">20 digits</span></span>|
|<xref:System.Numerics.BigInteger>|<span data-ttu-id="ace53-334">无限制（与[“R”](#RFormatString)相同）</span><span class="sxs-lookup"><span data-stu-id="ace53-334">Unlimited (same as ["R"](#RFormatString))</span></span>|
|<xref:System.Single>|<span data-ttu-id="ace53-335">7 位</span><span class="sxs-lookup"><span data-stu-id="ace53-335">7 digits</span></span>|
|<xref:System.Double>|<span data-ttu-id="ace53-336">15 位</span><span class="sxs-lookup"><span data-stu-id="ace53-336">15 digits</span></span>|
|<xref:System.Decimal>|<span data-ttu-id="ace53-337">29 位</span><span class="sxs-lookup"><span data-stu-id="ace53-337">29 digits</span></span>|

<span data-ttu-id="ace53-338">如果用科学记数法表示数字时指数大于 -5 而且小于精度说明符，则使用定点表示法；否则使用科学记数法。</span><span class="sxs-lookup"><span data-stu-id="ace53-338">Fixed-point notation is used if the exponent that would result from expressing the number in scientific notation is greater than -5 and less than the precision specifier; otherwise, scientific notation is used.</span></span> <span data-ttu-id="ace53-339">结果包含小数点（如果需要），并且忽略小数点后面的尾部零。</span><span class="sxs-lookup"><span data-stu-id="ace53-339">The result contains a decimal point if required, and trailing zeros after the decimal point are omitted.</span></span> <span data-ttu-id="ace53-340">如果精度说明符存在，并且结果的有效位数超过指定精度，则通过舍入移除多余的尾部数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-340">If the precision specifier is present and the number of significant digits in the result exceeds the specified precision, the excess trailing digits are removed by rounding.</span></span>

<span data-ttu-id="ace53-341">但是，如果数字是 <xref:System.Decimal> 并且省略精度说明符，将总是使用定点表示法并保留尾部零。</span><span class="sxs-lookup"><span data-stu-id="ace53-341">However, if the number is a <xref:System.Decimal> and the precision specifier is omitted, fixed-point notation is always used and trailing zeros are preserved.</span></span>

<span data-ttu-id="ace53-342">使用科学记数法时，如果格式说明符是“G”，则结果的指数带前缀“E”；如果格式说明符是“g”，则结果的指数带前缀“e”。</span><span class="sxs-lookup"><span data-stu-id="ace53-342">If scientific notation is used, the exponent in the result is prefixed with "E" if the format specifier is "G", or "e" if the format specifier is "g".</span></span> <span data-ttu-id="ace53-343">指数最少包含两个数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-343">The exponent contains a minimum of two digits.</span></span> <span data-ttu-id="ace53-344">这与由指数格式说明符生成的科学记数法的格式不同，后者在指数中最少包括三个数字。</span><span class="sxs-lookup"><span data-stu-id="ace53-344">This differs from the format for scientific notation that is produced by the exponential format specifier, which includes a minimum of three digits in the exponent.</span></span>

<span data-ttu-id="ace53-345">请注意，如果与 <xref:System.Double> 值结合使用，"G17" 格式说明符可确保原始 <xref:System.Double> 值成功往返。</span><span class="sxs-lookup"><span data-stu-id="ace53-345">Note that, when used with a <xref:System.Double> value, the "G17" format specifier ensures that the original <xref:System.Double> value successfully round-trips.</span></span> <span data-ttu-id="ace53-346">这是因为 <xref:System.Double> 是符合 IEEE 754-2008 要求的双精度 (`binary64`) 浮点数，最高可提供 17 位有效数字的精度。</span><span class="sxs-lookup"><span data-stu-id="ace53-346">This is because <xref:System.Double> is an IEEE 754-2008-compliant double-precision (`binary64`) floating point number that gives up to 17 significant digits of precision.</span></span> <span data-ttu-id="ace53-347">建议使用此说明符，而不是 ["R" 格式说明符](#RFormatString)，因为在某些情况下，"R" 无法成功往返双精度浮点值。</span><span class="sxs-lookup"><span data-stu-id="ace53-347">We recommend its use instead of the ["R" format specifier](#RFormatString), since in some cases "R" fails to successfully round-trip double-precision floating point values.</span></span> <span data-ttu-id="ace53-348">下面的示例阐释了这样一种情况。</span><span class="sxs-lookup"><span data-stu-id="ace53-348">The following example illustrates one such case.</span></span>

[!code-csharp-interactive[Round-tripping a Double](../../../samples/snippets/standard/base-types/format-strings/csharp/g17.cs#GeneralFormatSpecifier)]
[!code-vb[Round-tripping a Double](../../../samples/snippets/standard/base-types/format-strings/vb/g17.vb)]

<span data-ttu-id="ace53-349">如果与 <xref:System.Single> 值结合使用，"G9" 格式说明符可确保原始 <xref:System.Single> 值成功往返。</span><span class="sxs-lookup"><span data-stu-id="ace53-349">When used with a <xref:System.Single> value, the "G9" format specifier ensures that the original <xref:System.Single> value successfully round-trips.</span></span> <span data-ttu-id="ace53-350">这是因为 <xref:System.Single> 是符合 IEEE 754-2008 要求的但精度 (`binary32`) 浮点数，最高可提供 9 位有效数字的精度。</span><span class="sxs-lookup"><span data-stu-id="ace53-350">This is because <xref:System.Single> is an IEEE 754-2008-compliant single-precision (`binary32`) floating point number that gives up to nine significant digits of precision.</span></span> <span data-ttu-id="ace53-351">出于性能原因，我们建议使用它而不是[“R”格式说明符](#RFormatString)。</span><span class="sxs-lookup"><span data-stu-id="ace53-351">For performance reasons, we recommend its use instead of the ["R" format specifier](#RFormatString).</span></span>

<span data-ttu-id="ace53-352">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-352">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-353">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制结果字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-353">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the result string.</span></span>

|<span data-ttu-id="ace53-354">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-354">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-355">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-355">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-356">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-356">Defines the string that indicates that a number is negative.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A>|<span data-ttu-id="ace53-357">定义将整数位与小数位分隔的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-357">Defines the string that separates integral digits from decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PositiveSign%2A>|<span data-ttu-id="ace53-358">定义指示指数为正值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-358">Defines the string that indicates that an exponent is positive.</span></span>|

<span data-ttu-id="ace53-359">下面的示例使用常规格式说明符设置各种浮点值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-359">The following example formats assorted floating-point values with the general format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#5](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#5)]
[!code-csharp[Formatting.Numeric.Standard#5](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#5)]
[!code-vb[Formatting.Numeric.Standard#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#5)]

[<span data-ttu-id="ace53-360">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-360">Back to table</span></span>](#table)

<a name="NFormatString"></a>

## <a name="the-numeric-n-format-specifier"></a><span data-ttu-id="ace53-361">数字（“N”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-361">The Numeric ("N") Format Specifier</span></span>

<span data-ttu-id="ace53-362">数字（"N"）格式说明符将数字转换为"-d,ddd,ddd.ddd…"形式的字符串，其中"-"表示负数符号（如果需要），"d"表示数字 (0-9)，","表示组分隔符，"."表示小数点符号。</span><span class="sxs-lookup"><span data-stu-id="ace53-362">The numeric ("N") format specifier converts a number to a string of the form "-d,ddd,ddd.ddd…", where "-" indicates a negative number symbol if required, "d" indicates a digit (0-9), "," indicates a group separator, and "." indicates a decimal point symbol.</span></span> <span data-ttu-id="ace53-363">精度说明符指示小数点后所需的位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-363">The precision specifier indicates the desired number of digits after the decimal point.</span></span> <span data-ttu-id="ace53-364">如果省略精度限定符，则小数位数由当前的 <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> 属性来定义。</span><span class="sxs-lookup"><span data-stu-id="ace53-364">If the precision specifier is omitted, the number of decimal places is defined by the current <xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A?displayProperty=nameWithType> property.</span></span>

<span data-ttu-id="ace53-365">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-365">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-366">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制结果字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-366">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the result string.</span></span>

|<span data-ttu-id="ace53-367">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-367">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-368">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-368">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-369">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-369">Defines the string that indicates that a number is negative.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberNegativePattern%2A>|<span data-ttu-id="ace53-370">定义负值的格式，并指定负号由括号表示还是由 <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> 属性表示。</span><span class="sxs-lookup"><span data-stu-id="ace53-370">Defines the format of negative values, and specifies whether the negative sign is represented by parentheses or the <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> property.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberGroupSizes%2A>|<span data-ttu-id="ace53-371">指定在组分隔符之间显示的整数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-371">Defines the number of integral digits that appear between group separators.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberGroupSeparator%2A>|<span data-ttu-id="ace53-372">定义分隔整数的组的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-372">Defines the string that separates groups of integral numbers.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A>|<span data-ttu-id="ace53-373">定义分隔整数位和小数位的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-373">Defines the string that separates integral and decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalDigits%2A>|<span data-ttu-id="ace53-374">定义默认小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-374">Defines the default number of decimal digits.</span></span> <span data-ttu-id="ace53-375">可使用精度说明符重写此值。</span><span class="sxs-lookup"><span data-stu-id="ace53-375">This value can be overridden by using a precision specifier.</span></span>|

<span data-ttu-id="ace53-376">下面的示例使用数字格式说明符设置各种浮点值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-376">The following example formats assorted floating-point values with the number format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#6](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#6)]
[!code-csharp[Formatting.Numeric.Standard#6](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#6)]
[!code-vb[Formatting.Numeric.Standard#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#6)]

[<span data-ttu-id="ace53-377">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-377">Back to table</span></span>](#table)

<a name="PFormatString"></a>

## <a name="the-percent-p-format-specifier"></a><span data-ttu-id="ace53-378">百分比（“P”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-378">The Percent ("P") Format Specifier</span></span>

<span data-ttu-id="ace53-379">百分比（“P”）格式说明符将数字乘以 100 并将其转换为表示百分比的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-379">The percent ("P") format specifier multiplies a number by 100 and converts it to a string that represents a percentage.</span></span> <span data-ttu-id="ace53-380">精度说明符指示所需的小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-380">The precision specifier indicates the desired number of decimal places.</span></span> <span data-ttu-id="ace53-381">如果省略精度说明符，则使用当前 <xref:System.Globalization.NumberFormatInfo.PercentDecimalDigits%2A> 属性提供的默认数值精度。</span><span class="sxs-lookup"><span data-stu-id="ace53-381">If the precision specifier is omitted, the default numeric precision supplied by the current <xref:System.Globalization.NumberFormatInfo.PercentDecimalDigits%2A> property is used.</span></span>

<span data-ttu-id="ace53-382">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制返回字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-382">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the returned string.</span></span>

|<span data-ttu-id="ace53-383">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-383">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-384">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-384">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.PercentPositivePattern%2A>|<span data-ttu-id="ace53-385">定义正值的百分比符号的位置。</span><span class="sxs-lookup"><span data-stu-id="ace53-385">Defines the placement of the percent symbol for positive values.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentNegativePattern%2A>|<span data-ttu-id="ace53-386">定义负值的百分比符号和负号的位置。</span><span class="sxs-lookup"><span data-stu-id="ace53-386">Defines the placement of the percent symbol and the negative symbol for negative values.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-387">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-387">Defines the string that indicates that a number is negative.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentSymbol%2A>|<span data-ttu-id="ace53-388">定义百分比符号。</span><span class="sxs-lookup"><span data-stu-id="ace53-388">Defines the percent symbol.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentDecimalDigits%2A>|<span data-ttu-id="ace53-389">定义百分比值中的默认小数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-389">Defines the default number of decimal digits in a percentage value.</span></span> <span data-ttu-id="ace53-390">可使用精度说明符重写此值。</span><span class="sxs-lookup"><span data-stu-id="ace53-390">This value can be overridden by using the precision specifier.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentDecimalSeparator%2A>|<span data-ttu-id="ace53-391">定义分隔整数位和小数位的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-391">Defines the string that separates integral and decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentGroupSeparator%2A>|<span data-ttu-id="ace53-392">定义分隔整数的组的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-392">Defines the string that separates groups of integral numbers.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PercentGroupSizes%2A>|<span data-ttu-id="ace53-393">指定在组中显示的整数位数。</span><span class="sxs-lookup"><span data-stu-id="ace53-393">Defines the number of integer digits that appear in a group.</span></span>|

<span data-ttu-id="ace53-394">下面的示例使用百分比格式说明符设置浮点值的格式：</span><span class="sxs-lookup"><span data-stu-id="ace53-394">The following example formats floating-point values with the percent format specifier:</span></span>

[!code-cpp[Formatting.Numeric.Standard#7](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#7)]
[!code-csharp[Formatting.Numeric.Standard#7](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#7)]
[!code-vb[Formatting.Numeric.Standard#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#7)]

[<span data-ttu-id="ace53-395">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-395">Back to table</span></span>](#table)

<a name="RFormatString"></a>

## <a name="the-round-trip-r-format-specifier"></a><span data-ttu-id="ace53-396">往返过程（“R”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-396">The Round-trip ("R") Format Specifier</span></span>

<span data-ttu-id="ace53-397">往返 ("R") 格式说明符试图确保将转换为字符串的数值分析回相同的数值。</span><span class="sxs-lookup"><span data-stu-id="ace53-397">The round-trip ("R") format specifier attempts to ensure that a numeric value that is converted to a string is parsed back into the same numeric value.</span></span> <span data-ttu-id="ace53-398">只有 <xref:System.Single>、<xref:System.Double> 和 <xref:System.Numerics.BigInteger> 类型支持此格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-398">This format is supported only for the <xref:System.Single>, <xref:System.Double>, and <xref:System.Numerics.BigInteger> types.</span></span>

<span data-ttu-id="ace53-399">对于 <xref:System.Double> 值，某些情况下的“R”格式说明符未能成功往返原始值。</span><span class="sxs-lookup"><span data-stu-id="ace53-399">For <xref:System.Double> values, the "R" format specifier in some cases fails to successfully round-trip the original value.</span></span> <span data-ttu-id="ace53-400">对于两个 <xref:System.Double> 和 <xref:System.Single> 值，它还提供相对较差的性能。</span><span class="sxs-lookup"><span data-stu-id="ace53-400">For both <xref:System.Double> and <xref:System.Single> values, it also offers relatively poor performance.</span></span> <span data-ttu-id="ace53-401">建议改用 ["G17"](#GFormatString) 格式说明符以成功往返 <xref:System.Double> 值，并改用 ["G9"](#GFormatString) 格式说明符以成功往返 <xref:System.Single> 值。</span><span class="sxs-lookup"><span data-stu-id="ace53-401">Instead, we recommend that you use the ["G17"](#GFormatString) format specifier for <xref:System.Double> values and the ["G9"](#GFormatString) format specifier to successfully round-trip <xref:System.Single> values.</span></span>

<span data-ttu-id="ace53-402">如果使用此说明符设置 <xref:System.Numerics.BigInteger> 值的格式，其字符串表示形式将包含 <xref:System.Numerics.BigInteger> 值中的所有有效位。</span><span class="sxs-lookup"><span data-stu-id="ace53-402">When a <xref:System.Numerics.BigInteger> value is formatted using this specifier, its string representation contains all the significant digits in the <xref:System.Numerics.BigInteger> value.</span></span>

<span data-ttu-id="ace53-403">尽管可以包括精度说明符，但会忽略它。</span><span class="sxs-lookup"><span data-stu-id="ace53-403">Although you can include a precision specifier, it is ignored.</span></span> <span data-ttu-id="ace53-404">使用此说明符时，往返过程优先于精度。</span><span class="sxs-lookup"><span data-stu-id="ace53-404">Round trips are given precedence over precision when using this specifier.</span></span>
<span data-ttu-id="ace53-405">结果字符串受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-405">The result string is affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ace53-406">下表列出了 <xref:System.Globalization.NumberFormatInfo> 属性，这些属性控制结果字符串的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-406">The following table lists the <xref:System.Globalization.NumberFormatInfo> properties that control the formatting of the result string.</span></span>

|<span data-ttu-id="ace53-407">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-407">NumberFormatInfo property</span></span>|<span data-ttu-id="ace53-408">描述</span><span class="sxs-lookup"><span data-stu-id="ace53-408">Description</span></span>|
|-------------------------------|-----------------|
|<xref:System.Globalization.NumberFormatInfo.NegativeSign%2A>|<span data-ttu-id="ace53-409">定义指示数字为负值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-409">Defines the string that indicates that a number is negative.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A>|<span data-ttu-id="ace53-410">定义将整数位与小数位分隔的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-410">Defines the string that separates integral digits from decimal digits.</span></span>|
|<xref:System.Globalization.NumberFormatInfo.PositiveSign%2A>|<span data-ttu-id="ace53-411">定义指示指数为正值的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-411">Defines the string that indicates that an exponent is positive.</span></span>|

<span data-ttu-id="ace53-412">下面的示例使用往返格式说明符设置 <xref:System.Numerics.BigInteger> 值的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-412">The following example formats a <xref:System.Numerics.BigInteger> value with the round-trip format specifier.</span></span>

[!code-cpp[R format specifier with a BigInteger](../../../samples/snippets/standard/base-types/format-strings/biginteger-r.cpp)]
[!code-csharp[R format specifier with a BigInteger](../../../samples/snippets/standard/base-types/format-strings/biginteger-r.cs)]
[!code-vb[R format specifier with a BigInteger](../../../samples/snippets/standard/base-types/format-strings/biginteger-r.vb)]

> [!IMPORTANT]
> <span data-ttu-id="ace53-413">在某些情况下，如果使用“R”标准数字格式字符串格式化的 <xref:System.Double> 值使用 `/platform:x64` 或 `/platform:anycpu` 开关编译并在 64 位系统上运行，则该值将无法成功往返。</span><span class="sxs-lookup"><span data-stu-id="ace53-413">In some cases, <xref:System.Double> values formatted with the "R" standard numeric format string do not successfully round-trip if compiled using the `/platform:x64` or `/platform:anycpu` switches and run on 64-bit systems.</span></span> <span data-ttu-id="ace53-414">有关详细信息，请参阅以下段落。</span><span class="sxs-lookup"><span data-stu-id="ace53-414">See the following paragraph for more information.</span></span>

<span data-ttu-id="ace53-415">若要解决使用“R”标准数字格式字符串格式化的 <xref:System.Double> 值在使用 `/platform:x64` 或 `/platform:anycpu` 交换机进行编译并在 64 位系统上运行时所出现的往返不成功的问题，可以使用“G17”标准数字格式字符格式化 <xref:System.Double> 值。</span><span class="sxs-lookup"><span data-stu-id="ace53-415">To work around the problem of <xref:System.Double> values formatted with the "R" standard numeric format string not successfully round-tripping if compiled using the `/platform:x64` or `/platform:anycpu` switches and run on 64-bit systems., you can format <xref:System.Double> values by using the "G17" standard numeric format string.</span></span> <span data-ttu-id="ace53-416">以下示例将“R”格式字符串与无法成功往返的 <xref:System.Double> 值配合使用，并使用“G17”格式字符串以成功往返原始值：</span><span class="sxs-lookup"><span data-stu-id="ace53-416">The following example uses the "R" format string with a <xref:System.Double> value that does not round-trip successfully, and also uses the "G17" format string to successfully round-trip the original value:</span></span>

[!code-csharp[System.Double.ToString#5](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.Double.ToString/cs/roundtripex1.cs#RoundTrip)]
[!code-vb[System.Double.ToString#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Double.ToString/vb/roundtripex1.vb#5)]

[<span data-ttu-id="ace53-417">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-417">Back to table</span></span>](#table)

<a name="XFormatString"></a>

## <a name="the-hexadecimal-x-format-specifier"></a><span data-ttu-id="ace53-418">十六进制（“X”）格式说明符</span><span class="sxs-lookup"><span data-stu-id="ace53-418">The Hexadecimal ("X") Format Specifier</span></span>

<span data-ttu-id="ace53-419">十六进制（“X”）格式说明符将数字转换为十六进制数的字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-419">The hexadecimal ("X") format specifier converts a number to a string of hexadecimal digits.</span></span> <span data-ttu-id="ace53-420">格式说明符的大小写指示对大于 9 的十六进制数使用大写字符还是小写字符。</span><span class="sxs-lookup"><span data-stu-id="ace53-420">The case of the format specifier indicates whether to use uppercase or lowercase characters for hexadecimal digits that are greater than 9.</span></span> <span data-ttu-id="ace53-421">例如，使用“X”产生“ABCDEF”，使用“x”产生“abcdef”。</span><span class="sxs-lookup"><span data-stu-id="ace53-421">For example, use "X" to produce "ABCDEF", and "x" to produce "abcdef".</span></span> <span data-ttu-id="ace53-422">只有整型才支持此格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-422">This format is supported only for integral types.</span></span>

<span data-ttu-id="ace53-423">精度说明符指示结果字符串中所需的最少数字个数。</span><span class="sxs-lookup"><span data-stu-id="ace53-423">The precision specifier indicates the minimum number of digits desired in the resulting string.</span></span> <span data-ttu-id="ace53-424">如果需要的话，则用零填充该数字的左侧，以产生精度说明符给定的数字个数。</span><span class="sxs-lookup"><span data-stu-id="ace53-424">If required, the number is padded with zeros to its left to produce the number of digits given by the precision specifier.</span></span>

<span data-ttu-id="ace53-425">结果字符串不受当前 <xref:System.Globalization.NumberFormatInfo> 对象的格式信息的影响。</span><span class="sxs-lookup"><span data-stu-id="ace53-425">The result string is not affected by the formatting information of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span>

<span data-ttu-id="ace53-426">下面的示例使用十六进制数法格式说明符设置 <xref:System.Int32> 值的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-426">The following example formats <xref:System.Int32> values with the hexadecimal format specifier.</span></span>

[!code-cpp[Formatting.Numeric.Standard#9](../../../samples/snippets/cpp/VS_Snippets_CLR/Formatting.Numeric.Standard/cpp/Standard.cpp#9)]
[!code-csharp-interactive[Formatting.Numeric.Standard#9](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Numeric.Standard/cs/Standard.cs#9)]
[!code-vb[Formatting.Numeric.Standard#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Numeric.Standard/vb/Standard.vb#9)]

[<span data-ttu-id="ace53-427">返回表首</span><span class="sxs-lookup"><span data-stu-id="ace53-427">Back to table</span></span>](#table)

<a name="NotesStandardFormatting"></a>

## <a name="notes"></a><span data-ttu-id="ace53-428">说明</span><span class="sxs-lookup"><span data-stu-id="ace53-428">Notes</span></span>

### <a name="control-panel-settings"></a><span data-ttu-id="ace53-429">控制面板设置</span><span class="sxs-lookup"><span data-stu-id="ace53-429">Control Panel Settings</span></span>

<span data-ttu-id="ace53-430">控制面板中 **“区域和语言选项”** 项中的设置会影响由格式化操作产生的结果字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-430">The settings in the **Regional and Language Options** item in Control Panel influence the result string produced by a formatting operation.</span></span> <span data-ttu-id="ace53-431">这些设置用于初始化与当前线程区域性关联的 <xref:System.Globalization.NumberFormatInfo> 对象，当前线程区域性提供用于控制格式设置的值。</span><span class="sxs-lookup"><span data-stu-id="ace53-431">Those settings are used to initialize the <xref:System.Globalization.NumberFormatInfo> object associated with the current thread culture, which provides values used to govern formatting.</span></span> <span data-ttu-id="ace53-432">使用不同设置的计算机将生成不同的结果字符串。</span><span class="sxs-lookup"><span data-stu-id="ace53-432">Computers that use different settings generate different result strings.</span></span>

<span data-ttu-id="ace53-433">此外，如果使用 <xref:System.Globalization.CultureInfo.%23ctor%28System.String%29> 构造函数实例化表示当前系统区域性的新 <xref:System.Globalization.CultureInfo> 对象，通过控制面板中的“区域和语言选项”项创建的任何自定义都会应用于新 <xref:System.Globalization.CultureInfo> 对象。</span><span class="sxs-lookup"><span data-stu-id="ace53-433">In addition, if the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%29> constructor is used to instantiate a new <xref:System.Globalization.CultureInfo> object that represents the same culture as the current system culture, any customizations established by the **Regional and Language Options** item in Control Panel will be applied to the new <xref:System.Globalization.CultureInfo> object.</span></span> <span data-ttu-id="ace53-434">可以使用 <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> 构造函数来创建不会反映系统的自定义项的 <xref:System.Globalization.CultureInfo> 对象。</span><span class="sxs-lookup"><span data-stu-id="ace53-434">You can use the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> constructor to create a <xref:System.Globalization.CultureInfo> object that does not reflect a system's customizations.</span></span>

### <a name="numberformatinfo-properties"></a><span data-ttu-id="ace53-435">NumberFormatInfo 属性</span><span class="sxs-lookup"><span data-stu-id="ace53-435">NumberFormatInfo Properties</span></span>

<span data-ttu-id="ace53-436">格式设置受当前 <xref:System.Globalization.NumberFormatInfo> 对象的属性影响，它由当前线程区域性隐式提供或由调用格式设置的方法的 <xref:System.IFormatProvider> 参数显式提供。</span><span class="sxs-lookup"><span data-stu-id="ace53-436">Formatting is influenced by the properties of the current <xref:System.Globalization.NumberFormatInfo> object, which is provided implicitly by the current thread culture or explicitly by the <xref:System.IFormatProvider> parameter of the method that invokes formatting.</span></span> <span data-ttu-id="ace53-437">为该参数指定 <xref:System.Globalization.NumberFormatInfo> 或 <xref:System.Globalization.CultureInfo> 对象。</span><span class="sxs-lookup"><span data-stu-id="ace53-437">Specify a <xref:System.Globalization.NumberFormatInfo> or <xref:System.Globalization.CultureInfo> object for that parameter.</span></span>

> [!NOTE]
> <span data-ttu-id="ace53-438">有关自定义用于格式化数值的模式或字符串的信息，请参见 <xref:System.Globalization.NumberFormatInfo> 类主题。</span><span class="sxs-lookup"><span data-stu-id="ace53-438">For information about customizing the patterns or strings used in formatting numeric values, see the <xref:System.Globalization.NumberFormatInfo> class topic.</span></span>

### <a name="integral-and-floating-point-numeric-types"></a><span data-ttu-id="ace53-439">整型和浮点型数值类型</span><span class="sxs-lookup"><span data-stu-id="ace53-439">Integral and Floating-Point Numeric Types</span></span>

<span data-ttu-id="ace53-440">对标准数字格式说明符的一些说明涉及到整型或浮点型数值类型。</span><span class="sxs-lookup"><span data-stu-id="ace53-440">Some descriptions of standard numeric format specifiers refer to integral or floating-point numeric types.</span></span> <span data-ttu-id="ace53-441">整型数值类型包括 <xref:System.Byte>、<xref:System.SByte>、<xref:System.Int16>、<xref:System.Int32>、<xref:System.Int64>、<xref:System.UInt16>、<xref:System.UInt32>、<xref:System.UInt64> 和 <xref:System.Numerics.BigInteger>。</span><span class="sxs-lookup"><span data-stu-id="ace53-441">The integral numeric types are <xref:System.Byte>, <xref:System.SByte>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>, and <xref:System.Numerics.BigInteger>.</span></span> <span data-ttu-id="ace53-442">浮点型数值类型有 <xref:System.Decimal>、<xref:System.Single> 和 <xref:System.Double>。</span><span class="sxs-lookup"><span data-stu-id="ace53-442">The floating-point numeric types are <xref:System.Decimal>, <xref:System.Single>, and <xref:System.Double>.</span></span>

### <a name="floating-point-infinities-and-nan"></a><span data-ttu-id="ace53-443">浮点型无穷大和 NaN</span><span class="sxs-lookup"><span data-stu-id="ace53-443">Floating-Point Infinities and NaN</span></span>

<span data-ttu-id="ace53-444">无论格式字符串原来是什么值，只要 <xref:System.Single> 或 <xref:System.Double> 浮点类型的值为正无穷大、负无穷大或非数值 (NaN)，格式字符串就分别是当前适用的 <xref:System.Globalization.NumberFormatInfo.PositiveInfinitySymbol%2A> 对象指定的 <xref:System.Globalization.NumberFormatInfo.NegativeInfinitySymbol%2A>、<xref:System.Globalization.NumberFormatInfo.NaNSymbol%2A> 或 <xref:System.Globalization.NumberFormatInfo> 属性的值。</span><span class="sxs-lookup"><span data-stu-id="ace53-444">Regardless of the format string, if the value of a <xref:System.Single> or <xref:System.Double> floating-point type is positive infinity, negative infinity, or not a number (NaN), the formatted string is the value of the respective <xref:System.Globalization.NumberFormatInfo.PositiveInfinitySymbol%2A>, <xref:System.Globalization.NumberFormatInfo.NegativeInfinitySymbol%2A>, or <xref:System.Globalization.NumberFormatInfo.NaNSymbol%2A> property that is specified by the currently applicable <xref:System.Globalization.NumberFormatInfo> object.</span></span>

## <a name="example"></a><span data-ttu-id="ace53-445">示例</span><span class="sxs-lookup"><span data-stu-id="ace53-445">Example</span></span>

[!INCLUDE[interactive-note](~/includes/csharp-interactive-partial-note.md)]

<span data-ttu-id="ace53-446">下面的示例使用 en-US 区域性和所有标准数字格式说明符设置一个整型数值和一个浮点型数值的格式。</span><span class="sxs-lookup"><span data-stu-id="ace53-446">The following example formats an integral and a floating-point numeric value using the en-US culture and all the standard numeric format specifiers.</span></span> <span data-ttu-id="ace53-447">此示例使用两个特定的数值类型（<xref:System.Double> 和 <xref:System.Int32>），但对于任何一个其他数值基类型（<xref:System.Byte>、<xref:System.SByte>、<xref:System.Int16>、<xref:System.Int32>、<xref:System.Int64>、<xref:System.UInt16>、<xref:System.UInt32>、<xref:System.UInt64>、<xref:System.Numerics.BigInteger>、<xref:System.Decimal> 和 <xref:System.Single>）都将产生类似的结果。</span><span class="sxs-lookup"><span data-stu-id="ace53-447">This example uses two particular numeric types (<xref:System.Double> and <xref:System.Int32>), but would yield similar results for any of the other numeric base types (<xref:System.Byte>, <xref:System.SByte>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>, <xref:System.Numerics.BigInteger>, <xref:System.Decimal>, and <xref:System.Single>).</span></span>

[!code-csharp[system.x.tostring-and-culture#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.X.ToString-and-Culture/cs/xts.cs#FinalExample)]
[!code-vb[system.x.tostring-and-culture#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.X.ToString-and-Culture/vb/xts.vb#1)]

## <a name="see-also"></a><span data-ttu-id="ace53-448">请参阅</span><span class="sxs-lookup"><span data-stu-id="ace53-448">See also</span></span>

- <xref:System.Globalization.NumberFormatInfo>
- [<span data-ttu-id="ace53-449">自定义数字格式字符串</span><span class="sxs-lookup"><span data-stu-id="ace53-449">Custom Numeric Format Strings</span></span>](custom-numeric-format-strings.md)
- [<span data-ttu-id="ace53-450">格式设置类型</span><span class="sxs-lookup"><span data-stu-id="ace53-450">Formatting Types</span></span>](formatting-types.md)
- [<span data-ttu-id="ace53-451">如何：用前导零填充数字</span><span class="sxs-lookup"><span data-stu-id="ace53-451">How to: Pad a Number with Leading Zeros</span></span>](how-to-pad-a-number-with-leading-zeros.md)
- [<span data-ttu-id="ace53-452">复合格式设置</span><span class="sxs-lookup"><span data-stu-id="ace53-452">Composite Formatting</span></span>](composite-formatting.md)
- [<span data-ttu-id="ace53-453">示例：.NET Core WinForms 格式设置实用工具 (C#)</span><span class="sxs-lookup"><span data-stu-id="ace53-453">Sample: .NET Core WinForms Formatting Utility (C#)</span></span>](/samples/dotnet/samples/windowsforms-formatting-utility-cs)
- [<span data-ttu-id="ace53-454">示例：.NET Core WinForms 格式设置实用工具 (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="ace53-454">Sample: .NET Core WinForms Formatting Utility (Visual Basic)</span></span>](/samples/dotnet/samples/windowsforms-formatting-utility-vb)
