---
title: XslCompiledTransform 类的输出选项
ms.date: 03/30/2017
ms.assetid: 91ce8cba-386c-411e-bb38-0891a0393c0a
ms.openlocfilehash: 777324e81ac809866dab68259dceca89c6091a3c
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/18/2020
ms.locfileid: "94830085"
---
# <a name="output-options-on-the-xslcompiledtransform-class"></a><span data-ttu-id="2879b-102">XslCompiledTransform 类的输出选项</span><span class="sxs-lookup"><span data-stu-id="2879b-102">Output Options on the XslCompiledTransform Class</span></span>
<span data-ttu-id="2879b-103">本主题讨论可用的 XSLT 输出选项。</span><span class="sxs-lookup"><span data-stu-id="2879b-103">This topic discusses the available XSLT output options.</span></span> <span data-ttu-id="2879b-104">可以在样式表中指定输出选项，或在 <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> 方法上指定输出选项。</span><span class="sxs-lookup"><span data-stu-id="2879b-104">You can specify output options in the style sheet, or on the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> method.</span></span>  
  
## <a name="xsloutput-element"></a><span data-ttu-id="2879b-105">xsl:output 元素</span><span class="sxs-lookup"><span data-stu-id="2879b-105">xsl:output Element</span></span>  
 <span data-ttu-id="2879b-106">`xsl:output` 元素指定输出选项。</span><span class="sxs-lookup"><span data-stu-id="2879b-106">The `xsl:output` element specifies options for the output.</span></span> <span data-ttu-id="2879b-107"><xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> 方法指定的输出类型确定 `xsl:output` 选项的行为。</span><span class="sxs-lookup"><span data-stu-id="2879b-107">The output type specified by the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> method determines the behavior of the `xsl:output` options.</span></span>  
  
 <span data-ttu-id="2879b-108">下表说明当输出类型为流或 `xsl:output` 时，<xref:System.IO.TextWriter> 元素的每个可用属性的行为。</span><span class="sxs-lookup"><span data-stu-id="2879b-108">The following table describes the behavior for each of the attributes available on the `xsl:output` element when the output type is a stream or a <xref:System.IO.TextWriter>.</span></span>  
  
|<span data-ttu-id="2879b-109">特性名</span><span class="sxs-lookup"><span data-stu-id="2879b-109">Attribute name</span></span>|<span data-ttu-id="2879b-110">行为</span><span class="sxs-lookup"><span data-stu-id="2879b-110">Behavior</span></span>|  
|--------------------|--------------|  
|<span data-ttu-id="2879b-111">method</span><span class="sxs-lookup"><span data-stu-id="2879b-111">method</span></span>|<span data-ttu-id="2879b-112">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-112">Supported.</span></span>|  
|<span data-ttu-id="2879b-113">version</span><span class="sxs-lookup"><span data-stu-id="2879b-113">version</span></span>|<span data-ttu-id="2879b-114">已忽略。</span><span class="sxs-lookup"><span data-stu-id="2879b-114">Ignored.</span></span> <span data-ttu-id="2879b-115">对于 XML，版本始终是 1.0，对于 HTML，版本始终是 4.0。</span><span class="sxs-lookup"><span data-stu-id="2879b-115">The version is always 1.0 for XML and 4.0 for HTML.</span></span>|  
|<span data-ttu-id="2879b-116">encoding</span><span class="sxs-lookup"><span data-stu-id="2879b-116">encoding</span></span>|<span data-ttu-id="2879b-117">在输出到 <xref:System.IO.TextWriter> 时忽略。</span><span class="sxs-lookup"><span data-stu-id="2879b-117">Ignored when outputting to a <xref:System.IO.TextWriter>.</span></span> <span data-ttu-id="2879b-118">使用 <xref:System.IO.TextWriter.Encoding%2A?displayProperty=nameWithType> 属性取代。</span><span class="sxs-lookup"><span data-stu-id="2879b-118">The <xref:System.IO.TextWriter.Encoding%2A?displayProperty=nameWithType> property is used instead.</span></span>|  
|<span data-ttu-id="2879b-119">omit-xml-declaration</span><span class="sxs-lookup"><span data-stu-id="2879b-119">omit-xml-declaration</span></span>|<span data-ttu-id="2879b-120">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-120">Supported.</span></span>|  
|<span data-ttu-id="2879b-121">独立</span><span class="sxs-lookup"><span data-stu-id="2879b-121">standalone</span></span>|<span data-ttu-id="2879b-122">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-122">Supported.</span></span>|  
|<span data-ttu-id="2879b-123">doctype-public</span><span class="sxs-lookup"><span data-stu-id="2879b-123">doctype-public</span></span>|<span data-ttu-id="2879b-124">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-124">Supported.</span></span>|  
|<span data-ttu-id="2879b-125">doctype-system</span><span class="sxs-lookup"><span data-stu-id="2879b-125">doctype-system</span></span>|<span data-ttu-id="2879b-126">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-126">Supported.</span></span>|  
|<span data-ttu-id="2879b-127">cdata-section-elements</span><span class="sxs-lookup"><span data-stu-id="2879b-127">cdata-section-elements</span></span>|<span data-ttu-id="2879b-128">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-128">Supported.</span></span>|  
|<span data-ttu-id="2879b-129">indent</span><span class="sxs-lookup"><span data-stu-id="2879b-129">indent</span></span>|<span data-ttu-id="2879b-130">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-130">Supported.</span></span>|  
|<span data-ttu-id="2879b-131">media-type</span><span class="sxs-lookup"><span data-stu-id="2879b-131">media-type</span></span>|<span data-ttu-id="2879b-132">支持。</span><span class="sxs-lookup"><span data-stu-id="2879b-132">Supported.</span></span>|  
  
#### <a name="sending-output-to-an-xmlwriter"></a><span data-ttu-id="2879b-133">将输出发送到 XmlWriter</span><span class="sxs-lookup"><span data-stu-id="2879b-133">Sending Output to an XmlWriter</span></span>  
 <span data-ttu-id="2879b-134">如果样式表使用 `xsl:output` 元素并且输出类型为 <xref:System.Xml.XmlWriter> 对象，在创建 <xref:System.Xml.Xsl.XslCompiledTransform.OutputSettings%2A?displayProperty=nameWithType> 对象时应使用 <xref:System.Xml.XmlWriter> 属性。</span><span class="sxs-lookup"><span data-stu-id="2879b-134">If your style sheet uses the `xsl:output` element and the output type is an <xref:System.Xml.XmlWriter> object, you should use the <xref:System.Xml.Xsl.XslCompiledTransform.OutputSettings%2A?displayProperty=nameWithType> property when you create the <xref:System.Xml.XmlWriter> object.</span></span> <span data-ttu-id="2879b-135"><xref:System.Xml.Xsl.XslCompiledTransform.OutputSettings%2A?displayProperty=nameWithType> 属性返回包含从已编译样式表的 <xref:System.Xml.XmlWriterSettings> 元素派生的信息的 `xsl:output` 对象。</span><span class="sxs-lookup"><span data-stu-id="2879b-135">The <xref:System.Xml.Xsl.XslCompiledTransform.OutputSettings%2A?displayProperty=nameWithType> property returns an <xref:System.Xml.XmlWriterSettings> object that contains information derived from the `xsl:output` element of a compiled style sheet.</span></span> <span data-ttu-id="2879b-136">此 <xref:System.Xml.XmlWriterSettings> 对象可以传递给 <xref:System.Xml.XmlWriter.Create%2A?displayProperty=nameWithType> 方法，以使用正确的设置创建 <xref:System.Xml.XmlWriter> 对象。</span><span class="sxs-lookup"><span data-stu-id="2879b-136">This <xref:System.Xml.XmlWriterSettings> object can be passed to the <xref:System.Xml.XmlWriter.Create%2A?displayProperty=nameWithType> method to create an <xref:System.Xml.XmlWriter> object with the correct settings.</span></span>  
  
## <a name="output-types"></a><span data-ttu-id="2879b-137">输出类型</span><span class="sxs-lookup"><span data-stu-id="2879b-137">Output Types</span></span>  
 <span data-ttu-id="2879b-138">下表说明 <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> 命令的可用输出类型。</span><span class="sxs-lookup"><span data-stu-id="2879b-138">The following list describes the output types available on the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A> command.</span></span>  
  
#### <a name="xmlwriter"></a><span data-ttu-id="2879b-139">XmlWriter</span><span class="sxs-lookup"><span data-stu-id="2879b-139">XmlWriter</span></span>  
 <span data-ttu-id="2879b-140"><xref:System.Xml.XmlWriter> 类输出 XML 流或文件。</span><span class="sxs-lookup"><span data-stu-id="2879b-140">The <xref:System.Xml.XmlWriter> class writes out XML streams or files.</span></span> <span data-ttu-id="2879b-141">可以使用 <xref:System.Xml.XmlWriter> 类指定 <xref:System.Xml.XmlWriterSettings> 对象上要支持的功能，包括输出选项。</span><span class="sxs-lookup"><span data-stu-id="2879b-141">You can specify the features to support on the <xref:System.Xml.XmlWriter> object, including output options, by using the <xref:System.Xml.XmlWriterSettings> class.</span></span> <span data-ttu-id="2879b-142"><xref:System.Xml.XmlWriter> 类是 <xref:System.Xml> 框架必不可少的一个部分。</span><span class="sxs-lookup"><span data-stu-id="2879b-142">The <xref:System.Xml.XmlWriter> class is an integral part of the <xref:System.Xml> framework.</span></span> <span data-ttu-id="2879b-143">使用此输出类型可以将输出结果通过管道发送给另一个 XML 进程。</span><span class="sxs-lookup"><span data-stu-id="2879b-143">Use this output type to pipeline the output results into another XML process.</span></span>  
  
#### <a name="string"></a><span data-ttu-id="2879b-144">String</span><span class="sxs-lookup"><span data-stu-id="2879b-144">String</span></span>  
 <span data-ttu-id="2879b-145">使用此输出类型可以指定输出文件的 URI。</span><span class="sxs-lookup"><span data-stu-id="2879b-145">Use this output type to specify the URI of the output file.</span></span>  
  
#### <a name="stream"></a><span data-ttu-id="2879b-146">流</span><span class="sxs-lookup"><span data-stu-id="2879b-146">Stream</span></span>  
 <span data-ttu-id="2879b-147">流是字节序列的抽象，例如文件、输入/输出设备、进程中通信管道或 TCP/IP 套接字。</span><span class="sxs-lookup"><span data-stu-id="2879b-147">A stream is an abstraction of a sequence of bytes, such as a file, an input/output device, an inter-process communication pipe, or a TCP/IP socket.</span></span> <span data-ttu-id="2879b-148"><xref:System.IO.Stream> 类及其派生类提供这些不同类型的输入和输出的通用视图，使程序员与操作系统和基础设备的具体细节相隔离。</span><span class="sxs-lookup"><span data-stu-id="2879b-148">The <xref:System.IO.Stream> class and its derived classes provide a generic view of these different types of input and output, isolating the programmer from the specific details of the operating system and the underlying devices.</span></span>  
  
 <span data-ttu-id="2879b-149">使用此输出类型可以将数据发送到 <xref:System.IO.FileStream>、<xref:System.IO.MemoryStream> 或输出流 (`Response.OutputStream`)。</span><span class="sxs-lookup"><span data-stu-id="2879b-149">Use this output type to send data to a <xref:System.IO.FileStream>, <xref:System.IO.MemoryStream>, or an output stream (`Response.OutputStream`).</span></span>  
  
#### <a name="textwriter"></a><span data-ttu-id="2879b-150">TextWriter</span><span class="sxs-lookup"><span data-stu-id="2879b-150">TextWriter</span></span>  
 <span data-ttu-id="2879b-151"><xref:System.IO.TextWriter> 输出序列字符。</span><span class="sxs-lookup"><span data-stu-id="2879b-151">The <xref:System.IO.TextWriter> writes sequential characters.</span></span> <span data-ttu-id="2879b-152">此输出类型在 <xref:System.IO.StringWriter> 和 <xref:System.IO.StreamWriter> 类中实现，分别将字符输出到字符串或流。</span><span class="sxs-lookup"><span data-stu-id="2879b-152">It is implemented in the <xref:System.IO.StringWriter> and <xref:System.IO.StreamWriter> classes, which write characters to strings or streams, respectively.</span></span> <span data-ttu-id="2879b-153">如果希望输出到字符串，请使用此输出类型。</span><span class="sxs-lookup"><span data-stu-id="2879b-153">Use this output type when you want to output to a string.</span></span>  
  
## <a name="notes"></a><span data-ttu-id="2879b-154">说明</span><span class="sxs-lookup"><span data-stu-id="2879b-154">Notes</span></span>  
  
- <span data-ttu-id="2879b-155">在写出空标记时，会在元素名的最后一个字符与反斜杠之间写入一个空格，例如 `<myElement />`。</span><span class="sxs-lookup"><span data-stu-id="2879b-155">When writing out empty tags, a space is written between the last character of the element name and the backslash, `<myElement />` for example.</span></span> <span data-ttu-id="2879b-156">这样，较旧的浏览器可以正确地显示生成的 HTML 页面。</span><span class="sxs-lookup"><span data-stu-id="2879b-156">This lets older browsers display the generated HTML pages correctly.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2879b-157">请参阅</span><span class="sxs-lookup"><span data-stu-id="2879b-157">See also</span></span>

- [<span data-ttu-id="2879b-158">XSLT 转换</span><span class="sxs-lookup"><span data-stu-id="2879b-158">XSLT Transformations</span></span>](xslt-transformations.md)
